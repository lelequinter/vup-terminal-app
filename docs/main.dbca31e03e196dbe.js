"use strict";(self.webpackChunkangular_boilerplate=self.webpackChunkangular_boilerplate||[]).push([[179],{3412:(_n,nt,z)=>{z.d(nt,{nm:()=>Dr});var _e,Ee,Ft,Rt,Pt,D=z(710),Ae=(z(4650),z(3692),z(8140),z(5861)),Ie=z(9681),ge=z(4859),se=z(2090),Re=z(1877);const un=new Map,_t={activated:!1,tokenObservers:[]},We={initialized:!1,enabled:!1};function at(Ge){return un.get(Ge)||Object.assign({},_t)}function pn(){return We}const st="https://content-firebaseappcheck.googleapis.com/v1",ln="exchangeDebugToken",Vn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class hn{constructor(Be,Oe,At,Jt,bn){if(this.operation=Be,this.retryPolicy=Oe,this.getWaitDuration=At,this.lowerBound=Jt,this.upperBound=bn,this.pending=null,this.nextErrorWaitInterval=Jt,Jt>bn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Be){var Oe=this;return(0,Ae.Z)(function*(){Oe.stop();try{Oe.pending=new se.BH,yield function Rr(Ge){return new Promise(Be=>{setTimeout(Be,Ge)})}(Oe.getNextRun(Be)),Oe.pending.resolve(),yield Oe.pending.promise,Oe.pending=new se.BH,yield Oe.operation(),Oe.pending.resolve(),yield Oe.pending.promise,Oe.process(!0).catch(()=>{})}catch(At){Oe.retryPolicy(At)?Oe.process(!1).catch(()=>{}):Oe.stop()}})()}getNextRun(Be){if(Be)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Oe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Oe}}}const hr=new se.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ut(Ge){if(!at(Ge).activated)throw hr.create("use-before-activation",{appName:Ge.name})}function Ht(Ge,Be){return(_e=_e||(0,Ae.Z)(function*({url:Oe,body:At},Jt){const bn={"Content-Type":"application/json"},cr=Jt.getImmediate({optional:!0});if(cr){const wr=yield cr.getHeartbeatsHeader();wr&&(bn["X-Firebase-Client"]=wr)}const yr={method:"POST",body:JSON.stringify(At),headers:bn};let fi,Sr;try{fi=yield fetch(Oe,yr)}catch(wr){throw hr.create("fetch-network-error",{originalErrorMessage:wr?.message})}if(200!==fi.status)throw hr.create("fetch-status-error",{httpStatus:fi.status});try{Sr=yield fi.json()}catch(wr){throw hr.create("fetch-parse-error",{originalErrorMessage:wr?.message})}const Fi=Sr.ttl.match(/^([\d.]+)(s)$/);if(!Fi||!Fi[2]||isNaN(Number(Fi[1])))throw hr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Sr.ttl}`});const br=1e3*Number(Fi[1]),Wr=Date.now();return{token:Sr.token,expireTimeMillis:Wr+br,issuedAtTimeMillis:Wr}})).apply(this,arguments)}function In(Ge,Be){const{projectId:Oe,appId:At,apiKey:Jt}=Ge.options;return{url:`${st}/projects/${Oe}/apps/${At}:${ln}?key=${Jt}`,body:{debug_token:Be}}}const ri="firebase-app-check-database",jt=1,Kn="firebase-app-check-store";let fr=null;function $r(Ge,Be){return(Ee=Ee||(0,Ae.Z)(function*(Oe,At){const bn=(yield function Or(){return fr||(fr=new Promise((Ge,Be)=>{try{const Oe=indexedDB.open(ri,jt);Oe.onsuccess=At=>{Ge(At.target.result)},Oe.onerror=At=>{var Jt;Be(hr.create("storage-open",{originalErrorMessage:null===(Jt=At.target.error)||void 0===Jt?void 0:Jt.message}))},Oe.onupgradeneeded=At=>{0===At.oldVersion&&At.target.result.createObjectStore(Kn,{keyPath:"compositeKey"})}}catch(Oe){Be(hr.create("storage-open",{originalErrorMessage:Oe?.message}))}}),fr)}()).transaction(Kn,"readwrite"),yr=bn.objectStore(Kn).put({compositeKey:Oe,value:At});return new Promise((fi,Sr)=>{yr.onsuccess=Fi=>{fi()},bn.onerror=Fi=>{var br;Sr(hr.create("storage-set",{originalErrorMessage:null===(br=Fi.target.error)||void 0===br?void 0:br.message}))}})})).apply(this,arguments)}const Gr=new Re.Yd("@firebase/app-check");function $i(Ge,Be){return(0,se.hl)()?function Tr(Ge,Be){return $r(function Nr(Ge){return`${Ge.options.appId}-${Ge.name}`}(Ge),Be)}(Ge,Be).catch(Oe=>{Gr.warn(`Failed to write token to IndexedDB. Error: ${Oe}`)}):Promise.resolve()}function Ar(){return pn().enabled}function ar(){return(Ft=Ft||(0,Ae.Z)(function*(){const Ge=pn();if(Ge.enabled&&Ge.token)return Ge.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const tn={error:"UNKNOWN_ERROR"};function ei(Ge){return se.US.encodeString(JSON.stringify(Ge),!1)}function ti(Ge){return(Rt=Rt||(0,Ae.Z)(function*(Be,Oe=!1){const At=Be.app;ut(At);const Jt=at(At);let cr,bn=Jt.token;if(bn&&!Vt(bn)&&(Jt.token=void 0,bn=void 0),!bn){const Sr=yield Jt.cachedTokenPromise;Sr&&(Vt(Sr)?bn=Sr:yield $i(At,void 0))}if(!Oe&&bn&&Vt(bn))return{token:bn.token};let fi,yr=!1;if(Ar()){Jt.exchangeTokenPromise||(Jt.exchangeTokenPromise=Ht(In(At,yield ar()),Be.heartbeatServiceProvider).finally(()=>{Jt.exchangeTokenPromise=void 0}),yr=!0);const Sr=yield Jt.exchangeTokenPromise;return yield $i(At,Sr),Jt.token=Sr,{token:Sr.token}}try{Jt.exchangeTokenPromise||(Jt.exchangeTokenPromise=Jt.provider.getToken().finally(()=>{Jt.exchangeTokenPromise=void 0}),yr=!0),bn=yield at(At).exchangeTokenPromise}catch(Sr){"appCheck/throttled"===Sr.code?Gr.warn(Sr.message):Gr.error(Sr),cr=Sr}return bn?cr?fi=Vt(bn)?{token:bn.token,internalError:cr}:Bn(cr):(fi={token:bn.token},Jt.token=bn,yield $i(At,bn)):fi=Bn(cr),yr&&function Gt(Ge,Be){const Oe=at(Ge).tokenObservers;for(const At of Oe)try{"EXTERNAL"===At.type&&null!=Be.error?At.error(Be.error):At.next(Be)}catch{}}(At,fi),fi})).apply(this,arguments)}function Nn(Ge,Be){const Oe=at(Ge),At=Oe.tokenObservers.filter(Jt=>Jt.next!==Be);0===At.length&&Oe.tokenRefresher&&Oe.tokenRefresher.isRunning()&&Oe.tokenRefresher.stop(),Oe.tokenObservers=At}function Ke(Ge){const{app:Be}=Ge,Oe=at(Be);let At=Oe.tokenRefresher;At||(At=function wt(Ge){const{app:Be}=Ge;return new hn((0,Ae.Z)(function*(){let At;if(At=at(Be).token?yield ti(Ge,!0):yield ti(Ge),At.error)throw At.error;if(At.internalError)throw At.internalError}),()=>!0,()=>{const Oe=at(Be);if(Oe.token){let At=Oe.token.issuedAtTimeMillis+.5*(Oe.token.expireTimeMillis-Oe.token.issuedAtTimeMillis)+3e5;return At=Math.min(At,Oe.token.expireTimeMillis-3e5),Math.max(0,At-Date.now())}return 0},Vn.RETRIAL_MIN_WAIT,Vn.RETRIAL_MAX_WAIT)}(Ge),Oe.tokenRefresher=At),!At.isRunning()&&Oe.isTokenAutoRefreshEnabled&&At.start()}function Vt(Ge){return Ge.expireTimeMillis-Date.now()>0}function Bn(Ge){return{token:ei(tn),error:Ge}}class Rn{constructor(Be,Oe){this.app=Be,this.heartbeatServiceProvider=Oe}_delete(){const{tokenObservers:Be}=at(this.app);for(const Oe of Be)Nn(this.app,Oe.next);return Promise.resolve()}}const Zi="app-check-internal";!function Vi(){(0,Ie.Xd)(new ge.wA("app-check",Ge=>function Tt(Ge,Be){return new Rn(Ge,Be)}(Ge.getProvider("app").getImmediate(),Ge.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ge,Be,Oe)=>{Ge.getProvider(Zi).initialize()})),(0,Ie.Xd)(new ge.wA(Zi,Ge=>function Ne(Ge){return{getToken:Be=>ti(Ge,Be),getLimitedUseToken:()=>function Fr(Ge){return(Pt=Pt||(0,Ae.Z)(function*(Be){const Oe=Be.app;ut(Oe);const{provider:At}=at(Oe);if(Ar()){const Jt=yield ar(),{token:bn}=yield Ht(In(Oe,Jt),Be.heartbeatServiceProvider);return{token:bn}}{const{token:Jt}=yield At.getToken();return{token:Jt}}})).apply(this,arguments)}(Ge),addTokenListener:Be=>function Br(Ge,Be,Oe,At){const{app:Jt}=Ge,bn=at(Jt);if(bn.tokenObservers=[...bn.tokenObservers,{next:Oe,error:At,type:Be}],bn.token&&Vt(bn.token)){const yr=bn.token;Promise.resolve().then(()=>{Oe({token:yr.token}),Ke(Ge)}).catch(()=>{})}bn.cachedTokenPromise.then(()=>Ke(Ge))}(Ge,"INTERNAL",Be),removeTokenListener:Be=>Nn(Ge.app,Be)}}(Ge.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ie.KN)("@firebase/app-check","0.8.0")}();class Dr{constructor(){return(0,D.vb)("app-check")}}typeof window<"u"&&window},3692:(_n,nt,z)=>{z.d(nt,{Ot:()=>De,ZF:()=>Pt,hX:()=>vt,z6:()=>Ae});var D=z(8140),J=z(4650),de=z(710);class De{constructor(We){return We}}class Ae{constructor(){return(0,D.C6)()}}const se=new J.OlP("angularfire2._apps"),Re={provide:De,useFactory:function ge(_t){return _t&&1===_t.length?_t[0]:new De((0,D.Mq)())},deps:[[new J.FiY,se]]},_e={provide:Ae,deps:[[new J.FiY,se]]};function Ee(_t){return(We,at)=>{const xt=We.runOutsideAngular(()=>_t(at));return new De(xt)}}let Ye=(()=>{class _t{constructor(at){(0,D.KN)("angularfire",de.q4.full,"core"),(0,D.KN)("angularfire",de.q4.full,"app"),(0,D.KN)("angular",J.q4F.full,at.toString())}}return _t.\u0275fac=function(at){return new(at||_t)(J.LFG(J.Lbi))},_t.\u0275mod=J.oAB({type:_t}),_t.\u0275inj=J.cJS({providers:[Re,_e]}),_t})();function vt(_t,...We){return{ngModule:Ye,providers:[{provide:se,useFactory:Ee(_t),multi:!0,deps:[J.R0b,J.zs3,de.HU,...We]}]}}const Pt=(0,de.u3)(D.ZF,!0)},3441:(_n,nt,z)=>{z.d(nt,{gx:()=>Il,dh:()=>Kl,fD:()=>Kd,Xb:()=>Ll,v0:()=>jh,AR:()=>Of,w$:()=>Vf,LS:()=>nl,e5:()=>xu,rh:()=>Xr});var Ye,vt,Pt,Mt,un,_t,We,at,xt,pn,D=z(710),J=z(4650),de=z(3692),De=z(8140),Ae=z(3412),Ie=z(5861),ge=z(2090),se=z(9681),Re=z(1877),_e=z(7582),Ee=z(4859);const Hn=function cn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Gi=new ge.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wo=new Re.Yd("@firebase/auth");function Wt(B,...f){Wo.logLevel<=Re.in.ERROR&&Wo.error(`Auth (${se.Jn}): ${B}`,...f)}function Ln(B,...f){throw nn(B,...f)}function _r(B,...f){return nn(B,...f)}function nn(B,...f){if("string"!=typeof B){const y=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=B.name),B._errorFactory.create(y,...b)}return Gi.create(B,...f)}function on(B,f,...y){if(!B)throw nn(f,...y)}function Wn(B){const f="INTERNAL ASSERTION FAILED: "+B;throw Wt(f),new Error(f)}function Ge(B,f){B||Wn(f)}function At(){var B;return typeof self<"u"&&(null===(B=self.location)||void 0===B?void 0:B.protocol)||null}class cr{constructor(f,y){this.shortDelay=f,this.longDelay=y,Ge(y>f,"Short delay should be less than long delay!"),this.isMobile=(0,ge.uI)()||(0,ge.b$)()}get(){return function Jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Oe(){return"http:"===At()||"https:"===At()}()||(0,ge.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class fi{static initialize(f,y,b){this.fetchImpl=f,y&&(this.headersImpl=y),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Fi=new cr(3e4,6e4);function Wr(B,f,y,b){return(Ye=Ye||(0,Ie.Z)(function*(ne,ce,Se,$e,ot={}){return wr(ne,ot,(0,Ie.Z)(function*(){let St={},sr={};$e&&("GET"===ce?sr=$e:St={body:JSON.stringify($e)});const dr=(0,ge.xO)(Object.assign({key:ne.config.apiKey},sr)).slice(1),gr=yield ne._getAdditionalHeaders();return gr["Content-Type"]="application/json",ne.languageCode&&(gr["X-Firebase-Locale"]=ne.languageCode),fi.fetch()(No(ne,ne.config.apiHost,Se,dr),Object.assign({method:ce,headers:gr,referrerPolicy:"no-referrer"},St))}))})).apply(this,arguments)}function wr(B,f,y){return(vt=vt||(0,Ie.Z)(function*(b,ne,ce){b._canInitEmulator=!1;const Se=Object.assign(Object.assign({},Sr),ne);try{const $e=new _o(b),ot=yield Promise.race([ce(),$e.promise]);$e.clearNetworkTimeout();const St=yield ot.json();if("needConfirmation"in St)throw ys(b,"account-exists-with-different-credential",St);if(ot.ok&&!("errorMessage"in St))return St;{const sr=ot.ok?St.errorMessage:St.error.message,[dr,gr]=sr.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dr)throw ys(b,"credential-already-in-use",St);if("EMAIL_EXISTS"===dr)throw ys(b,"email-already-in-use",St);if("USER_DISABLED"===dr)throw ys(b,"user-disabled",St);const Ki=Se[dr]||dr.toLowerCase().replace(/[_\s]+/g,"-");if(gr)throw function si(B,f,y){const b=Object.assign(Object.assign({},Hn()),{[f]:y});return new ge.LL("auth","Firebase",b).create(f,{appName:B.name})}(b,Ki,gr);Ln(b,Ki)}}catch($e){if($e instanceof ge.ZR)throw $e;Ln(b,"network-request-failed",{message:String($e)})}})).apply(this,arguments)}function No(B,f,y,b){const ne=`${f}${y}?${b}`;return B.config.emulator?function yr(B,f){Ge(B.emulator,"Emulator should always be set here");const{url:y}=B.emulator;return f?`${y}${f.startsWith("/")?f.slice(1):f}`:y}(B.config,ne):`${B.config.apiScheme}://${ne}`}class _o{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((y,b)=>{this.timer=setTimeout(()=>b(_r(this.auth,"network-request-failed")),Fi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ys(B,f,y){const b={appName:B.name};y.email&&(b.email=y.email),y.phoneNumber&&(b.phoneNumber=y.phoneNumber);const ne=_r(B,f,b);return ne.customData._tokenResponse=y,ne}function pi(B){if(B)try{const f=new Date(Number(B));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Mi(B){return 1e3*Number(B)}function Li(B){const[f,y,b]=B.split(".");if(void 0===f||void 0===y||void 0===b)return Wt("JWT malformed, contained fewer than 3 sections"),null;try{const ne=(0,ge.tV)(y);return ne?JSON.parse(ne):(Wt("Failed to decode base64 JWT payload"),null)}catch(ne){return Wt("Caught error parsing JWT payload as JSON",ne?.toString()),null}}function wo(B,f){return(_t=_t||(0,Ie.Z)(function*(y,b,ne=!1){if(ne)return b;try{return yield b}catch(ce){throw ce instanceof ge.ZR&&function Ko({code:B}){return"auth/user-disabled"===B||"auth/user-token-expired"===B}(ce)&&y.auth.currentUser===y&&(yield y.auth.signOut()),ce}})).apply(this,arguments)}class rs{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var y;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const ne=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,ne)}}schedule(f=!1){var y=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,Ie.Z)(function*(){yield y.iteration()}),b)}iteration(){var f=this;return(0,Ie.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&f.schedule(!0))}f.schedule()})()}}class Eo{constructor(f,y){this.createdAt=f,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=pi(this.lastLoginAt),this.creationTime=pi(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _s(B){return(We=We||(0,Ie.Z)(function*(f){var y;const b=f.auth,ne=yield f.getIdToken(),ce=yield wo(f,function Er(B,f){return(Mt=Mt||(0,Ie.Z)(function*(y,b){return Wr(y,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}(b,{idToken:ne}));on(ce?.users.length,b,"internal-error");const Se=ce.users[0];f._notifyReloadListener(Se);const $e=null!==(y=Se.providerUserInfo)&&void 0!==y&&y.length?function ea(B){return B.map(f=>{var{providerId:y}=f,b=(0,_e._T)(f,["providerId"]);return{providerId:y,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(Se.providerUserInfo):[],ot=function Ps(B,f){return[...B.filter(b=>!f.some(ne=>ne.providerId===b.providerId)),...f]}(f.providerData,$e),dr=!!f.isAnonymous&&!(f.email&&Se.passwordHash||ot?.length),gr={uid:Se.localId,displayName:Se.displayName||null,photoURL:Se.photoUrl||null,email:Se.email||null,emailVerified:Se.emailVerified||!1,phoneNumber:Se.phoneNumber||null,tenantId:Se.tenantId||null,providerData:ot,metadata:new Eo(Se.createdAt,Se.lastLoginAt),isAnonymous:dr};Object.assign(f,gr)})).apply(this,arguments)}class ks{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){on(f.idToken,"internal-error"),on(typeof f.idToken<"u","internal-error"),on(typeof f.refreshToken<"u","internal-error");const y="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Hr(B){const f=Li(B);return on(f,"internal-error"),on(typeof f.exp<"u","internal-error"),on(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,y)}getToken(f,y=!1){var b=this;return(0,Ie.Z)(function*(){return on(!b.accessToken||b.refreshToken,f,"user-token-expired"),y||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,y){var b=this;return(0,Ie.Z)(function*(){const{accessToken:ne,refreshToken:ce,expiresIn:Se}=yield function Vs(B,f){return(xt=xt||(0,Ie.Z)(function*(y,b){const ne=yield wr(y,{},(0,Ie.Z)(function*(){const ce=(0,ge.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:Se,apiKey:$e}=y.config,ot=No(y,Se,"/v1/token",`key=${$e}`),St=yield y._getAdditionalHeaders();return St["Content-Type"]="application/x-www-form-urlencoded",fi.fetch()(ot,{method:"POST",headers:St,body:ce})}));return{accessToken:ne.access_token,expiresIn:ne.expires_in,refreshToken:ne.refresh_token}})).apply(this,arguments)}(f,y);b.updateTokensAndExpiration(ne,ce,Number(Se))})()}updateTokensAndExpiration(f,y,b){this.refreshToken=y||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,y){const{refreshToken:b,accessToken:ne,expirationTime:ce}=y,Se=new ks;return b&&(on("string"==typeof b,"internal-error",{appName:f}),Se.refreshToken=b),ne&&(on("string"==typeof ne,"internal-error",{appName:f}),Se.accessToken=ne),ce&&(on("number"==typeof ce,"internal-error",{appName:f}),Se.expirationTime=ce),Se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new ks,this.toJSON())}_performRefresh(){return Wn("not implemented")}}function Fo(B,f){on("string"==typeof B||typeof B>"u","internal-error",{appName:f})}class As{constructor(f){var{uid:y,auth:b,stsTokenManager:ne}=f,ce=(0,_e._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=b,this.stsTokenManager=ne,this.accessToken=ne.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new Eo(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(f){var y=this;return(0,Ie.Z)(function*(){const b=yield wo(y,y.stsTokenManager.getToken(y.auth,f));return on(b,y.auth,"internal-error"),y.accessToken!==b&&(y.accessToken=b,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),b})()}getIdTokenResult(f){return function Lr(B){return(un=un||(0,Ie.Z)(function*(f,y=!1){const b=(0,ge.m9)(f),ne=yield b.getIdToken(y),ce=Li(ne);on(ce&&ce.exp&&ce.auth_time&&ce.iat,b.auth,"internal-error");const Se="object"==typeof ce.firebase?ce.firebase:void 0,$e=Se?.sign_in_provider;return{claims:ce,token:ne,authTime:pi(Mi(ce.auth_time)),issuedAtTime:pi(Mi(ce.iat)),expirationTime:pi(Mi(ce.exp)),signInProvider:$e||null,signInSecondFactor:Se?.sign_in_second_factor||null}})).apply(this,arguments)}(this,f)}reload(){return function _i(B){return(at=at||(0,Ie.Z)(function*(f){const y=(0,ge.m9)(f);yield _s(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}(this)}_assign(f){this!==f&&(on(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(y=>Object.assign({},y)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const y=new As(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(f){on(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,y=!1){var b=this;return(0,Ie.Z)(function*(){let ne=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),ne=!0),y&&(yield _s(b)),yield b.auth._persistUserIfCurrent(b),ne&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,Ie.Z)(function*(){const y=yield f.getIdToken();return yield wo(f,function Ji(B,f){return(Pt=Pt||(0,Ie.Z)(function*(y,b){return Wr(y,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}(f.auth,{idToken:y})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,y){var b,ne,ce,Se,$e,ot,St,sr;const dr=null!==(b=y.displayName)&&void 0!==b?b:void 0,gr=null!==(ne=y.email)&&void 0!==ne?ne:void 0,Ki=null!==(ce=y.phoneNumber)&&void 0!==ce?ce:void 0,qs=null!==(Se=y.photoURL)&&void 0!==Se?Se:void 0,Ul=null!==($e=y.tenantId)&&void 0!==$e?$e:void 0,gl=null!==(ot=y._redirectEventId)&&void 0!==ot?ot:void 0,Dl=null!==(St=y.createdAt)&&void 0!==St?St:void 0,Sl=null!==(sr=y.lastLoginAt)&&void 0!==sr?sr:void 0,{uid:th,emailVerified:Wh,isAnonymous:Ac,providerData:jl,stsTokenManager:Mu}=y;on(th&&Mu,f,"internal-error");const cd=ks.fromJSON(this.name,Mu);on("string"==typeof th,f,"internal-error"),Fo(dr,f.name),Fo(gr,f.name),on("boolean"==typeof Wh,f,"internal-error"),on("boolean"==typeof Ac,f,"internal-error"),Fo(Ki,f.name),Fo(qs,f.name),Fo(Ul,f.name),Fo(gl,f.name),Fo(Dl,f.name),Fo(Sl,f.name);const su=new As({uid:th,auth:f,email:gr,emailVerified:Wh,displayName:dr,isAnonymous:Ac,photoURL:qs,phoneNumber:Ki,tenantId:Ul,stsTokenManager:cd,createdAt:Dl,lastLoginAt:Sl});return jl&&Array.isArray(jl)&&(su.providerData=jl.map(nh=>Object.assign({},nh))),gl&&(su._redirectEventId=gl),su}static _fromIdTokenResponse(f,y,b=!1){return(0,Ie.Z)(function*(){const ne=new ks;ne.updateFromServerResponse(y);const ce=new As({uid:y.localId,auth:f,stsTokenManager:ne,isAnonymous:b});return yield _s(ce),ce})()}}const La=new Map;function qo(B){Ge(B instanceof Function,"Expected a class definition");let f=La.get(B);return f?(Ge(f instanceof B,"Instance stored in cache mismatched with class"),f):(f=new B,La.set(B,f),f)}const Lo=(()=>{class B{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,Ie.Z)(function*(){return!0})()}_set(y,b){var ne=this;return(0,Ie.Z)(function*(){ne.storage[y]=b})()}_get(y){var b=this;return(0,Ie.Z)(function*(){const ne=b.storage[y];return void 0===ne?null:ne})()}_remove(y){var b=this;return(0,Ie.Z)(function*(){delete b.storage[y]})()}_addListener(y,b){}_removeListener(y,b){}}return B.type="NONE",B})();function uo(B,f,y){return`firebase:${B}:${f}:${y}`}class Bs{constructor(f,y,b){this.persistence=f,this.auth=y,this.userKey=b;const{config:ne,name:ce}=this.auth;this.fullUserKey=uo(this.userKey,ne.apiKey,ce),this.fullPersistenceKey=uo("persistence",ne.apiKey,ce),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,Ie.Z)(function*(){const y=yield f.persistence._get(f.fullUserKey);return y?As._fromJSON(f.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var y=this;return(0,Ie.Z)(function*(){if(y.persistence===f)return;const b=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=f,b?y.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,y,b="authUser"){return(0,Ie.Z)(function*(){var ne,ce;if(!y.length)return new Bs(qo(Lo),f,b);const Se=(yield Promise.all(y.map(function(dr){return(ne=ne||(0,Ie.Z)(function*(gr){if(yield gr._isAvailable())return gr})).apply(this,arguments)}))).filter(dr=>dr);let $e=Se[0]||qo(Lo);const ot=uo(b,f.config.apiKey,f.name);let St=null;for(const dr of y)try{const gr=yield dr._get(ot);if(gr){const Ki=As._fromJSON(f,gr);dr!==$e&&(St=Ki),$e=dr;break}}catch{}const sr=Se.filter(dr=>dr._shouldAllowMigration);return $e._shouldAllowMigration&&sr.length?($e=sr[0],St&&(yield $e._set(ot,St.toJSON())),yield Promise.all(y.map(function(dr){return(ce=ce||(0,Ie.Z)(function*(gr){if(gr!==$e)try{yield gr._remove(ot)}catch{}})).apply(this,arguments)})),new Bs($e,f,b)):new Bs($e,f,b)})()}}function ta(B){const f=B.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(function Hs(B=(0,ge.z$)()){return/iemobile/i.test(B)}(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(function Ga(B=(0,ge.z$)()){return/firefox\//i.test(B)}(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(function Da(B=(0,ge.z$)()){return/blackberry/i.test(B)}(f))return"Blackberry";if(function to(B=(0,ge.z$)()){return/webos/i.test(B)}(f))return"Webos";if(function ao(B=(0,ge.z$)()){const f=B.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}(f))return"Safari";if((f.includes("chrome/")||function Wa(B=(0,ge.z$)()){return/crios\//i.test(B)}(f))&&!f.includes("edge/"))return"Chrome";if(function Ts(B=(0,ge.z$)()){return/android/i.test(B)}(f))return"Android";{const b=B.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Sa(B,f=[]){let y;switch(B){case"Browser":y=ta((0,ge.z$)());break;case"Worker":y=`${ta((0,ge.z$)())}-${B}`;break;default:y=B}const b=f.length?f.join(","):"FirebaseCore-web";return`${y}/JsCore/${se.Jn}/${b}`}class ia{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,y){const b=ce=>new Promise((Se,$e)=>{try{Se(f(ce))}catch(ot){$e(ot)}});b.onAbort=y,this.queue.push(b);const ne=this.queue.length-1;return()=>{this.queue[ne]=()=>Promise.resolve()}}runMiddleware(f){var y=this;return(0,Ie.Z)(function*(){if(y.auth.currentUser===f)return;const b=[];try{for(const ne of y.queue)yield ne(f),ne.onAbort&&b.push(ne.onAbort)}catch(ne){b.reverse();for(const ce of b)try{ce()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:ne?.message})}})()}}class is{constructor(f){var y,b,ne,ce;const Se=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(y=Se.minPasswordLength)&&void 0!==y?y:6,Se.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Se.maxPasswordLength),void 0!==Se.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Se.containsLowercaseCharacter),void 0!==Se.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Se.containsUppercaseCharacter),void 0!==Se.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Se.containsNumericCharacter),void 0!==Se.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Se.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(ne=null===(b=f.allowedNonAlphanumericCharacters)||void 0===b?void 0:b.join(""))&&void 0!==ne?ne:"",this.forceUpgradeOnSignin=null!==(ce=f.forceUpgradeOnSignin)&&void 0!==ce&&ce,this.schemaVersion=f.schemaVersion}validatePassword(f){var y,b,ne,ce,Se,$e;const ot={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,ot),this.validatePasswordCharacterOptions(f,ot),ot.isValid&&(ot.isValid=null===(y=ot.meetsMinPasswordLength)||void 0===y||y),ot.isValid&&(ot.isValid=null===(b=ot.meetsMaxPasswordLength)||void 0===b||b),ot.isValid&&(ot.isValid=null===(ne=ot.containsLowercaseLetter)||void 0===ne||ne),ot.isValid&&(ot.isValid=null===(ce=ot.containsUppercaseLetter)||void 0===ce||ce),ot.isValid&&(ot.isValid=null===(Se=ot.containsNumericCharacter)||void 0===Se||Se),ot.isValid&&(ot.isValid=null===($e=ot.containsNonAlphanumericCharacter)||void 0===$e||$e),ot}validatePasswordLengthOptions(f,y){const b=this.customStrengthOptions.minPasswordLength,ne=this.customStrengthOptions.maxPasswordLength;b&&(y.meetsMinPasswordLength=f.length>=b),ne&&(y.meetsMaxPasswordLength=f.length<=ne)}validatePasswordCharacterOptions(f,y){let b;this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);for(let ne=0;ne<f.length;ne++)b=f.charAt(ne),this.updatePasswordCharacterOptionsStatuses(y,b>="a"&&b<="z",b>="A"&&b<="Z",b>="0"&&b<="9",this.allowedNonAlphanumericCharacters.includes(b))}updatePasswordCharacterOptionsStatuses(f,y,b,ne,ce){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=b)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=ne)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=ce))}}class Bi{constructor(f,y,b,ne){this.app=f,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=b,this.config=ne,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lo(this),this.idTokenSubscription=new lo(this),this.beforeStateQueue=new ia(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=ne.sdkClientVersion}_initializeWithPersistence(f,y){var b=this;return y&&(this._popupRedirectResolver=qo(y)),this._initializationPromise=this.queue((0,Ie.Z)(function*(){var ne,ce;if(!b._deleted&&(b.persistenceManager=yield Bs.create(b,f),!b._deleted)){if(null!==(ne=b._popupRedirectResolver)&&void 0!==ne&&ne._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(y),b.lastNotifiedUid=(null===(ce=b.currentUser)||void 0===ce?void 0:ce.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,Ie.Z)(function*(){if(f._deleted)return;const y=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||y){if(f.currentUser&&y&&f.currentUser.uid===y.uid)return f._currentUser._assign(y),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(y,!0)}})()}initializeCurrentUser(f){var y=this;return(0,Ie.Z)(function*(){var b;const ne=yield y.assertedPersistence.getCurrentUser();let ce=ne,Se=!1;if(f&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const $e=null===(b=y.redirectUser)||void 0===b?void 0:b._redirectEventId,ot=ce?._redirectEventId,St=yield y.tryRedirectSignIn(f);(!$e||$e===ot)&&St?.user&&(ce=St.user,Se=!0)}if(!ce)return y.directlySetCurrentUser(null);if(!ce._redirectEventId){if(Se)try{yield y.beforeStateQueue.runMiddleware(ce)}catch($e){ce=ne,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject($e))}return ce?y.reloadAndSetCurrentUserOrClear(ce):y.directlySetCurrentUser(null)}return on(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===ce._redirectEventId?y.directlySetCurrentUser(ce):y.reloadAndSetCurrentUserOrClear(ce)})()}tryRedirectSignIn(f){var y=this;return(0,Ie.Z)(function*(){let b=null;try{b=yield y._popupRedirectResolver._completeRedirectFn(y,f,!0)}catch{yield y._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var y=this;return(0,Ie.Z)(function*(){try{yield _s(f)}catch(b){if("auth/network-request-failed"!==b?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function bn(){if(typeof navigator>"u")return null;const B=navigator;return B.languages&&B.languages[0]||B.language||null}()}_delete(){var f=this;return(0,Ie.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var y=this;return(0,Ie.Z)(function*(){const b=f?(0,ge.m9)(f):null;return b&&on(b.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(b&&b._clone(y))})()}_updateCurrentUser(f,y=!1){var b=this;return(0,Ie.Z)(function*(){if(!b._deleted)return f&&on(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),y||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,Ie.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,Ie.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var y=this;return this.queue((0,Ie.Z)(function*(){yield y.assertedPersistence.setPersistence(qo(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var y=this;return(0,Ie.Z)(function*(){y._getPasswordPolicyInternal()||(yield y._updatePasswordPolicy());const b=y._getPasswordPolicyInternal();return b.schemaVersion!==y.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(y._errorFactory.create("unsupported-password-policy-schema-version",{})):b.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,Ie.Z)(function*(){const y=yield function Yr(B){return(pn=pn||(0,Ie.Z)(function*(f,y={}){return Wr(f,"GET","/v2/passwordPolicy",function br(B,f){return B.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:B.tenantId}):f}(f,y))})).apply(this,arguments)}(f),b=new is(y);null===f.tenantId?f._projectPasswordPolicy=b:f._tenantPasswordPolicies[f.tenantId]=b})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new ge.LL("auth","Firebase",f())}onAuthStateChanged(f,y,b){return this.registerStateListener(this.authStateSubscription,f,y,b)}beforeAuthStateChanged(f,y){return this.beforeStateQueue.pushCallback(f,y)}onIdTokenChanged(f,y,b){return this.registerStateListener(this.idTokenSubscription,f,y,b)}authStateReady(){return new Promise((f,y)=>{if(this.currentUser)f();else{const b=this.onAuthStateChanged(()=>{b(),f()},y)}})}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,y){var b=this;return(0,Ie.Z)(function*(){const ne=yield b.getOrInitRedirectPersistenceManager(y);return null===f?ne.removeCurrentUser():ne.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var y=this;return(0,Ie.Z)(function*(){if(!y.redirectPersistenceManager){const b=f&&qo(f)||y._popupRedirectResolver;on(b,y,"argument-error"),y.redirectPersistenceManager=yield Bs.create(y,[qo(b._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(f){var y=this;return(0,Ie.Z)(function*(){var b,ne;return y._isInitialized&&(yield y.queue((0,Ie.Z)(function*(){}))),(null===(b=y._currentUser)||void 0===b?void 0:b._redirectEventId)===f?y._currentUser:(null===(ne=y.redirectUser)||void 0===ne?void 0:ne._redirectEventId)===f?y.redirectUser:null})()}_persistUserIfCurrent(f){var y=this;return(0,Ie.Z)(function*(){if(f===y.currentUser)return y.queue((0,Ie.Z)(function*(){return y.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(y=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,y,b,ne){if(this._deleted)return()=>{};const ce="function"==typeof y?y:y.next.bind(y);let Se=!1;const $e=this._isInitialized?Promise.resolve():this._initializationPromise;if(on($e,this,"internal-error"),$e.then(()=>{Se||ce(this.currentUser)}),"function"==typeof y){const ot=f.addObserver(y,b,ne);return()=>{Se=!0,ot()}}{const ot=f.addObserver(y);return()=>{Se=!0,ot()}}}directlySetCurrentUser(f){var y=this;return(0,Ie.Z)(function*(){y.currentUser&&y.currentUser!==f&&y._currentUser._stopProactiveRefresh(),f&&y.isProactiveRefreshEnabled&&f._startProactiveRefresh(),y.currentUser=f,f?yield y.assertedPersistence.setCurrentUser(f):yield y.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return on(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Sa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,Ie.Z)(function*(){var y;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const ne=yield null===(y=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();ne&&(b["X-Firebase-Client"]=ne);const ce=yield f._getAppCheckToken();return ce&&(b["X-Firebase-AppCheck"]=ce),b})()}_getAppCheckToken(){var f=this;return(0,Ie.Z)(function*(){var y;const b=yield null===(y=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return b?.error&&function lr(B,...f){Wo.logLevel<=Re.in.WARN&&Wo.warn(`Auth (${se.Jn}): ${B}`,...f)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}class lo{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,ge.ne)(y=>this.observer=y)}get next(){return on(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Ua(B){return`__${B}${Math.floor(1e6*Math.random())}`})("rcb"),new cr(3e4,6e4),new cr(2e3,1e4),new cr(3e4,6e4),new cr(5e3,15e3),encodeURIComponent("fac");var oe="@firebase/auth";class ze{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var y=this;return(0,Ie.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const y=this.auth.onIdTokenChanged(b=>{f(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,y),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const y=this.internalListeners.get(f);y&&(this.internalListeners.delete(f),y(),this.updateProactiveRefresh())}assertAuthConfigured(){on(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,ge.Pz)("authIdTokenMaxAge"),function Yt(B){(0,se.Xd)(new Ee.wA("auth",(f,{options:y})=>{const b=f.getProvider("app").getImmediate(),ne=f.getProvider("heartbeat"),ce=f.getProvider("app-check-internal"),{apiKey:Se,authDomain:$e}=b.options;on(Se&&!Se.includes(":"),"invalid-api-key",{appName:b.name});const ot={apiKey:Se,authDomain:$e,clientPlatform:B,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sa(B)},St=new Bi(b,ne,ce,ot);return function qa(B,f){const y=f?.persistence||[],b=(Array.isArray(y)?y:[y]).map(qo);f?.errorMap&&B._updateErrorMap(f.errorMap),B._initializeWithPersistence(b,f?.popupRedirectResolver)}(St,y),St},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,y,b)=>{f.getProvider("auth-internal").initialize()})),(0,se.Xd)(new Ee.wA("auth-internal",f=>{const y=function Jr(B){return(0,ge.m9)(B)}(f.getProvider("auth").getImmediate());return new ze(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.KN)(oe,"1.3.0",function It(B){switch(B){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(B)),(0,se.KN)(oe,"1.3.0","esm2017")}("Browser");var Oa=z(9751);function Na(B){return new Oa.y(function(f){var y=function Bo(B,f,y,b){return(0,ge.m9)(B).onAuthStateChanged(f,y,b)}(B,f.next.bind(f),f.error.bind(f),f.complete.bind(f));return{unsubscribe:y}})}var Di=z(9678);class Il{constructor(f){return f}}class Kl{constructor(){return(0,D.vb)("auth")}}const Fl=new J.OlP("angularfire2.auth-instances");function ru(B){return(f,y)=>{const b=f.runOutsideAngular(()=>B(y));return new Il(b)}}const rd={provide:Kl,deps:[[new J.FiY,Fl]]},Wd={provide:Il,useFactory:function Cc(B,f){const y=(0,D.JM)("auth",B,f);return y&&new Il(y)},deps:[[new J.FiY,Fl],de.Ot]};let Pu=(()=>{class B{constructor(){(0,De.KN)("angularfire",D.q4.full,"auth")}}return B.\u0275fac=function(y){return new(y||B)},B.\u0275mod=J.oAB({type:B}),B.\u0275inj=J.cJS({providers:[Wd,rd]}),B})();function Of(B,...f){return{ngModule:Pu,providers:[{provide:Fl,useFactory:ru(B),multi:!0,deps:[J.R0b,J.zs3,D.HU,de.z6,[new J.FiY,Ae.nm],...f]}]}}const Kd=(0,D.u3)(Na,!0),Ll=(0,D.u3)(Di.Xb,!0),jh=(0,D.u3)(Di.v0,!0),Vf=(0,D.u3)(Di.w$,!0),nl=(0,D.u3)(Di.LS,!0),xu=(0,D.u3)(Di.e5,!0),Xr=(0,D.u3)(Di.rh,!0)},7573:(_n,nt,z)=>{z.d(nt,{gg:()=>zd,ET:()=>wm,hJ:()=>I_,PL:()=>wy,ad:()=>x_,cf:()=>O_,Cm:()=>v_});var Ue,D=z(710),J=z(4650),de=z(3441),De=z(3692),Ae=z(8140),Ie=z(3412),ge=z(5861),se=z(9752),_e=(z(4859),z(1877)),Ee=z(2090),Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vt={},Ft=Ft||{},Rt=Ye||self;function Pt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function $t(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var un="closure_uid_"+(1e9*Math.random()>>>0),_t=0;function We(i,e,t){return i.call.apply(i.bind,arguments)}function at(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),i.apply(e,a)}}return function(){return i.apply(e,arguments)}}function xt(i,e,t){return(xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?We:at).apply(null,arguments)}function pn(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Et(){this.s=this.s,this.o=this.o}Et.prototype.s=!1,Et.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Mt(i){Object.prototype.hasOwnProperty.call(i,un)&&i[un]||(i[un]=++_t)}(this)},Et.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ln=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Vn(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function an(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Pt(o)){const a=i.length||0,u=o.length||0;i.length=a+u;for(let h=0;h<u;h++)i[a+h]=o[h]}else i.push(o)}}function hn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var Rr=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Rt.addEventListener("test",()=>{},e),Rt.removeEventListener("test",()=>{},e)}catch{}return i}();function ir(i){return/^[\s\xa0]*$/.test(i)}function hr(){var i=Rt.navigator;return i&&(i=i.userAgent)?i:""}function tt(i){return-1!=hr().indexOf(i)}function ut(i){return ut[" "](i),i}ut[" "]=function(){};var Kn,Xe=tt("Opera"),Ht=tt("Trident")||tt("MSIE"),Ot=tt("Edge"),Cn=Ot||Ht,In=tt("Gecko")&&!(-1!=hr().toLowerCase().indexOf("webkit")&&!tt("Edge"))&&!(tt("Trident")||tt("MSIE"))&&!tt("Edge"),ri=-1!=hr().toLowerCase().indexOf("webkit")&&!tt("Edge");function jt(){var i=Rt.document;return i?i.documentMode:void 0}e:{var Un="",fr=function(){var i=hr();return In?/rv:([^\);]+)(\)|;)/.exec(i):Ot?/Edge\/([\d\.]+)/.exec(i):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ri?/WebKit\/(\S+)/.exec(i):Xe?/(?:Version)[ \/]?(\S+)/.exec(i):void 0}();if(fr&&(Un=fr?fr[1]:""),Ht){var Or=jt();if(null!=Or&&Or>parseFloat(Un)){Kn=String(Or);break e}}Kn=Un}var li=Rt.document&&Ht&&(jt()||parseInt(Kn,10))||void 0;function Qr(i,e){if(hn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(In){e:{try{ut(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:$r[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Qr.$.h.call(this)}}var $r={2:"touch",3:"pen",4:"mouse"};Qr.prototype.h=function(){Qr.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var fn="closure_listenable_"+(1e6*Math.random()|0),Nr=0;function Gr(i,e,t,o,a){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=a,this.key=++Nr,this.fa=this.ia=!1}function oi(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function $i(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Ar(i){const e={};for(const t in i)e[t]=i[t];return e}const ar="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tn(i,e){let t,o;for(let a=1;a<arguments.length;a++){for(t in o=arguments[a],o)i[t]=o[t];for(let u=0;u<ar.length;u++)t=ar[u],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function tn(i){this.src=i,this.g={},this.h=0}function ei(i,e){var t=e.type;if(t in i.g){var u,o=i.g[t],a=ln(o,e);(u=0<=a)&&Array.prototype.splice.call(o,a,1),u&&(oi(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function ti(i,e,t,o){for(var a=0;a<i.length;++a){var u=i[a];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==o)return a}return-1}tn.prototype.add=function(i,e,t,o,a){var u=i.toString();(i=this.g[u])||(i=this.g[u]=[],this.h++);var h=ti(i,e,o,a);return-1<h?(e=i[h],t||(e.ia=!1)):((e=new Gr(e,this.src,u,!!o,a)).ia=t,i.push(e)),e};var Fr="closure_lm_"+(1e6*Math.random()|0),Br={};function Nn(i,e,t,o,a){if(o&&o.once)return Gt(i,e,t,o,a);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Nn(i,e[u],t,o,a);return null}return t=fe(t),i&&i[fn]?i.O(e,t,$t(o)?!!o.capture:!!o,a):Ke(i,e,t,!1,o,a)}function Ke(i,e,t,o,a,u){if(!e)throw Error("Invalid event type");var h=$t(a)?!!a.capture:!!a,I=Ne(i);if(I||(i[Fr]=I=new tn(i)),(t=I.add(e,t,o,h,u)).proxy)return t;if(o=function wt(){const e=Tt;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Rr||(a=h),void 0===a&&(a=!1),i.addEventListener(e.toString(),o,a);else if(i.attachEvent)i.attachEvent(Rn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Gt(i,e,t,o,a){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Gt(i,e[u],t,o,a);return null}return t=fe(t),i&&i[fn]?i.P(e,t,$t(o)?!!o.capture:!!o,a):Ke(i,e,t,!0,o,a)}function Vt(i,e,t,o,a){if(Array.isArray(e))for(var u=0;u<e.length;u++)Vt(i,e[u],t,o,a);else o=$t(o)?!!o.capture:!!o,t=fe(t),i&&i[fn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=ti(u=i.g[e],t,o,a))&&(oi(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete i.g[e],i.h--))):i&&(i=Ne(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ti(e,t,o,a)),(t=-1<i?e[i]:null)&&Bn(t))}function Bn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[fn])ei(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Rn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Ne(e))?(ei(t,i),0==t.h&&(t.src=null,e[Fr]=null)):oi(i)}}}function Rn(i){return i in Br?Br[i]:Br[i]="on"+i}function Tt(i,e){if(i.fa)i=!0;else{e=new Qr(e,this);var t=i.listener,o=i.la||i.src;i.ia&&Bn(i),i=t.call(o,e)}return i}function Ne(i){return(i=i[Fr])instanceof tn?i:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(i){return"function"==typeof i?i:(i[be]||(i[be]=function(e){return i.handleEvent(e)}),i[be])}function me(){Et.call(this),this.i=new tn(this),this.S=this,this.J=null}function Je(i,e){var t,o=i.J;if(o)for(t=[];o;o=o.J)t.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new hn(e,i);else if(e instanceof hn)e.target=e.target||i;else{var a=e;Tn(e=new hn(o,i),a)}if(a=!0,t)for(var u=t.length-1;0<=u;u--){var h=e.g=t[u];a=dt(h,o,!0,e)&&a}if(a=dt(h=e.g=i,o,!0,e)&&a,a=dt(h,o,!1,e)&&a,t)for(u=0;u<t.length;u++)a=dt(h=e.g=t[u],o,!1,e)&&a}function dt(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.fa&&h.capture==t){var I=h.listener,O=h.la||h.src;h.ia&&ei(i.i,h),a=!1!==I.call(O,o)&&a}}return a&&!o.defaultPrevented}me.prototype[fn]=!0,me.prototype.removeEventListener=function(i,e,t,o){Vt(this,i,e,t,o)},me.prototype.N=function(){if(me.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)oi(t[o]);delete i.g[e],i.h--}}this.J=null},me.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},me.prototype.P=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var ve=Rt.JSON.stringify;class ye{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Fe(){var i=ft;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}class rt{constructor(){this.h=this.g=null}add(e,t){const o=Qe.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}}var Qe=new ye(()=>new qt,i=>i.reset());class qt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Le(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function Me(i){Rt.setTimeout(()=>{throw i},0)}let he,je=!1,ft=new rt,Lt=()=>{const i=Rt.Promise.resolve(void 0);he=()=>{i.then(en)}};var en=()=>{for(var i;i=Fe();){try{i.h.call(i.g)}catch(t){Me(t)}var e=Qe;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}je=!1};function tr(i,e){me.call(this),this.h=i||1,this.g=e||Rt,this.j=xt(this.qb,this),this.l=Date.now()}function xr(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function yi(i,e,t){if("function"==typeof i)t&&(i=xt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=xt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Rt.setTimeout(i,e||0)}function so(i){i.g=yi(()=>{i.g=null,i.i&&(i.i=!1,so(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}(Ue=tr.prototype).ga=!1,Ue.T=null,Ue.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Je(this,"tick"),this.ga&&(xr(this),this.start()))}},Ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ue.N=function(){tr.$.N.call(this),xr(this),delete this.g};class bo extends Et{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:so(this)}N(){super.N(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oo(i){Et.call(this),this.h=i,this.g={}}var Zi=[];function Vi(i,e,t,o){Array.isArray(t)||(t&&(Zi[0]=t.toString()),t=Zi);for(var a=0;a<t.length;a++){var u=Nn(e,t[a],o||i.handleEvent,!1,i.h||i);if(!u)break;i.g[u.key]=u}}function Ni(i){$i(i.g,function(e,t){this.g.hasOwnProperty(t)&&Bn(e)},i),i.g={}}function pr(){this.g=!0}function Qt(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Gi(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var a=o[1];if(Array.isArray(a)&&!(1>a.length)){var u=a[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var h=1;h<a.length;h++)a[h]=""}}}return ve(t)}catch{return e}}(i,t)+(o?" "+o:"")})}Oo.prototype.N=function(){Oo.$.N.call(this),Ni(this)},Oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pr.prototype.Ea=function(){this.g=!1},pr.prototype.info=function(){};var Go={},Wo=null;function lr(){return Wo=Wo||new me}function Wt(i){hn.call(this,Go.Ta,i)}function Ln(i){const e=lr();Je(e,new Wt(e))}function _r(i,e){hn.call(this,Go.STAT_EVENT,i),this.stat=e}function si(i){const e=lr();Je(e,new _r(e,i))}function nr(i,e){hn.call(this,Go.Ua,i),this.size=e}function nn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){i()},e)}Go.Ta="serverreachability",Go.STAT_EVENT="statevent",Go.Ua="timingevent";var on={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Wn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Oe(){}var cr,At={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Jt(){hn.call(this,"d")}function bn(){hn.call(this,"c")}function yr(){}function fi(i,e,t,o){this.l=i,this.j=e,this.m=t,this.W=o||1,this.U=new Oo(this),this.P=Fi,this.V=new tr(i=Cn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Sr}function Sr(){this.i=null,this.g="",this.h=!1}yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},cr=new yr;var Fi=45e3,br={},Wr={};function wr(i,e,t){i.L=1,i.v=Ps(Ko(e)),i.s=t,i.S=!0,Qi(i,null)}function Qi(i,e){i.G=Date.now(),vs(i),i.A=Ko(i.v);var t=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),Ga(t.i,"t",o),i.C=0,t=i.l.J,i.h=new Sr,i.g=ja(i.l,t?e:null,!i.s),0<i.O&&(i.M=new bo(xt(i.Pa,i,i.g),i.O)),Vi(i.U,i.g,"readystatechange",i.nb),e=i.I?Ar(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Ln(),function Dr(i,e,t,o,a,u){i.info(function(){if(i.g)if(u)for(var h="",I=u.split("&"),O=0;O<I.length;O++){var W=I[O].split("=");if(1<W.length){var ae=W[0];W=W[1];var we=ae.split("_");h=2<=we.length&&"type"==we[1]?h+(ae+"=")+W+"&":h+(ae+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(i.j,i.u,i.A,i.m,i.W,i.s)}function No(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function _o(i,e,t){let a,o=!0;for(;!i.J&&i.C<t.length;){if(a=ys(i,t),a==Wr){4==e&&(i.o=4,si(14),o=!1),Qt(i.j,i.m,null,"[Incomplete Response]");break}if(a==br){i.o=4,si(15),Qt(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Qt(i.j,i.m,a,null),pi(i,a)}No(i)&&a!=Wr&&a!=br&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,si(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ui(e),e.M=!0,si(11))):(Qt(i.j,i.m,t,"[Invalid Chunked Response]"),Er(i),Xs(i))}function ys(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Wr:(t=Number(e.substring(t,o)),isNaN(t)?br:(o+=1)+t>e.length?Wr:(e=e.slice(o,o+t),i.C=o+t,e))}function vs(i){i.Y=Date.now()+i.P,To(i,i.P)}function To(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=nn(xt(i.lb,i),e)}function Ji(i){i.B&&(Rt.clearTimeout(i.B),i.B=null)}function Xs(i){0==i.l.H||i.J||Pa(i.l,i)}function Er(i){Ji(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,xr(i.V),Ni(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function pi(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||xs(t.i,i)))if(!i.K&&xs(t.i,i)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var a=o;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;ss(t),Ai(t)}Io(t),si(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=nn(xt(t.ib,t),6e3));if(1>=ws(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else fs(t,11)}else if((i.K||t.g==i)&&ss(t),!ir(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let W=a[e];if(t.V=W[0],W=W[1],2==t.H)if("c"==W[0]){t.K=W[1],t.pa=W[2];const ae=W[3];null!=ae&&(t.ra=ae,t.l.info("VER="+t.ra));const we=W[4];null!=we&&(t.Ga=we,t.l.info("SVER="+t.Ga));const et=W[5];null!=et&&"number"==typeof et&&0<et&&(t.L=o=1.5*et,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const ct=i.g;if(ct){const Bt=ct.g?ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bt){var u=o.i;u.g||-1==Bt.indexOf("spdy")&&-1==Bt.indexOf("quic")&&-1==Bt.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(na(u,u.h),u.h=null))}if(o.F){const vn=ct.g?ct.g.getResponseHeader("X-HTTP-Session-Id"):null;vn&&(o.Da=vn,_i(o.I,o.F,vn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var h=i;if((o=t).wa=as(o,o.J?o.pa:null,o.Y),h.K){Ka(o.i,h);var I=h,O=o.L;O&&I.setTimeout(O),I.B&&(Ji(I),vs(I)),o.g=h}else aa(o);0<t.j.length&&ho(t)}else"stop"!=W[0]&&"close"!=W[0]||fs(t,7);else 3==t.H&&("stop"==W[0]||"close"==W[0]?"stop"==W[0]?fs(t,7):hs(t):"noop"!=W[0]&&t.h&&t.h.Aa(W),t.A=0)}Ln()}catch{}}function Mi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Pt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Lr(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Pt(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function vi(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Pt(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),a=o.length,u=0;u<a;u++)e.call(void 0,o[u],t&&t[u],i)}(Ue=fi.prototype).setTimeout=function(i){this.P=i},Ue.nb=function(i){i=i.target;const e=this.M;e&&3==Ri(i)?e.l():this.Pa(i)},Ue.Pa=function(i){try{if(i==this.g)e:{const ae=Ri(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ae)&&(3!=ae||Cn||this.g&&(this.h.h||this.g.ja()||ba(this.g)))){this.J||4!=ae||7==e||Ln(),Ji(this);var t=this.g.da();this.ca=t;t:if(No(this)){var o=ba(this.g);i="";var a=o.length,u=4==Ri(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),Xs(this);var h="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:u&&e==a-1});o.splice(0,a),this.h.g+=i,this.C=0,h=this.h.g}else h=this.g.ja();if(this.i=200==t,function cn(i,e,t,o,a,u,h){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+u+" "+h})}(this.j,this.u,this.A,this.m,this.W,ae,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var I,O=this.g;if((I=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ir(I)){var W=I;break t}}W=null}if(!(t=W)){this.i=!1,this.o=3,si(12),Er(this),Xs(this);break e}Qt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pi(this,t)}this.S?(_o(this,ae,h),Cn&&this.i&&3==ae&&(Vi(this.U,this.V,"tick",this.mb),this.V.start())):(Qt(this.j,this.m,h,null),pi(this,h)),4==ae&&Er(this),this.i&&!this.J&&(4==ae?Pa(this.l,this):(this.i=!1,vs(this)))}else(function ma(i){const e={};i=(i.g&&2<=Ri(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(ir(i[o]))continue;var t=Le(i[o]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[a]||[];e[a]=u,u.push(t)}!function ii(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<h.indexOf("Unknown SID")?(this.o=3,si(12)):(this.o=0,si(13)),Er(this),Xs(this)}}}catch{}},Ue.mb=function(){if(this.g){var i=Ri(this.g),e=this.g.ja();this.C<e.length&&(Ji(this),_o(this,i,e),this.i&&4!=i&&vs(this))}},Ue.cancel=function(){this.J=!0,Er(this)},Ue.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Hn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ln(),si(17)),Er(this),this.o=2,Xs(this)):To(this,this.Y-i)};var Li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wo(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof wo){this.h=i.h,rs(this,i.j),this.s=i.s,this.g=i.g,Eo(this,i.m),this.l=i.l;var e=i.i,t=new Lo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),_s(this,t),this.o=i.o}else i&&(e=String(i).match(Li))?(this.h=!1,rs(this,e[1]||"",!0),this.s=ea(e[2]||""),this.g=ea(e[3]||"",!0),Eo(this,e[4]),this.l=ea(e[5]||"",!0),_s(this,e[6]||"",!0),this.o=ea(e[7]||"")):(this.h=!1,this.i=new Lo(null,this.h))}function Ko(i){return new wo(i)}function rs(i,e,t){i.j=t?ea(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Eo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function _s(i,e,t){e instanceof Lo?(i.i=e,function Wa(i,e){e&&!i.j&&(uo(i),i.i=null,i.g.forEach(function(t,o){var a=o.toLowerCase();o!=a&&(Bs(this,o),Ga(this,a,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Vs(e,qo)),i.i=new Lo(e,i.h))}function _i(i,e,t){i.i.set(e,t)}function Ps(i){return _i(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ea(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Vs(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ks),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ks(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}wo.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Vs(e,Fo,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Vs(e,Fo,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Vs(t,"/"==t.charAt(0)?La:As,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Vs(t,Ya)),i.join("")};var Fo=/[#\/\?@]/g,As=/[#\?:]/g,La=/[#\?]/g,qo=/[#\?@]/g,Ya=/#/g;function Lo(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function uo(i){i.g||(i.g=new Map,i.h=0,i.i&&function Hr(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),a=null;if(0<=o){var u=i[t].substring(0,o);a=i[t].substring(o+1)}else u=i[t];e(u,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Bs(i,e){uo(i),e=ao(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ta(i,e){return uo(i),e=ao(i,e),i.g.has(e)}function Ga(i,e,t){Bs(i,e),0<t.length&&(i.i=null,i.g.set(ao(i,e),Vn(t)),i.h+=t.length)}function ao(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ts(i){this.l=i||Da,i=Rt.PerformanceNavigationTiming?0<(i=Rt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ka&&Rt.g.Ka()&&Rt.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ue=Lo.prototype).add=function(i,e){uo(this),this.i=null,i=ao(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Ue.forEach=function(i,e){uo(this),this.g.forEach(function(t,o){t.forEach(function(a){i.call(e,a,o,this)},this)},this)},Ue.ta=function(){uo(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const a=i[o];for(let u=0;u<a.length;u++)t.push(e[o])}return t},Ue.Z=function(i){uo(this);let e=[];if("string"==typeof i)ta(this,i)&&(e=e.concat(this.g.get(ao(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Ue.set=function(i,e){return uo(this),this.i=null,ta(this,i=ao(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ue.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const u=encodeURIComponent(String(o)),h=this.Z(o);for(o=0;o<h.length;o++){var a=u;""!==h[o]&&(a+="="+encodeURIComponent(String(h[o]))),i.push(a)}}return this.i=i.join("&")};var Da=10;function to(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ws(i){return i.h?1:i.g?i.g.size:0}function xs(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function na(i,e){i.g?i.g.add(e):i.h=e}function Ka(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ra(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return Vn(i.i)}Ts.prototype.cancel=function(){if(this.i=ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var i,Xi=class{stringify(i){return Rt.JSON.stringify(i,void 0)}parse(i){return Rt.JSON.parse(i,void 0)}};function Sa(){this.g=new Xi}function ia(i,e,t){const o=t||"";try{Mi(i,function(a,u){let h=a;$t(a)&&(h=ve(a)),e.push(o+u+"="+encodeURIComponent(h))})}catch(a){throw e.push(o+"type="+encodeURIComponent("_badmap")),a}}function Ms(i,e,t,o,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(o)}catch{}}function is(i){this.l=i.fc||null,this.j=i.ob||!1}function Bi(i,e){me.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Jr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}is.prototype.g=function(){return new Bi(this.l,this.j)},is.prototype.i=(i={},function(){return i});var Jr=0;function lo(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Si(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Yi(i)}function Yi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ue=Bi.prototype).open=function(i,e){if(this.readyState!=Jr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Yi(this)},Ue.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Rt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Si(this)),this.readyState=Jr},Ue.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Yi(this)),this.g&&(this.readyState=3,Yi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lo(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ue.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Si(this):Yi(this),3==this.readyState&&lo(this)}},Ue.Za=function(i){this.g&&(this.response=this.responseText=i,Si(this))},Ue.Ya=function(i){this.g&&(this.response=i,Si(this))},Ue.ka=function(){this.g&&Si(this)},Ue.setRequestHeader=function(i,e){this.v.append(i,e)},Ue.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ue.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")};var Ua=Rt.JSON.parse;function ai(i){me.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oa,this.L=this.M=!1}var oa="",Es=/^https?$/i,Rs=["POST","PUT"];function er(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Co(i),os(i)}function Co(i){i.F||(i.F=!0,Je(i,"complete"),Je(i,"error"))}function qa(i){if(i.h&&typeof Ft<"u"&&(!i.C[1]||4!=Ri(i)||2!=i.da()))if(i.v&&4==Ri(i))yi(i.La,0,i);else if(Je(i,"readystatechange"),4==Ri(i)){i.h=!1;try{const h=i.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===h){var a=String(i.I).match(Li)[1]||null;!a&&Rt.self&&Rt.self.location&&(a=Rt.self.location.protocol.slice(0,-1)),o=!Es.test(a?a.toLowerCase():"")}t=o}if(t)Je(i,"complete"),Je(i,"success");else{i.m=6;try{var u=2<Ri(i)?i.g.statusText:""}catch{u=""}i.j=u+" ["+i.da()+"]",Co(i)}}finally{os(i)}}}function os(i,e){if(i.g){zs(i);const t=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Je(i,"ready");try{t.onreadystatechange=o}catch{}}}function zs(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Rt.clearTimeout(i.A),i.A=null)}function Ri(i){return i.g?i.g.readyState:0}function ba(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case oa:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Zo(i){let e="";return $i(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function kt(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Zo(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):_i(i,e,t))}function mr(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Za(i){this.Ga=0,this.j=[],this.l=new pr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mr("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mr("baseRetryDelayMs",5e3,i),this.hb=mr("retryDelaySeedMs",1e4,i),this.eb=mr("forwardChannelMaxRetries",2,i),this.xa=mr("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Ts(i&&i.concurrentRequestLimit),this.Ja=new Sa,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function hs(i){if(sa(i),3==i.H){var e=i.W++,t=Ko(i.I);if(_i(t,"SID",i.K),_i(t,"RID",e),_i(t,"TYPE","terminate"),$s(i,t),(e=new fi(i,i.l,e)).L=2,e.v=Ps(Ko(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon)try{t=Rt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ja(e.l,null),e.g.ha(e.v)),e.G=Date.now(),vs(e)}ga(i)}function Ai(i){i.g&&(Ui(i),i.g.cancel(),i.g=null)}function sa(i){Ai(i),i.u&&(Rt.clearTimeout(i.u),i.u=null),ss(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Rt.clearTimeout(i.m),i.m=null)}function ho(i){if(!to(i.i)&&!i.m){i.m=!0;var e=i.Na;he||Lt(),je||(he(),je=!0),ft.add(e,i),i.C=0}}function Ca(i,e){var t;t=e?e.m:i.W++;const o=Ko(i.I);_i(o,"SID",i.K),_i(o,"RID",t),_i(o,"AID",i.V),$s(i,o),i.o&&i.s&&kt(o,i.o,i.s),t=new fi(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Is(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),na(i.i,t),wr(t,o,e)}function $s(i,e){i.na&&$i(i.na,function(t,o){_i(e,o,t)}),i.h&&Mi({},function(t,o){_i(e,o,t)})}function Is(i,e,t){t=Math.min(i.j.length,t);var o=i.h?xt(i.h.Va,i.h,i):null;e:{var a=i.j;let u=-1;for(;;){const h=["count="+t];-1==u?0<t?(u=a[0].g,h.push("ofs="+u)):u=0:h.push("ofs="+u);let I=!0;for(let O=0;O<t;O++){let W=a[O].g;const ae=a[O].map;if(W-=u,0>W)u=Math.max(0,a[O].g-100),I=!1;else try{ia(ae,h,"req"+W+"_")}catch{o&&o(ae)}}if(I){o=h.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,o}function aa(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;he||Lt(),je||(he(),je=!0),ft.add(e,i),i.A=0}}function Io(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=nn(xt(i.Ma,i),fo(i,i.A)),i.A++,0))}function Ui(i){null!=i.B&&(Rt.clearTimeout(i.B),i.B=null)}function Do(i){i.g=new fi(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Ko(i.wa);_i(e,"RID","rpc"),_i(e,"SID",i.K),_i(e,"AID",i.V),_i(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&_i(e,"TO",i.qa),_i(e,"TYPE","xmlhttp"),$s(i,e),i.o&&i.s&&kt(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=Ps(Ko(e)),t.s=null,t.S=!0,Qi(t,i)}function ss(i){null!=i.v&&(Rt.clearTimeout(i.v),i.v=null)}function Pa(i,e){var t=null;if(i.g==e){ss(i),Ui(i),i.g=null;var o=2}else{if(!xs(i.i,e))return;t=e.F,Ka(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=i.C;Je(o=lr(),new nr(o,t)),ho(i)}else aa(i);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==o&&function co(i,e){return!(ws(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=nn(xt(i.Na,i,e),fo(i,i.C)),i.C++,0)))}(i,e)||2==o&&Io(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),a){case 1:fs(i,5);break;case 4:fs(i,10);break;case 3:fs(i,6);break;default:fs(i,2)}}function fo(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function fs(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var o=xt(i.pb,i);t||(t=new wo("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||rs(t,"https"),Ps(t)),function Yr(i,e){const t=new pr;if(Rt.Image){const o=new Image;o.onload=pn(Ms,t,o,"TestLoadImage: loaded",!0,e),o.onerror=pn(Ms,t,o,"TestLoadImage: error",!1,e),o.onabort=pn(Ms,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=pn(Ms,t,o,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else si(2);i.H=0,i.h&&i.h.za(e),ga(i),sa(i)}function ga(i){if(i.H=0,i.ma=[],i.h){const e=ra(i.i);(0!=e.length||0!=i.j.length)&&(an(i.ma,e),an(i.ma,i.j),i.i.i.length=0,Vn(i.j),i.j.length=0),i.h.ya()}}function as(i,e,t){var o=t instanceof wo?Ko(t):new wo(t);if(""!=o.g)e&&(o.g=e+"."+o.g),Eo(o,o.m);else{var a=Rt.location;o=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var u=new wo(null);o&&rs(u,o),e&&(u.g=e),a&&Eo(u,a),t&&(u.l=t),o=u}return e=i.Da,(t=i.F)&&e&&_i(o,t,e),_i(o,"VER",i.ra),$s(i,o),o}function ja(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ai(t&&i.Ha&&!i.va?new is({ob:!0}):i.va)).Oa(i.J),e}function po(){if(Ht&&!(10<=Number(li)))throw Error("Environmental error: no available transport.")}function Po(i,e){me.call(this),this.g=new Za(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!ir(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ir(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new la(this)}function mo(i){Jt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ps(){bn.call(this),this.status=1}function la(i){this.g=i}function ko(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ya(i,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)o[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)o[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=i.g[3],h=(e=i.g[0])+(u^(t=i.g[1])&((a=i.g[2])^u))+o[0]+3614090360&4294967295;h=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=(t=(a=(u=(e=t+(h<<7&4294967295|h>>>25))+((h=u+(a^e&(t^a))+o[1]+3905402710&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^u&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|h>>>10))+((h=e+(u^t&(a^u))+o[4]+4118548399&4294967295)<<7&4294967295|h>>>25))+((h=u+(a^e&(t^a))+o[5]+1200080426&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^u&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|h>>>10))+((h=e+(u^t&(a^u))+o[8]+1770035416&4294967295)<<7&4294967295|h>>>25))+((h=u+(a^e&(t^a))+o[9]+2336552879&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^u&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|h>>>10))+((h=e+(u^t&(a^u))+o[12]+1804603682&4294967295)<<7&4294967295|h>>>25))+((h=u+(a^e&(t^a))+o[13]+4254626195&4294967295)<<12&4294967295|h>>>20))+((h=a+(t^u&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^a&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|h>>>10))+((h=e+(a^u&(t^a))+o[1]+4129170786&4294967295)<<5&4294967295|h>>>27))+((h=u+(t^a&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|h>>>18))+((h=t+(u^e&(a^u))+o[0]+3921069994&4294967295)<<20&4294967295|h>>>12))+((h=e+(a^u&(t^a))+o[5]+3593408605&4294967295)<<5&4294967295|h>>>27))+((h=u+(t^a&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|h>>>18))+((h=t+(u^e&(a^u))+o[4]+3889429448&4294967295)<<20&4294967295|h>>>12))+((h=e+(a^u&(t^a))+o[9]+568446438&4294967295)<<5&4294967295|h>>>27))+((h=u+(t^a&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|h>>>18))+((h=t+(u^e&(a^u))+o[8]+1163531501&4294967295)<<20&4294967295|h>>>12))+((h=e+(a^u&(t^a))+o[13]+2850285829&4294967295)<<5&4294967295|h>>>27))+((h=u+(t^a&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|h>>>23))+((h=a+(e^t&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|h>>>18))+((h=t+(u^e&(a^u))+o[12]+2368359562&4294967295)<<20&4294967295|h>>>12))+((h=e+(t^a^u)+o[5]+4294588738&4294967295)<<4&4294967295|h>>>28))+((h=u+(e^t^a)+o[8]+2272392833&4294967295)<<11&4294967295|h>>>21))+((h=a+(u^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^a^u)+o[1]+2763975236&4294967295)<<4&4294967295|h>>>28))+((h=u+(e^t^a)+o[4]+1272893353&4294967295)<<11&4294967295|h>>>21))+((h=a+(u^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^a^u)+o[13]+681279174&4294967295)<<4&4294967295|h>>>28))+((h=u+(e^t^a)+o[0]+3936430074&4294967295)<<11&4294967295|h>>>21))+((h=a+(u^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^u^e)+o[6]+76029189&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^a^u)+o[9]+3654602809&4294967295)<<4&4294967295|h>>>28))+((h=u+(e^t^a)+o[12]+3873151461&4294967295)<<11&4294967295|h>>>21))+((h=a+(u^e^t)+o[15]+530742520&4294967295)<<16&4294967295|h>>>16))+((h=t+(a^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|h>>>9))+((h=e+(a^(t|~u))+o[0]+4096336452&4294967295)<<6&4294967295|h>>>26))+((h=u+(t^(e|~a))+o[7]+1126891415&4294967295)<<10&4294967295|h>>>22))+((h=a+(e^(u|~t))+o[14]+2878612391&4294967295)<<15&4294967295|h>>>17))+((h=t+(u^(a|~e))+o[5]+4237533241&4294967295)<<21&4294967295|h>>>11))+((h=e+(a^(t|~u))+o[12]+1700485571&4294967295)<<6&4294967295|h>>>26))+((h=u+(t^(e|~a))+o[3]+2399980690&4294967295)<<10&4294967295|h>>>22))+((h=a+(e^(u|~t))+o[10]+4293915773&4294967295)<<15&4294967295|h>>>17))+((h=t+(u^(a|~e))+o[1]+2240044497&4294967295)<<21&4294967295|h>>>11))+((h=e+(a^(t|~u))+o[8]+1873313359&4294967295)<<6&4294967295|h>>>26))+((h=u+(t^(e|~a))+o[15]+4264355552&4294967295)<<10&4294967295|h>>>22))+((h=a+(e^(u|~t))+o[6]+2734768916&4294967295)<<15&4294967295|h>>>17))+((h=t+(u^(a|~e))+o[13]+1309151649&4294967295)<<21&4294967295|h>>>11))+((u=(e=t+((h=e+(a^(t|~u))+o[4]+4149444226&4294967295)<<6&4294967295|h>>>26))+((h=u+(t^(e|~a))+o[11]+3174756917&4294967295)<<10&4294967295|h>>>22))^((a=u+((h=a+(e^(u|~t))+o[2]+718787259&4294967295)<<15&4294967295|h>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(a+(h<<21&4294967295|h>>>11))&4294967295,i.g[2]=i.g[2]+a&4294967295,i.g[3]=i.g[3]+u&4294967295}function mi(i,e){this.h=e;for(var t=[],o=!0,a=i.length-1;0<=a;a--){var u=0|i[a];o&&u==e||(t[a]=u,o=!1)}this.g=t}(Ue=ai.prototype).Oa=function(i){this.M=i},Ue.ha=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cr.g(),this.C=function Be(i){return i.h||(i.h=i.i())}(this.u?this.u:cr),this.g.onreadystatechange=xt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(u){return void er(this,u)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var a in o)t.set(a,o[a]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),a=Rt.FormData&&i instanceof Rt.FormData,!(0<=ln(Rs,e))||o||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,h]of t)this.g.setRequestHeader(u,h);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zs(this),0<this.B&&((this.L=function no(i){return Ht&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xt(this.ua,this)):this.A=yi(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(u){er(this,u)}},Ue.ua=function(){typeof Ft<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Je(this,"timeout"),this.abort(8))},Ue.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Je(this,"complete"),Je(this,"abort"),os(this))},Ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),os(this,!0)),ai.$.N.call(this)},Ue.La=function(){this.s||(this.G||this.v||this.l?qa(this):this.kb())},Ue.kb=function(){qa(this)},Ue.isActive=function(){return!!this.g},Ue.da=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},Ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ue.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ua(e)}},Ue.Ia=function(){return this.m},Ue.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ue=Za.prototype).ra=8,Ue.H=1,Ue.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const a=new fi(this,this.l,i);let u=this.s;if(this.U&&(u?(u=Ar(u),Tn(u,this.U)):u=this.U),null!==this.o||this.O||(a.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Is(this,a,e),_i(t=Ko(this.I),"RID",i),_i(t,"CVER",22),this.F&&_i(t,"X-HTTP-Session-Id",this.F),$s(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(Zo(u)))+"&"+e:this.o&&kt(t,this.o,u)),na(this.i,a),this.bb&&_i(t,"TYPE","init"),this.P?(_i(t,"$req",e),_i(t,"SID","null"),a.aa=!0,wr(a,t,null)):wr(a,t,e),this.H=2}}else 3==this.H&&(i?Ca(this,i):0==this.j.length||to(this.i)||Ca(this))},Ue.Ma=function(){if(this.u=null,Do(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=nn(xt(this.jb,this),i)}},Ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,si(10),Ai(this),Do(this))},Ue.ib=function(){null!=this.v&&(this.v=null,Ai(this),Io(this),si(19))},Ue.pb=function(i){i?(this.l.info("Successfully pinged google.com"),si(2)):(this.l.info("Failed to ping google.com"),si(1))},Ue.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ue=function Qo(){}.prototype).Ba=function(){},Ue.Aa=function(){},Ue.za=function(){},Ue.ya=function(){},Ue.isActive=function(){return!0},Ue.Va=function(){},po.prototype.g=function(i,e){return new Po(i,e)},Po.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;si(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=as(i,null,i.Y),ho(i)},Po.prototype.close=function(){hs(this.g)},Po.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=ve(i),i=t);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&ho(e)},Po.prototype.N=function(){this.g.h=null,delete this.j,hs(this.g),delete this.g,Po.$.N.call(this)},la.prototype.Ba=function(){Je(this.g,"a")},la.prototype.Aa=function(i){Je(this.g,new mo(i))},la.prototype.za=function(i){Je(this.g,new ps)},la.prototype.ya=function(){Je(this.g,"b")},ko.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ko.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,o=this.m,a=this.h,u=0;u<e;){if(0==a)for(;u<=t;)ya(this,i,u),u+=this.blockSize;if("string"==typeof i){for(;u<e;)if(o[a++]=i.charCodeAt(u++),a==this.blockSize){ya(this,o),a=0;break}}else for(;u<e;)if(o[a++]=i[u++],a==this.blockSize){ya(this,o),a=0;break}}this.h=a,this.i+=e},ko.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)i[t++]=this.g[e]>>>o&255;return i};var Jo={};function Ao(i){return-128<=i&&128>i?function ht(i,e){var t=Jo;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new mi([0|e],0>e?-1:0)}):new mi([0|i],0>i?-1:0)}function Yo(i){if(isNaN(i)||!isFinite(i))return _;if(0>i)return xe(Yo(-i));for(var e=[],t=1,o=0;i>=t;o++)e[o]=i/t|0,t*=K;return new mi(e,0)}var K=4294967296,_=Ao(0),T=Ao(1),F=Ao(16777216);function X(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function ue(i){return-1==i.h}function xe(i){for(var e=i.g.length,t=[],o=0;o<e;o++)t[o]=~i.g[o];return new mi(t,~i.h).add(T)}function Ve(i,e){return i.add(xe(e))}function lt(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Ct(i,e){this.g=i,this.h=e}function gn(i,e){if(X(e))throw Error("division by zero");if(X(i))return new Ct(_,_);if(ue(i))return e=gn(xe(i),e),new Ct(xe(e.g),xe(e.h));if(ue(e))return e=gn(i,xe(e)),new Ct(xe(e.g),e.h);if(30<i.g.length){if(ue(i)||ue(e))throw Error("slowDivide_ only works with positive integers.");for(var t=T,o=e;0>=o.X(i);)t=Pn(t),o=Pn(o);var a=P(t,1),u=P(o,1);for(o=P(o,2),t=P(t,2);!X(o);){var h=u.add(o);0>=h.X(i)&&(a=a.add(t),u=h),o=P(o,1),t=P(t,1)}return e=Ve(i,a.R(e)),new Ct(a,e)}for(a=_;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),h=(u=Yo(t)).R(e);ue(h)||0<h.X(i);)h=(u=Yo(t-=o)).R(e);X(u)&&(u=T),a=a.add(u),i=Ve(i,h)}return new Ct(a,i)}function Pn(i){for(var e=i.g.length+1,t=[],o=0;o<e;o++)t[o]=i.D(o)<<1|i.D(o-1)>>>31;return new mi(t,i.h)}function P(i,e){var t=e>>5;e%=32;for(var o=i.g.length-t,a=[],u=0;u<o;u++)a[u]=0<e?i.D(u+t)>>>e|i.D(u+t+1)<<32-e:i.D(u+t);return new mi(a,i.h)}(Ue=mi.prototype).ea=function(){if(ue(this))return-xe(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);i+=(0<=o?o:K+o)*e,e*=K}return i},Ue.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(X(this))return"0";if(ue(this))return"-"+xe(this).toString(i);for(var e=Yo(Math.pow(i,6)),t=this,o="";;){var a=gn(t,e).g,u=((0<(t=Ve(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(X(t=a))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},Ue.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ue.X=function(i){return ue(i=Ve(this,i))?-1:X(i)?0:1},Ue.abs=function(){return ue(this)?xe(this):this},Ue.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0,a=0;a<=e;a++){var u=o+(65535&this.D(a))+(65535&i.D(a)),h=(u>>>16)+(this.D(a)>>>16)+(i.D(a)>>>16);o=h>>>16,t[a]=(h&=65535)<<16|(u&=65535)}return new mi(t,-2147483648&t[t.length-1]?-1:0)},Ue.R=function(i){if(X(this)||X(i))return _;if(ue(this))return ue(i)?xe(this).R(xe(i)):xe(xe(this).R(i));if(ue(i))return xe(this.R(xe(i)));if(0>this.X(F)&&0>i.X(F))return Yo(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var a=0;a<i.g.length;a++){var u=this.D(o)>>>16,h=65535&this.D(o),I=i.D(a)>>>16,O=65535&i.D(a);t[2*o+2*a]+=h*O,lt(t,2*o+2*a),t[2*o+2*a+1]+=u*O,lt(t,2*o+2*a+1),t[2*o+2*a+1]+=h*I,lt(t,2*o+2*a+1),t[2*o+2*a+2]+=u*I,lt(t,2*o+2*a+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new mi(t,0)},Ue.gb=function(i){return gn(this,i).h},Ue.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&i.D(o);return new mi(t,this.h&i.h)},Ue.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|i.D(o);return new mi(t,this.h|i.h)},Ue.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^i.D(o);return new mi(t,this.h^i.h)},po.prototype.createWebChannel=po.prototype.g,Po.prototype.send=Po.prototype.u,Po.prototype.open=Po.prototype.m,Po.prototype.close=Po.prototype.close,on.NO_ERROR=0,on.TIMEOUT=8,on.HTTP_ERROR=6,Wn.COMPLETE="complete",Oe.EventType=At,At.OPEN="a",At.CLOSE="b",At.ERROR="c",At.MESSAGE="d",me.prototype.listen=me.prototype.O,ai.prototype.listenOnce=ai.prototype.P,ai.prototype.getLastError=ai.prototype.Sa,ai.prototype.getLastErrorCode=ai.prototype.Ia,ai.prototype.getStatus=ai.prototype.da,ai.prototype.getResponseJson=ai.prototype.Wa,ai.prototype.getResponseText=ai.prototype.ja,ai.prototype.send=ai.prototype.ha,ai.prototype.setWithCredentials=ai.prototype.Oa,ko.prototype.digest=ko.prototype.l,ko.prototype.reset=ko.prototype.reset,ko.prototype.update=ko.prototype.j,mi.prototype.add=mi.prototype.add,mi.prototype.multiply=mi.prototype.R,mi.prototype.modulo=mi.prototype.gb,mi.prototype.compare=mi.prototype.X,mi.prototype.toNumber=mi.prototype.ea,mi.prototype.toString=mi.prototype.toString,mi.prototype.getBits=mi.prototype.D,mi.fromNumber=Yo,mi.fromString=function ka(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return xe(ka(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Yo(Math.pow(e,8)),o=_,a=0;a<i.length;a+=8){var u=Math.min(8,i.length-a),h=parseInt(i.substring(a,a+u),e);8>u?(u=Yo(Math.pow(e,u)),o=o.R(u).add(Yo(h))):o=(o=o.R(t)).add(Yo(h))}return o};var Ti,Mr,wi,Uo,jo,kn,jn,or,ni,Vo,Ns,ls,ca,ee,U,M,L,A,q,$,Nt,mn,$n,Ur,kr,ci,bi,Bo,Fs,yo,cs,es,Ci,H=vt.createWebChannelTransport=function(){return new po},x=vt.getStatEventTarget=function(){return lr()},te=vt.ErrorCode=on,Te=vt.EventType=Wn,it=vt.Event=Go,Dt=vt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wn=vt.FetchXmlHttpFactory=is,vr=vt.WebChannel=Oe,zr=vt.XhrIo=ai,Pr=vt.Md5=ko,Qn=vt.Integer=mi;class qn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");let Ss="9.23.0";const xi=new _e.Yd("@firebase/firestore");function ms(){return xi.logLevel}function sn(i,...e){if(xi.logLevel<=_e.in.DEBUG){const t=e.map(Qa);xi.debug(`Firestore (${Ss}): ${i}`,...t)}}function oo(i,...e){if(xi.logLevel<=_e.in.ERROR){const t=e.map(Qa);xi.error(`Firestore (${Ss}): ${i}`,...t)}}function va(i,...e){if(xi.logLevel<=_e.in.WARN){const t=e.map(Qa);xi.warn(`Firestore (${Ss}): ${i}`,...t)}}function Qa(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Yn(i="Unexpected state"){const e=`FIRESTORE (${Ss}) INTERNAL ASSERTION FAILED: `+i;throw oo(e),new Error(e)}function Gn(i,e){i||Yn()}function Dn(i,e){return i}const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zt extends Ee.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ei{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qn.UNAUTHENTICATED))}shutdown(){}}class hl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Va{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class il{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Va(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function w(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class E{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const a=w(40);for(let u=0;u<a.length;++u)o.length<20&&a[u]<t&&(o+=e.charAt(a[u]%e.length))}return o}}function g(i,e){return i<e?-1:i>e?1:0}function k(i,e,t){return i.length===e.length&&i.every((o,a)=>t(o,e[a]))}class re{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Zt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Zt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Zt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Zt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return re.fromMillis(Date.now())}static fromDate(e){return re.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new re(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?g(this.nanoseconds,e.nanoseconds):g(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new re(0,0))}static max(){return new ie(new re(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ze{constructor(e,t,o){void 0===t?t=0:t>e.length&&Yn(),void 0===o?o=e.length-t:o>e.length-t&&Yn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Ze.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ze?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let a=0;a<o;a++){const u=e.get(a),h=t.get(a);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yt extends Ze{construct(e,t,o){return new yt(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Zt(gt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(a=>a.length>0))}return new yt(t)}static emptyPath(){return new yt([])}}const Mn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Ze{construct(e,t,o){return new rn(e,t,o)}static isValidIdentifier(e){return Mn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rn(["__name__"])}static fromServerFormat(e){const t=[];let o="",a=0;const u=()=>{if(0===o.length)throw new Zt(gt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let h=!1;for(;a<e.length;){const I=e[a];if("\\"===I){if(a+1===e.length)throw new Zt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[a+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Zt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=O,a+=2}else"`"===I?(h=!h,a++):"."!==I||h?(o+=I,a++):(u(),a++)}if(u(),h)throw new Zt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}class Kt{constructor(e){this.path=e}static fromPath(e){return new Kt(yt.fromString(e))}static fromName(e){return new Kt(yt.fromString(e).popFirst(5))}static empty(){return new Kt(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Kt(new yt(e.slice()))}}function yc(i){return new Ma(i.readTime,i.key,-1)}class Ma{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Ma(ie.min(),Kt.empty(),-1)}static max(){return new Ma(ie.max(),Kt.empty(),-1)}}function Ta(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Kt.comparator(i.documentKey,e.documentKey),0!==t?t:g(i.largestBatchId,e.largestBatchId))}const _l="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Du{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Tl(i){return(Ti=Ti||(0,ge.Z)(function*(e){if(e.code!==gt.FAILED_PRECONDITION||e.message!==_l)throw e;sn("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Yn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pt((o,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pt?t:pt.resolve(t)}catch(t){return pt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pt.reject(t)}static resolve(e){return new pt((t,o)=>{t(e)})}static reject(e){return new pt((t,o)=>{o(e)})}static waitFor(e){return new pt((t,o)=>{let a=0,u=0,h=!1;e.forEach(I=>{++a,I.next(()=>{++u,h&&u===a&&t()},O=>o(O))}),h=!0,u===a&&t()})}static or(e){let t=pt.resolve(!1);for(const o of e)t=t.next(a=>a?pt.resolve(a):o());return t}static forEach(e,t){const o=[];return e.forEach((a,u)=>{o.push(t.call(this,a,u))}),this.waitFor(o)}static mapArray(e,t){return new pt((o,a)=>{const u=e.length,h=new Array(u);let I=0;for(let O=0;O<u;O++){const W=O;t(e[W]).next(ae=>{h[W]=ae,++I,I===u&&o(h)},ae=>a(ae))}})}static doWhile(e,t){return new pt((o,a)=>{const u=()=>{!0===e()?t().next(()=>{u()},a):o()};u()})}}function Pl(i){return"IndexedDbTransactionError"===i.name}let Ks=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>o.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function zl(i){return null==i}function Al(i){return 0===i&&1/i==-1/0}function nu(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function N(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Y(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class G{constructor(e,t){this.comparator=e,this.root=t||ke.EMPTY}insert(e,t){return new G(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new G(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(0===a)return t+o.left.size;a<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pe(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pe(this.root,e,this.comparator,!1)}getReverseIterator(){return new pe(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pe(this.root,e,this.comparator,!0)}}class pe{constructor(e,t,o,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,t,o,a,u){this.key=e,this.value=t,this.color=o??ke.RED,this.left=a??ke.EMPTY,this.right=u??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,a,u){return new ke(e??this.key,t??this.value,o??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let a=this;const u=o(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,o),null):0===u?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ke.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Yn();const e=this.left.check();if(e!==this.right.check())throw Yn();return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1,ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Yn()}get value(){throw Yn()}get color(){throw Yn()}get left(){throw Yn()}get right(){throw Yn()}copy(i,e,t,o,a){return this}insert(i,e,t){return new ke(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(e){this.comparator=e,this.data=new G(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bt(this.data.getIterator())}getIteratorFrom(e){return new bt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(a,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new He(this.comparator);return t.data=e,t}}class bt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xt{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Xt([])}unionWith(e){let t=new He(rn.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Xt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return k(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Fn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class On{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Fn("Invalid base64 string: "+a):a}}(e);return new On(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new On(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return g(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const gi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(i){if(Gn(!!i),"string"==typeof i){let e=0;const t=gi.exec(i);if(Gn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:jr(i.seconds),nanos:jr(i.nanos)}}function jr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function So(i){return"string"==typeof i?On.fromBase64String(i):On.fromUint8Array(i)}function bs(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Cr(i){const e=i.mapValue.fields.__previous_value__;return bs(e)?Cr(e):e}function gs(i){const e=Wi(i.mapValue.fields.__local_write_time__.timestampValue);return new re(e.seconds,e.nanos)}class Ol{constructor(e,t,o,a,u,h,I,O,W){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=I,this.longPollingOptions=O,this.useFetchStreams=W}}class Cs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Cs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Cs&&e.projectId===this.projectId&&e.database===this.database}}const ll={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ba(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bs(i)?4:Q(i)?9007199254740991:10:Yn()}function Ha(i,e){if(i===e)return!0;const t=Ba(i);if(t!==Ba(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return gs(i).isEqual(gs(e));case 3:return function(o,a){if("string"==typeof o.timestampValue&&"string"==typeof a.timestampValue&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Wi(o.timestampValue),h=Wi(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return a=e,So(i.bytesValue).isEqual(So(a.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,a){return jr(o.geoPointValue.latitude)===jr(a.geoPointValue.latitude)&&jr(o.geoPointValue.longitude)===jr(a.geoPointValue.longitude)}(i,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return jr(o.integerValue)===jr(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=jr(o.doubleValue),h=jr(a.doubleValue);return u===h?Al(u)===Al(h):isNaN(u)&&isNaN(h)}return!1}(i,e);case 9:return k(i.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(nu(u)!==nu(h))return!1;for(const I in u)if(u.hasOwnProperty(I)&&(void 0===h[I]||!Ha(u[I],h[I])))return!1;return!0}(i,e);default:return Yn()}var a}function $l(i,e){return void 0!==(i.values||[]).find(t=>Ha(t,e))}function za(i,e){if(i===e)return 0;const t=Ba(i),o=Ba(e);if(t!==o)return g(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return g(i.booleanValue,e.booleanValue);case 2:return function(a,u){const h=jr(a.integerValue||a.doubleValue),I=jr(u.integerValue||u.doubleValue);return h<I?-1:h>I?1:h===I?0:isNaN(h)?isNaN(I)?0:-1:1}(i,e);case 3:return Ic(i.timestampValue,e.timestampValue);case 4:return Ic(gs(i),gs(e));case 5:return g(i.stringValue,e.stringValue);case 6:return function(a,u){const h=So(a),I=So(u);return h.compareTo(I)}(i.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),I=u.split("/");for(let O=0;O<h.length&&O<I.length;O++){const W=g(h[O],I[O]);if(0!==W)return W}return g(h.length,I.length)}(i.referenceValue,e.referenceValue);case 8:return function(a,u){const h=g(jr(a.latitude),jr(u.latitude));return 0!==h?h:g(jr(a.longitude),jr(u.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(a,u){const h=a.values||[],I=u.values||[];for(let O=0;O<h.length&&O<I.length;++O){const W=za(h[O],I[O]);if(W)return W}return g(h.length,I.length)}(i.arrayValue,e.arrayValue);case 10:return function(a,u){if(a===ll.mapValue&&u===ll.mapValue)return 0;if(a===ll.mapValue)return 1;if(u===ll.mapValue)return-1;const h=a.fields||{},I=Object.keys(h),O=u.fields||{},W=Object.keys(O);I.sort(),W.sort();for(let ae=0;ae<I.length&&ae<W.length;++ae){const we=g(I[ae],W[ae]);if(0!==we)return we;const et=za(h[I[ae]],O[W[ae]]);if(0!==et)return et}return g(I.length,W.length)}(i.mapValue,e.mapValue);default:throw Yn()}}function Ic(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return g(i,e);const t=Wi(i),o=Wi(e),a=g(t.seconds,o.seconds);return 0!==a?a:g(t.nanos,o.nanos)}function Gl(i){return Dc(i)}function Dc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const a=Wi(o);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?So(i.bytesValue).toBase64():"referenceValue"in i?Kt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let a="[",u=!0;for(const h of o.values||[])u?u=!1:a+=",",a+=Dc(h);return a+"]"}(i.arrayValue):"mapValue"in i?function(o){const a=Object.keys(o.fields||{}).sort();let u="{",h=!0;for(const I of a)h?h=!1:u+=",",u+=`${I}:${Dc(o.fields[I])}`;return u+"}"}(i.mapValue):Yn();var e}function nd(i){return!!i&&"integerValue"in i}function nc(i){return!!i&&"arrayValue"in i}function j(i){return!!i&&"nullValue"in i}function p(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function m(i){return!!i&&"mapValue"in i}function S(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return N(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=S(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=S(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Q(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!m(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=S(t)}setAll(e){let t=rn.emptyPath(),o={},a=[];e.forEach((h,I)=>{if(!t.isImmediateParentOf(I)){const O=this.getFieldsMap(t);this.applyChanges(O,o,a),o={},a=[],t=I.popLast()}h?o[I.lastSegment()]=S(h):a.push(I.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,a)}delete(e){const t=this.field(e.popLast());m(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=t.mapValue.fields[e.get(o)];m(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,o){N(t,(a,u)=>e[a]=u);for(const a of o)delete e[a]}clone(){return new Yt(S(this.value))}}function rr(i){const e=[];return N(i.fields,(t,o)=>{const a=new rn([t]);if(m(o)){const u=rr(o.mapValue).fields;if(0===u.length)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new Xt(e)}class En{constructor(e,t,o,a,u,h,I){this.key=e,this.documentType=t,this.version=o,this.readTime=a,this.createTime=u,this.data=h,this.documentState=I}static newInvalidDocument(e){return new En(e,0,ie.min(),ie.min(),ie.min(),Yt.empty(),0)}static newFoundDocument(e,t,o,a){return new En(e,1,t,ie.min(),o,a,0)}static newNoDocument(e,t){return new En(e,2,t,ie.min(),ie.min(),Yt.empty(),0)}static newUnknownDocument(e,t){return new En(e,3,t,ie.min(),ie.min(),Yt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ie.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xn{constructor(e,t){this.position=e,this.inclusive=t}}function Oi(i,e,t){let o=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(o=u.field.isKeyField()?Kt.comparator(Kt.fromName(h.referenceValue),t.key):za(h,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function Ea(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ha(i.position[t],e.position[t]))return!1;return!0}class Oa{constructor(e,t="asc"){this.field=e,this.dir=t}}function Na(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Wl{}class Ii extends Wl{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new Wd(e,t,o):"array-contains"===t?new Dm(e,o):"in"===t?new Nf(e,o):"not-in"===t?new Sm(e,o):"array-contains-any"===t?new Ff(e,o):new Ii(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new Pu(e,o):new Of(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(za(t,this.value)):null!==t&&Ba(this.value)===Ba(t)&&this.matchesComparison(za(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Yn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Di extends Wl{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Di(e,t)}matches(e){return El(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function El(i){return"and"===i.op}function Kl(i){return function bc(i){for(const e of i.filters)if(e instanceof Di)return!1;return!0}(i)&&El(i)}function Fl(i){if(i instanceof Ii)return i.field.canonicalString()+i.op.toString()+Gl(i.value);if(Kl(i))return i.filters.map(e=>Fl(e)).join(",");{const e=i.filters.map(t=>Fl(t)).join(",");return`${i.op}(${e})`}}function Cc(i,e){return i instanceof Ii?(t=i,(o=e)instanceof Ii&&t.op===o.op&&t.field.isEqual(o.field)&&Ha(t.value,o.value)):i instanceof Di?function(t,o){return o instanceof Di&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((a,u,h)=>a&&Cc(u,o.filters[h]),!0)}(i,e):void Yn();var t,o}function rd(i){return i instanceof Ii?`${(e=i).field.canonicalString()} ${e.op} ${Gl(e.value)}`:i instanceof Di?function(e){return e.op.toString()+" {"+e.getFilters().map(rd).join(" ,")+"}"}(i):"Filter";var e}class Wd extends Ii{constructor(e,t,o){super(e,t,o),this.key=Kt.fromName(o.referenceValue)}matches(e){const t=Kt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pu extends Ii{constructor(e,t){super(e,"in",t),this.keys=Kd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Of extends Ii{constructor(e,t){super(e,"not-in",t),this.keys=Kd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Kd(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Kt.fromName(o.referenceValue))}class Dm extends Ii{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nc(t)&&$l(t.arrayValue,this.value)}}class Nf extends Ii{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$l(this.value.arrayValue,t)}}class Sm extends Ii{constructor(e,t){super(e,"not-in",t)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$l(this.value.arrayValue,t)}}class Ff extends Ii{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>$l(this.value.arrayValue,o))}}class Lf{constructor(e,t=null,o=[],a=[],u=null,h=null,I=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=a,this.limit=u,this.startAt=h,this.endAt=I,this.dt=null}}function ku(i,e=null,t=[],o=[],a=null,u=null,h=null){return new Lf(i,e,t,o,a,u,h)}function rc(i){const e=Dn(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Fl(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(a=o).field.canonicalString()+a.dir;var a}).join(","),zl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Gl(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Gl(o)).join(",")),e.dt=t}return e.dt}function Ll(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Na(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Cc(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ea(i.startAt,e.startAt)&&Ea(i.endAt,e.endAt)}function qd(i){return Kt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Yl{constructor(e,t=null,o=[],a=[],u=null,h="F",I=null,O=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=a,this.limit=u,this.limitType=h,this.startAt=I,this.endAt=O,this.wt=null,this._t=null}}function iu(i){return new Yl(i)}function id(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Pc(i){const e=Dn(i);if(null===e.wt){e.wt=[];const t=function sd(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),o=function od(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new Oa(t)),e.wt.push(new Oa(rn.keyField(),"asc"));else{let a=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(a=!0);if(!a){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Oa(rn.keyField(),u))}}}return e.wt}function Ys(i){const e=Dn(i);if(!e._t)if("F"===e.limitType)e._t=ku(e.path,e.collectionGroup,Pc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Pc(e))t.push(new Oa(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new Xn(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Xn(e.startAt.position,e.startAt.inclusive):null;e._t=ku(e.path,e.collectionGroup,t,e.filters,e.limit,o,a)}return e._t}function Jd(i,e,t){return new Yl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ad(i,e){return Ll(Ys(i),Ys(e))&&i.limitType===e.limitType}function Uf(i){return`${rc(Ys(i))}|lt:${i.limitType}`}function Bh(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>rd(o)).join(", ")}]`),zl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(a=o).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Gl(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Gl(o)).join(",")),`Target(${t})`}(Ys(i))}; limitType=${i.limitType})`}function ml(i,e){return e.isFoundDocument()&&function(t,o){const a=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Kt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(i,e)&&function(t,o){for(const a of Pc(t))if(!a.field.isKeyField()&&null===o.data.field(a.field))return!1;return!0}(i,e)&&function(t,o){for(const a of t.filters)if(!a.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(a,u,h){const I=Oi(a,u,h);return a.inclusive?I<=0:I<0}(t.startAt,Pc(t),o)||t.endAt&&!function(a,u,h){const I=Oi(a,u,h);return a.inclusive?I>=0:I>0}(t.endAt,Pc(t),o)));var t,o}function jf(i){return(e,t)=>{let o=!1;for(const a of Pc(i)){const u=Cm(a,e,t);if(0!==u)return u;o=o||a.field.isKeyField()}return 0}}function Cm(i,e,t){const o=i.field.isKeyField()?Kt.comparator(e.key,t.key):function(a,u,h){const I=u.data.field(a),O=h.data.field(a);return null!==I&&null!==O?za(I,O):Yn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Yn()}}class ic{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[a,u]of o)if(this.equalsFn(a,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),a=this.inner[o];if(void 0===a)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return 1===o.length?delete this.inner[t]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){N(this.inner,(t,o)=>{for(const[a,u]of o)e(a,u)})}isEmpty(){return Y(this.inner)}size(){return this.innerSize}}const Vf=new G(Kt.comparator);function nl(){return Vf}const Bf=new G(Kt.comparator);function Au(...i){let e=Bf;for(const t of i)e=e.insert(t.key,t);return e}function Hf(i){let e=Bf;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function ql(){return xu()}function zf(){return xu()}function xu(){return new ic(i=>i.toString(),(i,e)=>i.isEqual(e))}const Xd=new G(Kt.comparator),oc=new He(Kt.comparator);function Xr(...i){let e=oc;for(const t of i)e=e.add(t);return e}const $f=new He(g);function Hh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Al(e)?"-0":e}}function Pm(i){return{integerValue:""+i}}function km(i,e){return function Gc(i){return"number"==typeof i&&Number.isInteger(i)&&!Al(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Pm(e):Hh(i,e)}class zh{constructor(){this._=void 0}}function $h(i,e,t){return i instanceof ld?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&bs(a)&&(a=Cr(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):i instanceof kc?B(i,e):i instanceof f?y(i,e):function(o,a){const u=Am(o,a),h=ne(u)+ne(o.gt);return nd(u)&&nd(o.gt)?Pm(h):Hh(o.serializer,h)}(i,e)}function Gh(i,e,t){return i instanceof kc?B(i,e):i instanceof f?y(i,e):t}function Am(i,e){return i instanceof b?nd(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class ld extends zh{}class kc extends zh{constructor(e){super(),this.elements=e}}function B(i,e){const t=ce(e);for(const o of i.elements)t.some(a=>Ha(a,o))||t.push(o);return{arrayValue:{values:t}}}class f extends zh{constructor(e){super(),this.elements=e}}function y(i,e){let t=ce(e);for(const o of i.elements)t=t.filter(a=>!Ha(a,o));return{arrayValue:{values:t}}}class b extends zh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function ne(i){return jr(i.integerValue||i.doubleValue)}function ce(i){return nc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ot{constructor(e,t){this.version=e,this.transformResults=t}}class St{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new St}static exists(e){return new St(void 0,e)}static updateTime(e){return new St(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sr(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class dr{}function gr(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new jl(i.key,St.none()):new Dl(i.key,i.data,St.none());{const t=i.data,o=Yt.empty();let a=new He(rn.comparator);for(let u of e.fields)if(!a.has(u)){let h=t.field(u);null===h&&u.length>1&&(u=u.popLast(),h=t.field(u)),null===h?o.delete(u):o.set(u,h),a=a.add(u)}return new Sl(i.key,o,new Xt(a.toArray()),St.none())}}function Ki(i,e,t){i instanceof Dl?function(o,a,u){const h=o.value.clone(),I=Wh(o.fieldTransforms,a,u.transformResults);h.setAll(I),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(i,e,t):i instanceof Sl?function(o,a,u){if(!sr(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=Wh(o.fieldTransforms,a,u.transformResults),I=a.data;I.setAll(th(o)),I.setAll(h),a.convertToFoundDocument(u.version,I).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function qs(i,e,t,o){return i instanceof Dl?function(a,u,h,I){if(!sr(a.precondition,u))return h;const O=a.value.clone(),W=Ac(a.fieldTransforms,I,u);return O.setAll(W),u.convertToFoundDocument(u.version,O).setHasLocalMutations(),null}(i,e,t,o):i instanceof Sl?function(a,u,h,I){if(!sr(a.precondition,u))return h;const O=Ac(a.fieldTransforms,I,u),W=u.data;return W.setAll(th(a)),W.setAll(O),u.convertToFoundDocument(u.version,W).setHasLocalMutations(),null===h?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(ae=>ae.field))}(i,e,t,o):(h=t,sr(i.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h);var u,h}function Ul(i,e){let t=null;for(const o of i.fieldTransforms){const a=e.data.field(o.field),u=Am(o.transform,a||null);null!=u&&(null===t&&(t=Yt.empty()),t.set(o.field,u))}return t||null}function gl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&k(t,o,(a,u)=>function $e(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof kc&&o instanceof kc||t instanceof f&&o instanceof f?k(t.elements,o.elements,Ha):t instanceof b&&o instanceof b?Ha(t.gt,o.gt):t instanceof ld&&o instanceof ld);var t,o}(a,u))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class Dl extends dr{constructor(e,t,o,a=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Sl extends dr{constructor(e,t,o,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function th(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Wh(i,e,t){const o=new Map;Gn(i.length===t.length);for(let a=0;a<t.length;a++){const u=i[a],h=u.transform,I=e.data.field(u.field);o.set(u.field,Gh(h,I,t[a]))}return o}function Ac(i,e,t){const o=new Map;for(const a of i){const u=a.transform,h=t.data.field(a.field);o.set(a.field,$h(u,h,e))}return o}class jl extends dr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mu extends dr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cd{constructor(e,t,o,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&Ki(u,e,o[a])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=qs(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=qs(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=zf();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let I=this.applyToLocalView(h,u.mutatedFields);I=t.has(a.key)?null:I;const O=gr(h,I);null!==O&&o.set(a.key,O),h.isValidDocument()||h.convertToNoDocument(ie.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xr())}isEqual(e){return this.batchId===e.batchId&&k(this.mutations,e.mutations,(t,o)=>gl(t,o))&&k(this.baseMutations,e.baseMutations,(t,o)=>gl(t,o))}}class su{constructor(e,t,o,a){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=a}static from(e,t,o){Gn(e.mutations.length===o.length);let a=Xd;const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,o[h].version);return new su(e,t,o,a)}}class nh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xm{constructor(e,t){this.count=e,this.unchangedNames=t}}var Zs,zi;function Kh(i){if(void 0===i)return oo("GRPC error has no .code"),gt.UNKNOWN;switch(i){case Zs.OK:return gt.OK;case Zs.CANCELLED:return gt.CANCELLED;case Zs.UNKNOWN:return gt.UNKNOWN;case Zs.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case Zs.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case Zs.INTERNAL:return gt.INTERNAL;case Zs.UNAVAILABLE:return gt.UNAVAILABLE;case Zs.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case Zs.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case Zs.NOT_FOUND:return gt.NOT_FOUND;case Zs.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case Zs.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case Zs.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case Zs.ABORTED:return gt.ABORTED;case Zs.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case Zs.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case Zs.DATA_LOSS:return gt.DATA_LOSS;default:return Yn()}}(zi=Zs||(Zs={}))[zi.OK=0]="OK",zi[zi.CANCELLED=1]="CANCELLED",zi[zi.UNKNOWN=2]="UNKNOWN",zi[zi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zi[zi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zi[zi.NOT_FOUND=5]="NOT_FOUND",zi[zi.ALREADY_EXISTS=6]="ALREADY_EXISTS",zi[zi.PERMISSION_DENIED=7]="PERMISSION_DENIED",zi[zi.UNAUTHENTICATED=16]="UNAUTHENTICATED",zi[zi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zi[zi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zi[zi.ABORTED=10]="ABORTED",zi[zi.OUT_OF_RANGE=11]="OUT_OF_RANGE",zi[zi.UNIMPLEMENTED=12]="UNIMPLEMENTED",zi[zi.INTERNAL=13]="INTERNAL",zi[zi.UNAVAILABLE=14]="UNAVAILABLE",zi[zi.DATA_LOSS=15]="DATA_LOSS";class Gf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ud}static getOrCreateInstance(){return null===ud&&(ud=new Gf),ud}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ud=null;const Mm=new Qn([4294967295,4294967295],0);function au(i){const e=function Wf(){return new TextEncoder}().encode(i),t=new Pr;return t.update(e),new Uint8Array(t.digest())}function Rm(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qn([t,o],0),new Qn([a,u],0)]}class rh{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new lu(`Invalid padding: ${t}`);if(o<0)throw new lu(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new lu(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new lu(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Qn.fromNumber(this.It)}Et(e,t,o){let a=e.add(t.multiply(Qn.fromNumber(o)));return 1===a.compare(Mm)&&(a=new Qn([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=au(e),[o,a]=Rm(t);for(let u=0;u<this.hashCount;u++){const h=this.Et(o,a,u);if(!this.At(h))return!1}return!0}static create(e,t,o){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new rh(u,a,t);return o.forEach(I=>h.insert(I)),h}insert(e){if(0===this.It)return;const t=au(e),[o,a]=Rm(t);for(let u=0;u<this.hashCount;u++){const h=this.Et(o,a,u);this.Rt(h)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ih{constructor(e,t,o,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const a=new Map;return a.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new ih(ie.min(),a,new G(g),nl(),Xr())}}class Ru{constructor(e,t,o,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Ru(o,t,Xr(),Xr(),Xr())}}class Ou{constructor(e,t,o,a){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=a}}class cu{constructor(e,t){this.targetId=e,this.Vt=t}}class Kf{constructor(e,t,o=On.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=a}}class qh{constructor(){this.St=0,this.Dt=qf(),this.Ct=On.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Xr(),t=Xr(),o=Xr();return this.Dt.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:o=o.add(a);break;default:Yn()}}),new Ru(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=qf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Oy{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=nl(),this.zt=Om(),this.Wt=new G(g)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:Yn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,a)=>{this.te(a)&&t(a)})}ne(e){var t;const o=e.targetId,a=e.Vt.count,u=this.se(o);if(u){const h=u.target;if(qd(h))if(0===a){const I=new Kt(h.path);this.Yt(o,I,En.newNoDocument(I,ie.min()))}else Gn(1===a);else{const I=this.ie(o);if(I!==a){const O=this.re(e,I);0!==O&&(this.ee(o),this.Wt=this.Wt.insert(o,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Gf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(W,ae,we){var et,ct,Bt,vn,An,qr;const di={localCacheCount:ae,existenceFilterCount:we.count},Ir=we.unchangedNames;return Ir&&(di.bloomFilter={applied:0===W,hashCount:null!==(et=Ir?.hashCount)&&void 0!==et?et:0,bitmapLength:null!==(vn=null===(Bt=null===(ct=Ir?.bits)||void 0===ct?void 0:ct.bitmap)||void 0===Bt?void 0:Bt.length)&&void 0!==vn?vn:0,padding:null!==(qr=null===(An=Ir?.bits)||void 0===An?void 0:An.padding)&&void 0!==qr?qr:0}),di}(O,I,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:a}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:h=0},hashCount:I=0}=o;let O,W;try{O=So(u).toUint8Array()}catch(ae){if(ae instanceof Fn)return va("Decoding the base64 bloom filter in existence filter failed ("+ae.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ae}try{W=new rh(O,h,I)}catch(ae){return va(ae instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",ae),1}return 0===W.It?1:a!==t-this.oe(e.targetId,W)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let a=0;return o.forEach(u=>{const h=this.Gt.ue(),I=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.vt(I)||(this.Yt(e,u,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((u,h)=>{const I=this.se(h);if(I){if(u.current&&qd(I.target)){const O=new Kt(I.target.path);null!==this.jt.get(O)||this.ae(h,O)||this.Yt(h,O,En.newNoDocument(O,e))}u.Mt&&(t.set(h,u.Ot()),u.Ft())}});let o=Xr();this.zt.forEach((u,h)=>{let I=!0;h.forEachWhile(O=>{const W=this.se(O);return!W||"TargetPurposeLimboResolution"===W.purpose||(I=!1,!1)}),I&&(o=o.add(u))}),this.jt.forEach((u,h)=>h.setReadTime(e));const a=new ih(e,t,this.Wt,this.jt,o);return this.jt=nl(),this.zt=Om(),this.Wt=new G(g),a}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new qh,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new He(g),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||sn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new qh),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Om(){return new G(Kt.comparator)}function qf(){return new G(Kt.comparator)}const dd=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Ny=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Fy=(()=>({and:"AND",or:"OR"}))();class Ly{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function oh(i,e){return i.useProto3Json||zl(e)?e:{value:e}}function hd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zf(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Yy(i,e){return hd(i,e.toTimestamp())}function Us(i){return Gn(!!i),ie.fromTimestamp(function(e){const t=Wi(e);return new re(t.seconds,t.nanos)}(i))}function Nm(i,e){return(t=i,new yt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Fm(i){const e=yt.fromString(i);return Gn(Bm(e)),e}function xc(i,e){return Nm(i.databaseId,e.path)}function sc(i,e){const t=Fm(e);if(t.get(1)!==i.databaseId.projectId)throw new Zt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Zt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Kt(Qf(t))}function uu(i,e){return Nm(i.databaseId,e)}function sh(i){return new yt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Qf(i){return Gn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Lm(i,e,t){return{name:xc(i,e),fields:t.value.mapValue.fields}}function jm(i,e){return{documents:[uu(i,e.path)]}}function lh(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=uu(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=uu(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const a=function(O){if(0!==O.length)return Nu(Di.create(O,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(O){if(0!==O.length)return O.map(W=>{return{field:du((ae=W).field),direction:Vy(ae.dir)};var ae})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=oh(i,e.limit);var I,O;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(I=e.startAt).inclusive,values:I.position}),e.endAt&&(t.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),t}function md(i){let e=function fd(i){const e=Fm(i);return 4===e.length?yt.emptyPath():Qf(e)}(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let a=null;if(o>0){Gn(1===o);const ae=t.from[0];ae.allDescendants?a=ae.collectionId:e=e.child(ae.collectionId)}let u=[];t.where&&(u=function(ae){const we=Vm(ae);return we instanceof Di&&Kl(we)?we.getFilters():[we]}(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(ae=>{return new Oa(gd((we=ae).field),function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(we.direction));var we}));let I=null;t.limit&&(I=function(ae){let we;return we="object"==typeof ae?ae.value:ae,zl(we)?null:we}(t.limit));let O=null;var ae;t.startAt&&(O=new Xn((ae=t.startAt).values||[],!!ae.before));let W=null;return t.endAt&&(W=function(ae){return new Xn(ae.values||[],!ae.before)}(t.endAt)),function Yf(i,e,t,o,a,u,h,I){return new Yl(i,e,t,o,a,u,h,I)}(e,a,h,u,I,"F",O,W)}function Vm(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=gd(e.unaryFilter.field);return Ii.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=gd(e.unaryFilter.field);return Ii.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=gd(e.unaryFilter.field);return Ii.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=gd(e.unaryFilter.field);return Ii.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Yn()}}(i):void 0!==i.fieldFilter?Ii.create(gd((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Di.create(e.compositeFilter.filters.map(t=>Vm(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Yn()}}(e.compositeFilter.op))}(i):Yn();var e}function Vy(i){return dd[i]}function By(i){return Ny[i]}function Hy(i){return Fy[i]}function du(i){return{fieldPath:i.canonicalString()}}function gd(i){return rn.fromServerFormat(i.fieldPath)}function Nu(i){return i instanceof Ii?function(e){if("=="===e.op){if(p(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NAN"}};if(j(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(p(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NOT_NAN"}};if(j(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(e.field),op:By(e.op),value:e.value}}}(i):i instanceof Di?function(e){const t=e.getFilters().map(o=>Nu(o));return 1===t.length?t[0]:{compositeFilter:{op:Hy(e.op),filters:t}}}(i):Yn()}function Mc(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Bm(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Rc{constructor(e,t,o,a,u=ie.min(),h=ie.min(),I=On.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=I,this.expectedCount=O}withSequenceNumber(e){return new Rc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zy{constructor(e){this.fe=e}}function tp(i){const e=md({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Jd(e,e.limit,"L"):e}class Lu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(jr(e.integerValue));else if("doubleValue"in e){const o=jr(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),Al(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(So(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?Q(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Yn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const a of Object.keys(o))this.Te(a,t),this.me(o[a],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const a of o)this.me(a,t)}ve(e,t){this.ye(t,37),Kt.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Lu.Ve=new Lu;class ap{constructor(){this.rn=new lp}addToCollectionParentIndex(e,t){return this.rn.add(t),pt.resolve()}getCollectionParents(e,t){return pt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return pt.resolve()}deleteFieldIndex(e,t){return pt.resolve()}getDocumentsMatchingTarget(e,t){return pt.resolve(null)}getIndexType(e,t){return pt.resolve(0)}getFieldIndexes(e,t){return pt.resolve([])}getNextCollectionGroupToUpdate(e){return pt.resolve(null)}getMinOffset(e,t){return pt.resolve(Ma.min())}getMinOffsetFromCollectionGroup(e,t){return pt.resolve(Ma.min())}updateCollectionGroup(e,t,o){return pt.resolve()}updateIndexEntries(e,t){return pt.resolve()}}class lp{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t]||new He(yt.comparator),u=!a.has(o);return this.index[t]=a.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),a=this.index[t];return a&&a.has(o)}getEntries(e){return(this.index[e]||new He(yt.comparator)).toArray()}}class rl{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new rl(e,rl.DEFAULT_COLLECTION_PERCENTILE,rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}rl.DEFAULT_COLLECTION_PERCENTILE=10,rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rl.DEFAULT=new rl(41943040,rl.DEFAULT_COLLECTION_PERCENTILE,rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rl.DISABLED=new rl(-1,0,0);class Vu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Vu(0)}static Mn(){return new Vu(-1)}}class ng{constructor(){this.changes=new ic(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?pt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dh{constructor(e,t,o,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==o&&qs(o.mutation,a,Xt.empty(),re.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Xr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Xr()){const a=ql();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,o).next(u=>{let h=Au();return u.forEach((I,O)=>{h=h.insert(I,O.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const o=ql();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Xr()))}populateOverlays(e,t,o){const a=[];return o.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,I)=>{t.set(h,I)})})}computeViews(e,t,o,a){let u=nl();const h=xu(),I=xu();return t.forEach((O,W)=>{const ae=o.get(W.key);a.has(W.key)&&(void 0===ae||ae.mutation instanceof Sl)?u=u.insert(W.key,W):void 0!==ae?(h.set(W.key,ae.mutation.getFieldMask()),qs(ae.mutation,W,ae.mutation.getFieldMask(),re.now())):h.set(W.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,u).next(O=>(O.forEach((W,ae)=>h.set(W,ae)),t.forEach((W,ae)=>{var we;return I.set(W,new gp(ae,null!==(we=h.get(W))&&void 0!==we?we:null))}),I))}recalculateAndSaveOverlays(e,t){const o=xu();let a=new G((h,I)=>h-I),u=Xr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const I of h)I.keys().forEach(O=>{const W=t.get(O);if(null===W)return;let ae=o.get(O)||Xt.empty();ae=I.applyToLocalView(W,ae),o.set(O,ae);const we=(a.get(I.batchId)||Xr()).add(O);a=a.insert(I.batchId,we)})}).next(()=>{const h=[],I=a.getReverseIterator();for(;I.hasNext();){const O=I.getNext(),W=O.key,ae=O.value,we=zf();ae.forEach(et=>{if(!u.has(et)){const ct=gr(t.get(et),o.get(et));null!==ct&&we.set(et,ct),u=u.add(et)}}),h.push(this.documentOverlayCache.saveOverlays(e,W,we))}return pt.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Kt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Qd(i){return null!==i.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var a}getNextDocuments(e,t,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,a-u.size):pt.resolve(ql());let I=-1,O=u;return h.next(W=>pt.forEach(W,(ae,we)=>(I<we.largestBatchId&&(I=we.largestBatchId),u.get(ae)?pt.resolve():this.remoteDocumentCache.getEntry(e,ae).next(et=>{O=O.insert(ae,et)}))).next(()=>this.populateOverlays(e,W,u)).next(()=>this.computeViews(e,O,W,Xr())).next(ae=>({batchId:I,changes:Hf(ae)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Kt(t)).next(o=>{let a=Au();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const a=t.collectionGroup;let u=Au();return this.indexManager.getCollectionParents(e,a).next(h=>pt.forEach(h,I=>{const O=(W=t,ae=I.child(a),new Yl(ae,null,W.explicitOrderBy.slice(),W.filters.slice(),W.limit,W.limitType,W.startAt,W.endAt));var W,ae;return this.getDocumentsMatchingCollectionQuery(e,O,o).next(W=>{W.forEach((ae,we)=>{u=u.insert(ae,we)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,a))).next(u=>{a.forEach((I,O)=>{const W=O.getKey();null===u.get(W)&&(u=u.insert(W,En.newInvalidDocument(W)))});let h=Au();return u.forEach((I,O)=>{const W=a.get(I);void 0!==W&&qs(W.mutation,O,Xt.empty(),re.now()),ml(t,O)&&(h=h.insert(I,O))}),h})}}class ig{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return pt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:Us(o.createTime)}),pt.resolve()}getNamedQuery(e,t){return pt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:tp(o.bundledQuery),readTime:Us(o.readTime)}),pt.resolve();var o}}class yp{constructor(){this.overlays=new G(Kt.comparator),this.ls=new Map}getOverlay(e,t){return pt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=ql();return pt.forEach(t,a=>this.getOverlay(e,a).next(u=>{null!==u&&o.set(a,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((a,u)=>{this.we(e,t,u)}),pt.resolve()}removeOverlaysForBatchId(e,t,o){const a=this.ls.get(o);return void 0!==a&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(o)),pt.resolve()}getOverlaysForCollection(e,t,o){const a=ql(),u=t.length+1,h=new Kt(t.child("")),I=this.overlays.getIteratorFrom(h);for(;I.hasNext();){const O=I.getNext().value,W=O.getKey();if(!t.isPrefixOf(W.path))break;W.path.length===u&&O.largestBatchId>o&&a.set(O.getKey(),O)}return pt.resolve(a)}getOverlaysForCollectionGroup(e,t,o,a){let u=new G((W,ae)=>W-ae);const h=this.overlays.getIterator();for(;h.hasNext();){const W=h.getNext().value;if(W.getKey().getCollectionGroup()===t&&W.largestBatchId>o){let ae=u.get(W.largestBatchId);null===ae&&(ae=ql(),u=u.insert(W.largestBatchId,ae)),ae.set(W.getKey(),W)}}const I=ql(),O=u.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((W,ae)=>I.set(W,ae)),!(I.size()>=a)););return pt.resolve(I)}we(e,t,o){const a=this.overlays.get(o.key);if(null!==a){const h=this.ls.get(a.largestBatchId).delete(o.key);this.ls.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new nh(t,o));let u=this.ls.get(t);void 0===u&&(u=Xr(),this.ls.set(t,u)),this.ls.set(t,u.add(o.key))}}class hh{constructor(){this.fs=new He(da.ds),this.ws=new He(da._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new da(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new da(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new Kt(new yt([])),o=new da(t,e),a=new da(t,e+1),u=[];return this.ws.forEachInRange([o,a],h=>{this.ys(h),u.push(h.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Kt(new yt([])),o=new da(t,e),a=new da(t,e+1);let u=Xr();return this.ws.forEachInRange([o,a],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new da(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class da{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Kt.comparator(e.key,t.key)||g(e.As,t.As)}static _s(e,t){return g(e.As,t.As)||Kt.comparator(e.key,t.key)}}class og{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new He(da.ds)}checkEmpty(e){return pt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,a){const u=this.vs;this.vs++;const h=new cd(u,t,o,a);this.mutationQueue.push(h);for(const I of a)this.Rs=this.Rs.add(new da(I.key,u)),this.indexManager.addToCollectionParentIndex(e,I.key.path.popLast());return pt.resolve(h)}lookupMutationBatch(e,t){return pt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),u=a<0?0:a;return pt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new da(t,0),a=new da(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,a],h=>{const I=this.Ps(h.As);u.push(I)}),pt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new He(g);return t.forEach(a=>{const u=new da(a,0),h=new da(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,h],I=>{o=o.add(I.As)})}),pt.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,a=o.length+1;let u=o;Kt.isDocumentKey(u)||(u=u.child(""));const h=new da(new Kt(u),0);let I=new He(g);return this.Rs.forEachWhile(O=>{const W=O.key.path;return!!o.isPrefixOf(W)&&(W.length===a&&(I=I.add(O.As)),!0)},h),pt.resolve(this.Vs(I))}Vs(e){const t=[];return e.forEach(o=>{const a=this.Ps(o);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Gn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return pt.forEach(t.mutations,a=>{const u=new da(a.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new da(t,0),a=this.Rs.firstAfterOrEqual(o);return pt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return pt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vp{constructor(e){this.Ds=e,this.docs=new G(Kt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,a=this.docs.get(o),u=a?a.size:0,h=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return pt.resolve(o?o.document.mutableCopy():En.newInvalidDocument(t))}getEntries(e,t){let o=nl();return t.forEach(a=>{const u=this.docs.get(a);o=o.insert(a,u?u.document.mutableCopy():En.newInvalidDocument(a))}),pt.resolve(o)}getDocumentsMatchingQuery(e,t,o,a){let u=nl();const h=t.path,I=new Kt(h.child("")),O=this.docs.getIteratorFrom(I);for(;O.hasNext();){const{key:W,value:{document:ae}}=O.getNext();if(!h.isPrefixOf(W.path))break;W.path.length>h.length+1||Ta(yc(ae),o)<=0||(a.has(ae.key)||ml(t,ae))&&(u=u.insert(ae.key,ae.mutableCopy()))}return pt.resolve(u)}getAllFromCollectionGroup(e,t,o,a){Yn()}Cs(e,t){return pt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new ev(this)}getSize(e){return pt.resolve(this.size)}}class ev extends ng{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(o)}),pt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class tv{constructor(e){this.persistence=e,this.xs=new ic(t=>rc(t),Ll),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Ns=0,this.ks=new hh,this.targetCount=0,this.Ms=Vu.kn()}forEachTarget(e,t){return this.xs.forEach((o,a)=>t(a)),pt.resolve()}getLastRemoteSnapshotVersion(e){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),pt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Vu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,pt.resolve()}updateTargetData(e,t){return this.Fn(t),pt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,pt.resolve()}removeTargets(e,t,o){let a=0;const u=[];return this.xs.forEach((h,I)=>{I.sequenceNumber<=t&&null===o.get(I.targetId)&&(this.xs.delete(h),u.push(this.removeMatchingKeysForTargetId(e,I.targetId)),a++)}),pt.waitFor(u).next(()=>a)}getTargetCount(e){return pt.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return pt.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),pt.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),pt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),pt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return pt.resolve(o)}containsKey(e,t){return pt.resolve(this.ks.containsKey(t))}}class tf{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ks(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new tv(this),this.indexManager=new ap,this.remoteDocumentCache=new vp(o=>this.referenceDelegate.Ls(o)),this.serializer=new zy(t),this.qs=new ig(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new og(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){sn("MemoryPersistence","Starting transaction:",e);const a=new nv(this.Os.next());return this.referenceDelegate.Us(),o(a).next(u=>this.referenceDelegate.Ks(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Gs(e,t){return pt.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class nv extends Du{constructor(e){super(),this.currentSequenceNumber=e}}class fh{constructor(e){this.persistence=e,this.Qs=new hh,this.js=null}static zs(e){return new fh(e)}get Ws(){if(this.js)return this.js;throw Yn()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),pt.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),pt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),pt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.Ws.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.Ws,o=>{const a=Kt.fromPath(o);return this.Hs(e,a).next(u=>{u||t.removeEntry(a,ie.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return pt.or([()=>pt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class nf{constructor(e,t,o,a){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=a}static Li(e,t){let o=Xr(),a=Xr();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new nf(e,t.fromCache,o,a)}}class ag{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,a){return this.Ki(e,t).next(u=>u||this.Gi(e,t,a,o)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(id(t))return pt.resolve(null);let o=Ys(t);return this.indexManager.getIndexType(e,o).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Jd(t,null,"F"),o=Ys(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const h=Xr(...u);return this.Ui.getDocuments(e,h).next(I=>this.indexManager.getMinOffset(e,o).next(O=>{const W=this.ji(t,I);return this.zi(t,W,h,O.readTime)?this.Ki(e,Jd(t,null,"F")):this.Wi(e,W,t,O)}))})))}Gi(e,t,o,a){return id(t)||a.isEqual(ie.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(u=>{const h=this.ji(t,u);return this.zi(t,h,o,a)?this.Qi(e,t):(ms()<=_e.in.DEBUG&&sn("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bh(t)),this.Wi(e,h,t,function Xa(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,a=ie.fromTimestamp(1e9===o?new re(t+1,0):new re(t,o));return new Ma(a,Kt.empty(),e)}(a,-1)))})}ji(e,t){let o=new He(jf(e));return t.forEach((a,u)=>{ml(e,u)&&(o=o.add(u))}),o}zi(e,t,o,a){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Qi(e,t){return ms()<=_e.in.DEBUG&&sn("QueryEngine","Using full collection scan to execute query:",Bh(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ma.min())}Wi(e,t,o,a){return this.Ui.getDocumentsMatchingQuery(e,o,a).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}class iv{constructor(e,t,o,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new G(g),this.Yi=new ic(u=>rc(u),Ll),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dh(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function wp(i,e){return(Mr=Mr||(0,ge.Z)(function*(t,o){const a=Dn(t);return yield a.persistence.runTransaction("Handle user change","readonly",u=>{let h;return a.mutationQueue.getAllMutationBatches(u).next(I=>(h=I,a.tr(o),a.mutationQueue.getAllMutationBatches(u))).next(I=>{const O=[],W=[];let ae=Xr();for(const we of h){O.push(we.batchId);for(const et of we.mutations)ae=ae.add(et.key)}for(const we of I){W.push(we.batchId);for(const et of we.mutations)ae=ae.add(et.key)}return a.localDocuments.getDocuments(u,ae).next(we=>({er:we,removedBatchIds:O,addedBatchIds:W}))})})})).apply(this,arguments)}function cg(i){const e=Dn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function sv(i,e){const t=Dn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Dd(i,e,t){return(wi=wi||(0,ge.Z)(function*(o,a,u){const h=Dn(o),I=h.Ji.get(a),O=u?"readwrite":"readwrite-primary";try{u||(yield h.persistence.runTransaction("Release target",O,W=>h.persistence.referenceDelegate.removeTarget(W,I)))}catch(W){if(!Pl(W))throw W;sn("LocalStore",`Failed to update sequence numbers for target ${a}: ${W}`)}h.Ji=h.Ji.remove(a),h.Yi.delete(I.target)})).apply(this,arguments)}function rf(i,e,t){const o=Dn(i);let a=ie.min(),u=Xr();return o.persistence.runTransaction("Execute query","readonly",h=>function(I,O,W){const ae=Dn(I),we=ae.Yi.get(W);return void 0!==we?pt.resolve(ae.Ji.get(we)):ae.Bs.getTargetData(O,W)}(o,h,Ys(e)).next(I=>{if(I)return a=I.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(h,I.targetId).next(O=>{u=O})}).next(()=>o.Hi.getDocumentsMatchingQuery(h,e,t?a:ie.min(),t?u:Xr())).next(I=>(function dg(i,e,t){let o=i.Xi.get(e)||ie.min();t.forEach((a,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),i.Xi.set(e,o)}(o,function ou(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),I),{documents:I,ir:u})))}class Cd{constructor(){this.activeTargetIds=function eh(){return $f}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lv{constructor(){this.Hr=new Cd,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Cd,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dp{Yr(e){}shutdown(){}}class cv{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){sn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){sn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vh=null;function lf(){return null===vh?vh=268435456+Math.round(2147483648*Math.random()):vh++,"0x"+vh.toString(16)}const mg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gg{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Fa="WebChannelConnection";class Lc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,a,u){const h=lf(),I=this.To(e,t);sn("RestConnection",`Sending RPC '${e}' ${h}:`,I,o);const O={};return this.Eo(O,a,u),this.Ao(e,I,O,o).then(W=>(sn("RestConnection",`Received RPC '${e}' ${h}: `,W),W),W=>{throw va("RestConnection",`RPC '${e}' ${h} failed with error: `,W,"url: ",I,"request:",o),W})}vo(e,t,o,a,u,h){return this.Io(e,t,o,a,u)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ss,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),o&&o.headers.forEach((a,u)=>e[u]=a)}To(e,t){return`${this.mo}/v1/${t}:${mg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,a){const u=lf();return new Promise((h,I)=>{const O=new zr;O.setWithCredentials(!0),O.listenOnce(Te.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case te.NO_ERROR:const ae=O.getResponseJson();sn(Fa,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(ae)),h(ae);break;case te.TIMEOUT:sn(Fa,`RPC '${e}' ${u} timed out`),I(new Zt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case te.HTTP_ERROR:const we=O.getStatus();if(sn(Fa,`RPC '${e}' ${u} failed with status:`,we,"response text:",O.getResponseText()),we>0){let et=O.getResponseJson();Array.isArray(et)&&(et=et[0]);const ct=et?.error;if(ct&&ct.status&&ct.message){const Bt=function(vn){const An=vn.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(An)>=0?An:gt.UNKNOWN}(ct.status);I(new Zt(Bt,ct.message))}else I(new Zt(gt.UNKNOWN,"Server responded with status "+O.getStatus()))}else I(new Zt(gt.UNAVAILABLE,"Connection failed."));break;default:Yn()}}finally{sn(Fa,`RPC '${e}' ${u} completed.`)}});const W=JSON.stringify(a);sn(Fa,`RPC '${e}' ${u} sending request:`,a),O.send(t,"POST",W,o,15)})}Ro(e,t,o){const a=lf(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=H(),I=x(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(O.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(O.xmlHttpFactory=new wn({})),this.Eo(O.initMessageHeaders,t,o),O.encodeInitMessageHeaders=!0;const ae=u.join("");sn(Fa,`Creating RPC '${e}' stream ${a}: ${ae}`,O);const we=h.createWebChannel(ae,O);let et=!1,ct=!1;const Bt=new gg({ro:An=>{ct?sn(Fa,`Not sending because RPC '${e}' stream ${a} is closed:`,An):(et||(sn(Fa,`Opening RPC '${e}' stream ${a} transport.`),we.open(),et=!0),sn(Fa,`RPC '${e}' stream ${a} sending:`,An),we.send(An))},oo:()=>we.close()}),vn=(An,qr,di)=>{An.listen(qr,Ir=>{try{di(Ir)}catch(ki){setTimeout(()=>{throw ki},0)}})};return vn(we,vr.EventType.OPEN,()=>{ct||sn(Fa,`RPC '${e}' stream ${a} transport opened.`)}),vn(we,vr.EventType.CLOSE,()=>{ct||(ct=!0,sn(Fa,`RPC '${e}' stream ${a} transport closed`),Bt.wo())}),vn(we,vr.EventType.ERROR,An=>{ct||(ct=!0,va(Fa,`RPC '${e}' stream ${a} transport errored:`,An),Bt.wo(new Zt(gt.UNAVAILABLE,"The operation could not be completed")))}),vn(we,vr.EventType.MESSAGE,An=>{var qr;if(!ct){const di=An.data[0];Gn(!!di);const ki=di.error||(null===(qr=di[0])||void 0===qr?void 0:qr.error);if(ki){sn(Fa,`RPC '${e}' stream ${a} received error:`,ki);const eo=ki.status;let $o=function(Xl){const mc=Zs[Xl];if(void 0!==mc)return Kh(mc)}(eo),dl=ki.message;void 0===$o&&($o=gt.INTERNAL,dl="Unknown error status: "+eo+" with message "+ki.message),ct=!0,Bt.wo(new Zt($o,dl)),we.close()}else sn(Fa,`RPC '${e}' stream ${a} received:`,di),Bt._o(di)}}),vn(I,it.STAT_EVENT,An=>{An.stat===Dt.PROXY?sn(Fa,`RPC '${e}' stream ${a} detected buffering proxy`):An.stat===Dt.NOPROXY&&sn(Fa,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Bt.fo()},0),Bt}}function Hu(){return typeof document<"u"?document:null}function Yc(i){return new Ly(i,!0)}class Sp{constructor(e,t,o=1e3,a=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=a,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-o);a>0&&sn("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class bp{constructor(e,t,o,a,u,h,I,O){this.ii=e,this.$o=o,this.Oo=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=I,this.listener=O,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Sp(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ge.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ge.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,ge.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===gt.RESOURCE_EXHAUSTED?(oo(t.toString()),oo("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===gt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Fo===t&&this.Zo(o,a)},o=>{e(()=>{const a=new Zt(gt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(a)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{o(()=>this.tu(a))}),this.stream.onMessage(a=>{o(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,ge.Z)(function*(){e.state=0,e.start()}))}tu(e){return sn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(sn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yg extends bp{constructor(e,t,o,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,a,h),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Um(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:Yn(),a=e.targetChange.targetIds||[],u=function(O,W){return O.useProto3Json?(Gn(void 0===W||"string"==typeof W),On.fromBase64String(W||"")):(Gn(void 0===W||W instanceof Uint8Array),On.fromUint8Array(W||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,I=h&&function(O){const W=void 0===O.code?gt.UNKNOWN:Kh(O.code);return new Zt(W,O.message||"")}(h);t=new Kf(o,a,u,I||null)}else if("documentChange"in e){const o=e.documentChange,a=sc(i,o.document.name),u=Us(o.document.updateTime),h=o.document.createTime?Us(o.document.createTime):ie.min(),I=new Yt({mapValue:{fields:o.document.fields}}),O=En.newFoundDocument(a,u,h,I);t=new Ou(o.targetIds||[],o.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const o=e.documentDelete,a=sc(i,o.document),u=o.readTime?Us(o.readTime):ie.min(),h=En.newNoDocument(a,u);t=new Ou([],o.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const o=e.documentRemove,a=sc(i,o.document);t=new Ou([],o.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Yn();{const o=e.filter,{count:a=0,unchangedNames:u}=o,h=new xm(a,u);t=new cu(o.targetId,h)}}var O;return t}(this.serializer,e),o=function(a){if(!("targetChange"in a))return ie.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ie.min():u.readTime?Us(u.readTime):ie.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=sh(this.serializer),t.addTarget=function(a,u){let h;const I=u.target;if(h=qd(I)?{documents:jm(a,I)}:{query:lh(a,I)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Zf(a,u.resumeToken);const O=oh(a,u.expectedCount);null!==O&&(h.expectedCount=O)}else if(u.snapshotVersion.compareTo(ie.min())>0){h.readTime=hd(a,u.snapshotVersion.toTimestamp());const O=oh(a,u.expectedCount);null!==O&&(h.expectedCount=O)}return h}(this.serializer,e);const o=function jy(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=sh(this.serializer),t.removeTarget=e,this.Wo(t)}}class uv extends bp{constructor(e,t,o,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,a,h),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Gn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Jf(i,e){return i&&i.length>0?(Gn(void 0!==e),i.map(t=>function(o,a){let u=Us(o.updateTime?o.updateTime:a);return u.isEqual(ie.min())&&(u=Us(a)),new ot(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Us(e.commitTime);return this.listener.cu(o,t)}return Gn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=sh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>function pd(i,e){let t;if(e instanceof Dl)t={update:Lm(i,e.key,e.value)};else if(e instanceof jl)t={delete:xc(i,e.key)};else if(e instanceof Sl)t={update:Lm(i,e.key,e.data),updateMask:Mc(e.fieldMask)};else{if(!(e instanceof Mu))return Yn();t={verify:xc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(a,u){const h=u.transform;if(h instanceof ld)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof kc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof f)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof b)return{fieldPath:u.field.canonicalString(),increment:h.gt};throw Yn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Yy(i,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Yn()),t;var a}(this.serializer,o))};this.Wo(t)}}class dv extends class{}{constructor(e,t,o,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Zt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Io(e,t,o,a,u)).catch(a=>{throw"FirebaseError"===a.name?(a.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Zt(gt.UNKNOWN,a.toString())})}vo(e,t,o,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.vo(e,t,o,u,h,a)).catch(u=>{throw"FirebaseError"===u.name?(u.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Zt(gt.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class hv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(oo(t),this.mu=!1):sn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class uT{constructor(e,t,o,a,u){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(I=>{o.enqueueAndForget((0,ge.Z)(function*(){var O;cc(h)&&(sn("RemoteStore","Restarting streams for network reachability change."),yield function(W){return(O=O||(0,ge.Z)(function*(ae){const we=Dn(ae);we.vu.add(4),yield kd(we),we.bu.set("Unknown"),we.vu.delete(4),yield wh(we)})).apply(this,arguments)}(h))}))}),this.bu=new hv(o,a)}}function wh(i){return(Uo=Uo||(0,ge.Z)(function*(e){if(cc(e))for(const t of e.Ru)yield t(!0)})).apply(this,arguments)}function kd(i){return(jo=jo||(0,ge.Z)(function*(e){for(const t of e.Ru)yield t(!1)})).apply(this,arguments)}function cf(i,e){const t=Dn(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),uf(t)?Pp(t):xd(t).Ko()&&Cp(t,e))}function Eh(i,e){const t=Dn(i),o=xd(t);t.Au.delete(e),o.Ko()&&vg(t,e),0===t.Au.size&&(o.Ko()?o.jo():cc(t)&&t.bu.set("Unknown"))}function Cp(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xd(i).su(e)}function vg(i,e){i.Vu.qt(e),xd(i).iu(e)}function Pp(i){i.Vu=new Oy({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),xd(i).start(),i.bu.gu()}function uf(i){return cc(i)&&!xd(i).Uo()&&i.Au.size>0}function cc(i){return 0===Dn(i).vu.size}function _g(i){i.Vu=void 0}function kp(i){return(kn=kn||(0,ge.Z)(function*(e){e.Au.forEach((t,o)=>{Cp(e,t)})})).apply(this,arguments)}function fv(i,e){return(jn=jn||(0,ge.Z)(function*(t,o){_g(t),uf(t)?(t.bu.Iu(o),Pp(t)):t.bu.set("Unknown")})).apply(this,arguments)}function pv(i,e,t){return(or=or||(0,ge.Z)(function*(o,a,u){if(o.bu.set("Online"),a instanceof Kf&&2===a.state&&a.cause)try{var h;yield function(I,O){return(h=h||(0,ge.Z)(function*(W,ae){const we=ae.cause;for(const et of ae.targetIds)W.Au.has(et)&&(yield W.remoteSyncer.rejectListen(et,we),W.Au.delete(et),W.Vu.removeTarget(et))})).apply(this,arguments)}(o,a)}catch(I){sn("RemoteStore","Failed to remove targets %s: %s ",a.targetIds.join(","),I),yield df(o,I)}else if(a instanceof Ou?o.Vu.Ht(a):a instanceof cu?o.Vu.ne(a):o.Vu.Xt(a),!u.isEqual(ie.min()))try{const I=yield cg(o.localStore);u.compareTo(I)>=0&&(yield function(O,W){const ae=O.Vu.ce(W);return ae.targetChanges.forEach((we,et)=>{if(we.resumeToken.approximateByteSize()>0){const ct=O.Au.get(et);ct&&O.Au.set(et,ct.withResumeToken(we.resumeToken,W))}}),ae.targetMismatches.forEach((we,et)=>{const ct=O.Au.get(we);if(!ct)return;O.Au.set(we,ct.withResumeToken(On.EMPTY_BYTE_STRING,ct.snapshotVersion)),vg(O,we);const Bt=new Rc(ct.target,we,et,ct.sequenceNumber);Cp(O,Bt)}),O.remoteSyncer.applyRemoteEvent(ae)}(o,u))}catch(I){sn("RemoteStore","Failed to raise snapshot:",I),yield df(o,I)}})).apply(this,arguments)}function df(i,e,t){return(ni=ni||(0,ge.Z)(function*(o,a,u){if(!Pl(a))throw a;o.vu.add(1),yield kd(o),o.bu.set("Offline"),u||(u=()=>cg(o.localStore)),o.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){sn("RemoteStore","Retrying IndexedDB access"),yield u(),o.vu.delete(1),yield wh(o)}))})).apply(this,arguments)}function Tg(i,e){return e().catch(t=>df(i,t,e))}function Ad(i){return(Vo=Vo||(0,ge.Z)(function*(e){const t=Dn(e),o=uc(t);let a=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;mv(t);)try{const u=yield sv(t.localStore,a);if(null===u){0===t.Eu.length&&o.jo();break}a=u.batchId,gv(t,u)}catch(u){yield df(t,u)}Ap(t)&&xp(t)})).apply(this,arguments)}function mv(i){return cc(i)&&i.Eu.length<10}function gv(i,e){i.Eu.push(e);const t=uc(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function Ap(i){return cc(i)&&!uc(i).Uo()&&i.Eu.length>0}function xp(i){uc(i).start()}function yv(i){return(Ns=Ns||(0,ge.Z)(function*(e){uc(e).hu()})).apply(this,arguments)}function dT(i){return(ls=ls||(0,ge.Z)(function*(e){const t=uc(e);for(const o of e.Eu)t.uu(o.mutations)})).apply(this,arguments)}function wg(i,e,t){return(ca=ca||(0,ge.Z)(function*(o,a,u){const h=o.Eu.shift(),I=su.from(h,a,u);yield Tg(o,()=>o.remoteSyncer.applySuccessfulWrite(I)),yield Ad(o)})).apply(this,arguments)}function hT(i,e){return(ee=ee||(0,ge.Z)(function*(t,o){var a;o&&uc(t).ou&&(yield function(u,h){return(a=a||(0,ge.Z)(function*(I,O){if(function Ry(i){switch(i){default:return Yn();case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0}}(W=O.code)&&W!==gt.ABORTED){const ae=I.Eu.shift();uc(I).Qo(),yield Tg(I,()=>I.remoteSyncer.rejectFailedWrite(ae.batchId,O)),yield Ad(I)}var W})).apply(this,arguments)}(t,o)),Ap(t)&&xp(t)})).apply(this,arguments)}function Ih(i,e){return(U=U||(0,ge.Z)(function*(t,o){const a=Dn(t);a.asyncQueue.verifyOperationInProgress(),sn("RemoteStore","RemoteStore received new credentials");const u=cc(a);a.vu.add(3),yield kd(a),u&&a.bu.set("Unknown"),yield a.remoteSyncer.handleCredentialChange(o),a.vu.delete(3),yield wh(a)})).apply(this,arguments)}function xd(i){var e;return i.Su||(i.Su=function(t,o,a){const u=Dn(t);return u.fu(),new yg(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{uo:kp.bind(null,i),ao:fv.bind(null,i),nu:pv.bind(null,i)}),i.Ru.push(function(t){return(e=e||(0,ge.Z)(function*(o){o?(i.Su.Qo(),uf(i)?Pp(i):i.bu.set("Unknown")):(yield i.Su.stop(),_g(i))})).apply(this,arguments)})),i.Su}function uc(i){var e;return i.Du||(i.Du=function(t,o,a){const u=Dn(t);return u.fu(),new uv(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{uo:yv.bind(null,i),ao:hT.bind(null,i),au:dT.bind(null,i),cu:wg.bind(null,i)}),i.Ru.push(function(t){return(e=e||(0,ge.Z)(function*(o){o?(i.Du.Qo(),yield Ad(i)):(yield i.Du.stop(),i.Eu.length>0&&(sn("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))})).apply(this,arguments)})),i.Du}class Rp{constructor(e,t,o,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=a,this.removalCallback=u,this.deferred=new xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,o,a,u){const h=Date.now()+o,I=new Rp(e,t,h,a,u);return I.start(o),I}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zt(gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ul(i,e){if(oo("AsyncQueue",`${e}: ${i}`),Pl(i))return new Zt(gt.UNAVAILABLE,`${e}: ${i}`);throw i}class dc{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Kt.comparator(t.key,o.key):(t,o)=>Kt.comparator(t.key,o.key),this.keyedMap=Au(),this.sortedSet=new G(this.comparator)}static emptySet(e){return new dc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=o.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new dc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class $a{constructor(){this.Cu=new G(Kt.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Yn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Vl{constructor(e,t,o,a,u,h,I,O,W){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=I,this.excludesMetadataChanges=O,this.hasCachedResults=W}static fromInitialDocuments(e,t,o,a,u){const h=[];return t.forEach(I=>{h.push({type:0,doc:I})}),new Vl(e,t,dc.emptySet(t),h,o,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==o[a].type||!t[a].doc.isEqual(o[a].doc))return!1;return!0}}class hf{constructor(){this.Nu=void 0,this.listeners=[]}}class Bl{constructor(){this.queries=new ic(e=>Uf(e),ad),this.onlineState="Unknown",this.ku=new Set}}function Dh(i,e){return(L=L||(0,ge.Z)(function*(t,o){const a=Dn(t),u=o.query;let h=!1,I=a.queries.get(u);if(I||(h=!0,I=new hf),h)try{I.Nu=yield a.onListen(u)}catch(O){const W=ul(O,`Initialization of query '${Bh(o.query)}' failed`);return void o.onError(W)}a.queries.set(u,I),I.listeners.push(o),o.Mu(a.onlineState),I.Nu&&o.$u(I.Nu)&&yu(a)})).apply(this,arguments)}function gu(i,e){return(A=A||(0,ge.Z)(function*(t,o){const a=Dn(t),u=o.query;let h=!1;const I=a.queries.get(u);if(I){const O=I.listeners.indexOf(o);O>=0&&(I.listeners.splice(O,1),h=0===I.listeners.length)}if(h)return a.queries.delete(u),a.onUnlisten(u)})).apply(this,arguments)}function Md(i,e){const t=Dn(i);let o=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const I of h.listeners)I.$u(a)&&(o=!0);h.Nu=a}}o&&yu(t)}function Rd(i,e,t){const o=Dn(i),a=o.queries.get(e);if(a)for(const u of a.listeners)u.onError(t);o.queries.delete(e)}function yu(i){i.ku.forEach(e=>{e.next()})}class vu{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)3!==a.type&&o.push(a);e=new Vl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Op{constructor(e){this.key=e}}class Np{constructor(e){this.key=e}}class Fp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Xr(),this.mutatedKeys=Xr(),this.tc=jf(e),this.ec=new dc(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new $a,a=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,h=a,I=!1;const O="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,W="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((ae,we)=>{const et=a.get(ae),ct=ml(this.query,we)?we:null,Bt=!!et&&this.mutatedKeys.has(et.key),vn=!!ct&&(ct.hasLocalMutations||this.mutatedKeys.has(ct.key)&&ct.hasCommittedMutations);let An=!1;et&&ct?et.data.isEqual(ct.data)?Bt!==vn&&(o.track({type:3,doc:ct}),An=!0):this.rc(et,ct)||(o.track({type:2,doc:ct}),An=!0,(O&&this.tc(ct,O)>0||W&&this.tc(ct,W)<0)&&(I=!0)):!et&&ct?(o.track({type:0,doc:ct}),An=!0):et&&!ct&&(o.track({type:1,doc:et}),An=!0,(O||W)&&(I=!0)),An&&(ct?(h=h.add(ct),u=vn?u.add(ae):u.delete(ae)):(h=h.delete(ae),u=u.delete(ae)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const ae="F"===this.query.limitType?h.last():h.first();h=h.delete(ae.key),u=u.delete(ae.key),o.track({type:1,doc:ae})}return{ec:h,ic:o,zi:I,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((W,ae)=>function(we,et){const ct=Bt=>{switch(Bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yn()}};return ct(we)-ct(et)}(W.type,ae.type)||this.tc(W.doc,ae.doc)),this.oc(o);const h=t?this.uc():[],I=0===this.Zu.size&&this.current?1:0,O=I!==this.Xu;return this.Xu=I,0!==u.length||O?{snapshot:new Vl(this.query,e.ec,a,u,e.mutatedKeys,0===I,O,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:h}:{cc:h}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new $a,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Xr(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new Np(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new Op(o))}),t}hc(e){this.Yu=e.ir,this.Zu=Xr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Vl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Eg{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Ig{constructor(e){this.key=e,this.fc=!1}}class Dg{constructor(e,t,o,a,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.dc={},this.wc=new ic(I=>Uf(I),ad),this._c=new Map,this.mc=new Set,this.gc=new G(Kt.comparator),this.yc=new Map,this.Ic=new hh,this.Tc={},this.Ec=new Map,this.Ac=Vu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Sg(i,e){return(q=q||(0,ge.Z)(function*(t,o){const a=function $p(i){const e=Dn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_v.bind(null,e),e.dc.nu=Md.bind(null,e.eventManager),e.dc.Pc=Rd.bind(null,e.eventManager),e}(t);let u,h;const I=a.wc.get(o);if(I)u=I.targetId,a.sharedClientState.addLocalQueryTarget(u),h=I.view.lc();else{const O=yield function Id(i,e){const t=Dn(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return t.Bs.getTargetData(o,e).next(u=>u?(a=u,pt.resolve(a)):t.Bs.allocateTargetId(o).next(h=>(a=new Rc(e,h,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=t.Ji.get(o.targetId);return(null===a||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}(a.localStore,Ys(o)),W=a.sharedClientState.addLocalQueryTarget(O.targetId);u=O.targetId,h=yield function ff(i,e,t,o,a){return($=$||(0,ge.Z)(function*(u,h,I,O,W){u.Rc=(An,qr,di)=>{var Ir;return function(ki,eo,$o,dl){return(Ir=Ir||(0,ge.Z)(function*(Xl,mc,Ey,Af){let Yh=mc.view.sc(Ey);Yh.zi&&(Yh=yield rf(Xl.localStore,mc.query,!1).then(({documents:Iy})=>mc.view.sc(Iy,Yh)));const Em=Af&&Af.targetChanges.get(mc.targetId),xf=mc.view.applyChanges(Yh,Xl.isPrimaryClient,Em);return Vp(Xl,mc.targetId,xf.cc),xf.snapshot})).apply(this,arguments)}(u,An,qr,di)};const ae=yield rf(u.localStore,h,!0),we=new Fp(h,ae.ir),et=we.sc(ae.documents),ct=Ru.createSynthesizedTargetChangeForCurrentChange(I,O&&"Offline"!==u.onlineState,W),Bt=we.applyChanges(et,u.isPrimaryClient,ct);Vp(u,I,Bt.cc);const vn=new Eg(h,I,we);return u.wc.set(h,vn),u._c.has(I)?u._c.get(I).push(h):u._c.set(I,[h]),Bt.snapshot})).apply(this,arguments)}(a,o,u,"current"===W,O.resumeToken),a.isPrimaryClient&&cf(a.remoteStore,O)}return h})).apply(this,arguments)}function bg(i,e){return(Nt=Nt||(0,ge.Z)(function*(t,o){const a=Dn(t),u=a.wc.get(o),h=a._c.get(u.targetId);if(h.length>1)return a._c.set(u.targetId,h.filter(I=>!ad(I,o))),void a.wc.delete(o);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Dd(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),Eh(a.remoteStore,u.targetId),Uc(a,u.targetId)}).catch(Tl))):(Uc(a,u.targetId),yield Dd(a.localStore,u.targetId,!0))})).apply(this,arguments)}function Cg(i,e){return($n=$n||(0,ge.Z)(function*(t,o){const a=Dn(t);try{const u=yield function Ep(i,e){const t=Dn(i),o=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const I=[];e.targetChanges.forEach((ae,we)=>{const et=a.get(we);if(!et)return;I.push(t.Bs.removeMatchingKeys(u,ae.removedDocuments,we).next(()=>t.Bs.addMatchingKeys(u,ae.addedDocuments,we)));let ct=et.withSequenceNumber(u.currentSequenceNumber);var Bt,vn,An;null!==e.targetMismatches.get(we)?ct=ct.withResumeToken(On.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):ae.resumeToken.approximateByteSize()>0&&(ct=ct.withResumeToken(ae.resumeToken,o)),a=a.insert(we,ct),vn=ct,An=ae,(0===(Bt=et).resumeToken.approximateByteSize()||vn.snapshotVersion.toMicroseconds()-Bt.snapshotVersion.toMicroseconds()>=3e8||An.addedDocuments.size+An.modifiedDocuments.size+An.removedDocuments.size>0)&&I.push(t.Bs.updateTargetData(u,ct))});let O=nl(),W=Xr();if(e.documentUpdates.forEach(ae=>{e.resolvedLimboDocuments.has(ae)&&I.push(t.persistence.referenceDelegate.updateLimboDocument(u,ae))}),I.push(function ug(i,e,t){let o=Xr(),a=Xr();return t.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let h=nl();return t.forEach((I,O)=>{const W=u.get(I);O.isFoundDocument()!==W.isFoundDocument()&&(a=a.add(I)),O.isNoDocument()&&O.version.isEqual(ie.min())?(e.removeEntry(I,O.readTime),h=h.insert(I,O)):!W.isValidDocument()||O.version.compareTo(W.version)>0||0===O.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(O),h=h.insert(I,O)):sn("LocalStore","Ignoring outdated watch update for ",I,". Current version:",W.version," Watch version:",O.version)}),{nr:h,sr:a}})}(u,h,e.documentUpdates).next(ae=>{O=ae.nr,W=ae.sr})),!o.isEqual(ie.min())){const ae=t.Bs.getLastRemoteSnapshotVersion(u).next(we=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,o));I.push(ae)}return pt.waitFor(I).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,O,W)).next(()=>O)}).then(u=>(t.Ji=a,u))}(a.localStore,o);o.targetChanges.forEach((h,I)=>{const O=a.yc.get(I);O&&(Gn(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?O.fc=!0:h.modifiedDocuments.size>0?Gn(O.fc):h.removedDocuments.size>0&&(Gn(O.fc),O.fc=!1))}),yield hc(a,u,o)}catch(u){yield Tl(u)}})).apply(this,arguments)}function Lp(i,e,t){const o=Dn(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const a=[];o.wc.forEach((u,h)=>{const I=h.view.Mu(e);I.snapshot&&a.push(I.snapshot)}),function(u,h){const I=Dn(u);I.onlineState=h;let O=!1;I.queries.forEach((W,ae)=>{for(const we of ae.listeners)we.Mu(h)&&(O=!0)}),O&&yu(I)}(o.eventManager,e),a.length&&o.dc.nu(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function _v(i,e,t){return(Ur=Ur||(0,ge.Z)(function*(o,a,u){const h=Dn(o);h.sharedClientState.updateQueryState(a,"rejected",u);const I=h.yc.get(a),O=I&&I.key;if(O){let W=new G(Kt.comparator);W=W.insert(O,En.newNoDocument(O,ie.min()));const ae=Xr().add(O),we=new ih(ie.min(),new Map,new G(g),W,ae);yield Cg(h,we),h.gc=h.gc.remove(O),h.yc.delete(a),Ld(h)}else yield Dd(h.localStore,a,!1).then(()=>Uc(h,a,u)).catch(Tl)})).apply(this,arguments)}function Pg(i,e){return(kr=kr||(0,ge.Z)(function*(t,o){const a=Dn(t),u=o.batch.batchId;try{const h=yield function ov(i,e){const t=Dn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const a=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(h,I,O,W){const ae=O.batch,we=ae.keys();let et=pt.resolve();return we.forEach(ct=>{et=et.next(()=>W.getEntry(I,ct)).next(Bt=>{const vn=O.docVersions.get(ct);Gn(null!==vn),Bt.version.compareTo(vn)<0&&(ae.applyToRemoteDocument(Bt,O),Bt.isValidDocument()&&(Bt.setReadTime(O.commitVersion),W.addEntry(Bt)))})}),et.next(()=>h.mutationQueue.removeMutationBatch(I,ae))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(h){let I=Xr();for(let O=0;O<h.mutationResults.length;++O)h.mutationResults[O].transformResults.length>0&&(I=I.add(h.batch.mutations[O].key));return I}(e))).next(()=>t.localDocuments.getDocuments(o,a))})}(a.localStore,o);Fd(a,u,null),jp(a,u),a.sharedClientState.updateMutationState(u,"acknowledged"),yield hc(a,h)}catch(h){yield Tl(h)}})).apply(this,arguments)}function Yp(i,e,t){return(ci=ci||(0,ge.Z)(function*(o,a,u){const h=Dn(o);try{const I=yield function(O,W){const ae=Dn(O);return ae.persistence.runTransaction("Reject batch","readwrite-primary",we=>{let et;return ae.mutationQueue.lookupMutationBatch(we,W).next(ct=>(Gn(null!==ct),et=ct.keys(),ae.mutationQueue.removeMutationBatch(we,ct))).next(()=>ae.mutationQueue.performConsistencyCheck(we)).next(()=>ae.documentOverlayCache.removeOverlaysForBatchId(we,et,W)).next(()=>ae.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(we,et)).next(()=>ae.localDocuments.getDocuments(we,et))})}(h.localStore,a);Fd(h,a,u),jp(h,a),h.sharedClientState.updateMutationState(a,"rejected",u),yield hc(h,I)}catch(I){yield Tl(I)}})).apply(this,arguments)}function jp(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function Fd(i,e,t){const o=Dn(i);let a=o.Tc[o.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),o.Tc[o.currentUser.toKey()]=a}}function Uc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),t&&i.dc.Pc(o,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||pf(i,o)})}function pf(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Eh(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),Ld(i))}function Vp(i,e,t){for(const o of t)o instanceof Op?(i.Ic.addReference(o.key,e),mf(i,o)):o instanceof Np?(sn("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||pf(i,o.key)):Yn()}function mf(i,e){const t=e.key,o=t.path.canonicalString();i.gc.get(t)||i.mc.has(o)||(sn("SyncEngine","New document in limbo: "+t),i.mc.add(o),Ld(i))}function Ld(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new Kt(yt.fromString(e)),o=i.Ac.next();i.yc.set(o,new Ig(t)),i.gc=i.gc.insert(t,o),cf(i.remoteStore,new Rc(Ys(iu(t.path)),o,"TargetPurposeLimboResolution",Ks.ct))}}function hc(i,e,t){return(bi=bi||(0,ge.Z)(function*(o,a,u){var h;const I=Dn(o),O=[],W=[],ae=[];I.wc.isEmpty()||(I.wc.forEach((we,et)=>{ae.push(I.Rc(et,a,u).then(ct=>{if((ct||u)&&I.isPrimaryClient&&I.sharedClientState.updateQueryState(et.targetId,ct?.fromCache?"not-current":"current"),ct){O.push(ct);const Bt=nf.Li(et.targetId,ct);W.push(Bt)}}))}),yield Promise.all(ae),I.dc.nu(O),yield function(we,et){return(h=h||(0,ge.Z)(function*(ct,Bt){const vn=Dn(ct);try{yield vn.persistence.runTransaction("notifyLocalViewChanges","readwrite",An=>pt.forEach(Bt,qr=>pt.forEach(qr.Fi,di=>vn.persistence.referenceDelegate.addReference(An,qr.targetId,di)).next(()=>pt.forEach(qr.Bi,di=>vn.persistence.referenceDelegate.removeReference(An,qr.targetId,di)))))}catch(An){if(!Pl(An))throw An;sn("LocalStore","Failed to update sequence numbers: "+An)}for(const An of Bt){const qr=An.targetId;if(!An.fromCache){const di=vn.Ji.get(qr),ki=di.withLastLimboFreeSnapshotVersion(di.snapshotVersion);vn.Ji=vn.Ji.insert(qr,ki)}}})).apply(this,arguments)}(I.localStore,W))})).apply(this,arguments)}function kg(i,e){return(Bo=Bo||(0,ge.Z)(function*(t,o){const a=Dn(t);if(!a.currentUser.isEqual(o)){sn("SyncEngine","User change. New user:",o.toKey());const u=yield wp(a.localStore,o);a.currentUser=o,(h=a).Ec.forEach(O=>{O.forEach(W=>{W.reject(new Zt(gt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Ec.clear(),a.sharedClientState.handleUserChange(o,u.removedBatchIds,u.addedBatchIds),yield hc(a,u.er)}var h})).apply(this,arguments)}function Bp(i,e){const t=Dn(i),o=t.yc.get(e);if(o&&o.fc)return Xr().add(o.key);{let a=Xr();const u=t._c.get(e);if(!u)return a;for(const h of u){const I=t.wc.get(h);a=a.unionWith(I.view.nc)}return a}}function gf(i){const e=Dn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yp.bind(null,e),e}class Sh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ge.Z)(function*(){t.serializer=Yc(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function lg(i,e,t,o){return new iv(i,e,t,o)}(this.persistence,new ag,e.initialUser,this.serializer)}createPersistence(e){return new tf(fh.zs,this.serializer)}createSharedClientState(e){return new lv}terminate(){var e=this;return(0,ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gu{initialize(e,t){var o=this;return(0,ge.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=a=>Lp(o.syncEngine,a,1),o.remoteStore.remoteSyncer.handleCredentialChange=kg.bind(null,o.syncEngine),yield function Mp(i,e){return(M=M||(0,ge.Z)(function*(t,o){const a=Dn(t);o?(a.vu.delete(2),yield wh(a)):o||(a.vu.add(2),yield kd(a),a.bu.set("Unknown"))})).apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Bl}createDatastore(e){const t=Yc(e.databaseInfo.databaseId),o=new Lc(e.databaseInfo);return new dv(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,a=e.asyncQueue,u=I=>Lp(this.syncEngine,I,0),h=cv.D()?new cv:new Dp,new uT(t,o,a,u,h);var t,o,a,u,h}createSyncEngine(e,t){return function(o,a,u,h,I,O,W){const ae=new Dg(o,a,u,h,I,O);return W&&(ae.vc=!0),ae}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e;return function(t){return(e=e||(0,ge.Z)(function*(o){const a=Dn(o);sn("RemoteStore","RemoteStore shutting down."),a.vu.add(5),yield kd(a),a.Pu.shutdown(),a.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}class bh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):oo("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yf{constructor(e,t,o,a){var h,u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=a,this.user=qn.UNAUTHENTICATED,this.clientId=E.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(I){return(h=h||(0,ge.Z)(function*(O){sn("FirestoreClient","Received user=",O.uid),yield u.authCredentialListener(O),u.user=O})).apply(this,arguments)}),this.appCheckCredentials.start(o,I=>(sn("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}getConfiguration(){var e=this;return(0,ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Zt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const a=ul(o,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Ql(i,e){return(Fs=Fs||(0,ge.Z)(function*(t,o){var a;t.asyncQueue.verifyOperationInProgress(),sn("FirestoreClient","Initializing OfflineComponentProvider");const u=yield t.getConfiguration();yield o.initialize(u);let h=u.initialUser;t.setCredentialChangeListener(function(I){return(a=a||(0,ge.Z)(function*(O){h.isEqual(O)||(yield wp(o.localStore,O),h=O)})).apply(this,arguments)}),o.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=o})).apply(this,arguments)}function Zp(i,e){return(yo=yo||(0,ge.Z)(function*(t,o){t.asyncQueue.verifyOperationInProgress();const a=yield function Ch(i){return(cs=cs||(0,ge.Z)(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){sn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ql(e,e._uninitializedComponentsProvider._offline)}catch(t){const o=t;if(!function Vg(i){return"FirebaseError"===i.name?i.code===gt.FAILED_PRECONDITION||i.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(o))throw o;va("Error using user provided cache. Falling back to memory cache: "+o),yield Ql(e,new Sh)}}else sn("FirestoreClient","Using default OfflineComponentProvider"),yield Ql(e,new Sh);return e._offlineComponents})).apply(this,arguments)}(t);sn("FirestoreClient","Initializing OnlineComponentProvider");const u=yield t.getConfiguration();yield o.initialize(a,u),t.setCredentialChangeListener(h=>Ih(o.remoteStore,h)),t.setAppCheckTokenChangeListener((h,I)=>Ih(o.remoteStore,I)),t._onlineComponents=o})).apply(this,arguments)}function fc(i){return(es=es||(0,ge.Z)(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(sn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Zp(e,e._uninitializedComponentsProvider._online)):(sn("FirestoreClient","Using default OnlineComponentProvider"),yield Zp(e,new Gu))),e._onlineComponents})).apply(this,arguments)}function Yd(i){return(Ci=Ci||(0,ge.Z)(function*(e){const t=yield fc(e),o=t.eventManager;return o.onListen=Sg.bind(null,t.syncEngine),o.onUnlisten=bg.bind(null,t.syncEngine),o})).apply(this,arguments)}function Qp(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Wu=new Map;function Jp(i,e,t){if(!t)throw new Zt(gt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Xp(i){if(!Kt.isDocumentKey(i))throw new Zt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Kg(i){if(Kt.isDocumentKey(i))throw new Zt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ph(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Yn()}function qi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Zt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ph(i);throw new Zt(gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}class Ef{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Zt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Zt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Sv(i,e,t,o){if(!0===e&&!0===o)throw new Zt(gt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Qp(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Zt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Zt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Zt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yl{constructor(e,t,o,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ef({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Zt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Zt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ef(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new zo;switch(t.type){case"firstParty":return new il(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Zt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Wu.get(e);t&&(sn("ComponentProvider","Removing Datastore"),Wu.delete(e),t.terminate())}(this),Promise.resolve()}}class Qs{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qs(this.firestore,e,this._key)}}class ns{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class fa extends ns{constructor(e,t,o){super(e,t,iu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qs(this.firestore,null,new Kt(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function Jl(i,e,...t){if(i=(0,Ee.m9)(i),Jp("collection","path",e),i instanceof yl){const o=yt.fromString(e,...t);return Kg(o),new fa(i,null,o)}{if(!(i instanceof Qs||i instanceof fa))throw new Zt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(yt.fromString(e,...t));return Kg(o),new fa(i.firestore,null,o)}}class Pv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Sp(this,"async_queue_retry"),this.Xc=()=>{const t=Hu();t&&sn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Hu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Hu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new xn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ge.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Pl(t))throw t;sn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,oo("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Rp.createAndSchedule(this,e,t,o,u=>this.na(u));return this.zc.push(a),a}Zc(){this.Wc&&Yn()}verifyOperationInProgress(){}sa(){var e=this;return(0,ge.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function em(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const a of["next","error","complete"])if(a in o&&"function"==typeof o[a])return!0;return!1}(i)}class ds extends yl{constructor(e,t,o,a){super(e,t,o,a),this.type="firestore",this._queue=new Pv,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||nm(this),this._firestoreClient.terminate()}}function Av(i,e){const t="object"==typeof i?i:(0,se.Mq)(),o="string"==typeof i?i:e||"(default)",a=(0,se.qX)(t,"firestore").getImmediate({identifier:o});if(!a._initialized){const u=(0,Ee.P0)("firestore");u&&function bv(i,e,t,o={}){var a;const u=(i=qi(i,yl))._getSettings(),h=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==h&&va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),o.mockUserToken){let I,O;if("string"==typeof o.mockUserToken)I=o.mockUserToken,O=qn.MOCK_USER;else{I=(0,Ee.Sg)(o.mockUserToken,null===(a=i._app)||void 0===a?void 0:a.options.projectId);const W=o.mockUserToken.sub||o.mockUserToken.user_id;if(!W)throw new Zt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new qn(W)}i._authCredentials=new hl(new Ei(I,O))}}(a,...u)}return a}function pa(i){return i._firestoreClient||nm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function nm(i){var e,t,o;const a=i._freezeSettings(),u=(I=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ol(i._databaseId,I,i._persistenceKey,(W=a).host,W.ssl,W.experimentalForceLongPolling,W.experimentalAutoDetectLongPolling,Qp(W.experimentalLongPollingOptions),W.useFetchStreams));var I,W;i._firestoreClient=new yf(i._authCredentials,i._appCheckCredentials,i._queue,u),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=a.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class _u{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _u(On.fromBase64String(e))}catch(t){throw new Zt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _u(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ku{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Zt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ey{constructor(e){this._methodName=e}}class sm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Zt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Zt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return g(this._lat,e._lat)||g(this._long,e._long)}}const Lv=/^__.*__$/;class Yv{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Sl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dl(e,this.data,t,this.fieldTransforms)}}function ny(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yn()}}class Df{constructor(e,t,o,a,u,h){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=a,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Df(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.fa(e),a}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:o,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return xh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ny(this.ca)&&Lv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Uv{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||Yc(e)}ya(e,t,o,a=!1){return new Df({ca:e,methodName:t,ga:o,path:rn.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jd(i){const e=i._freezeSettings(),t=Yc(i._databaseId);return new Uv(i._databaseId,!!e.ignoreUndefinedProperties,t)}function am(i,e,t,o,a,u={}){const h=i.ya(u.merge||u.mergeFields?2:0,e,t,a);Sf("Data must be an object, but it was:",h,o);const I=dm(o,h);let O,W;if(u.merge)O=new Xt(h.fieldMask),W=h.fieldTransforms;else if(u.mergeFields){const ae=[];for(const we of u.mergeFields){const et=Vd(e,we,t);if(!h.contains(et))throw new Zt(gt.INVALID_ARGUMENT,`Field '${et}' is specified in your field mask but missing from your input data.`);bf(ae,et)||ae.push(et)}O=new Xt(ae),W=h.fieldTransforms.filter(we=>O.covers(we.field))}else O=null,W=h.fieldTransforms;return new Yv(new Yt(I),O,W)}function Tu(i,e){if(hm(i=(0,Ee.m9)(i)))return Sf("Unsupported field value:",e,i),dm(i,e);if(i instanceof ey)return function(t,o){if(!ny(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const a=[];let u=0;for(const h of t){let I=Tu(h,o.wa(u));null==I&&(I={nullValue:"NULL_VALUE"}),a.push(I),u++}return{arrayValue:{values:a}}}(i,e)}return function(t,o){if(null===(t=(0,Ee.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return km(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=re.fromDate(t);return{timestampValue:hd(o.serializer,a)}}if(t instanceof re){const a=new re(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:hd(o.serializer,a)}}if(t instanceof sm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _u)return{bytesValue:Zf(o.serializer,t._byteString)};if(t instanceof Qs){const a=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(a))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Nm(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${Ph(t)}`)}(i,e)}function dm(i,e){const t={};return Y(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):N(i,(o,a)=>{const u=Tu(a,e.ha(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function hm(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof re||i instanceof sm||i instanceof _u||i instanceof Qs||i instanceof ey)}function Sf(i,e,t){if(!hm(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Ph(t);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function Vd(i,e,t){if((e=(0,Ee.m9)(e))instanceof Ku)return e._internalPath;if("string"==typeof e)return Ah(i,e);throw xh("Field path arguments must be of type string or ",i,!1,void 0,t)}const oy=new RegExp("[~\\*/\\[\\]]");function Ah(i,e,t){if(e.search(oy)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ku(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function xh(i,e,t,o,a){const u=o&&!o.isEmpty(),h=void 0!==a;let I=`Function ${e}() called with invalid data`;t&&(I+=" (via `toFirestore()`)"),I+=". ";let O="";return(u||h)&&(O+=" (found",u&&(O+=` in field ${o}`),h&&(O+=` in document ${a}`),O+=")"),new Zt(gt.INVALID_ARGUMENT,I+i+O)}function bf(i,e){return i.some(t=>t.isEqual(e))}class jc{constructor(e,t,o,a,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Hv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Hv extends jc{data(){return super.data()}}function Cf(i,e){return"string"==typeof e?Ah(i,e):e instanceof Ku?e._internalPath:e._delegate._internalPath}function qu(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Zt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wv{convertValue(e,t="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Yn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return N(e,(a,u)=>{o[a]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new sm(jr(e.latitude),jr(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Cr(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(gs(e));default:return null}}convertTimestamp(e){const t=Wi(e);return new re(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=yt.fromString(e);Gn(Bm(o));const a=new Cs(o.get(1),o.get(3)),u=new Kt(o.popFirst(5));return a.isEqual(t)||oo(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}class wu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hd extends jc{constructor(e,t,o,a,u,h){super(e,t,o,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Cf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Eu extends Hd{data(e={}){return super.data(e)}}class pc{constructor(e,t,o,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new wu(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Eu(this._firestore,this._userDataWriter,o.key,o,new wu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Zt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>({type:"added",doc:new Eu(o._firestore,o._userDataWriter,h.doc.key,h.doc,new wu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const I=new Eu(o._firestore,o._userDataWriter,h.doc.key,h.doc,new wu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let O=-1,W=-1;return 0!==h.type&&(O=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),1!==h.type&&(u=u.add(h.doc),W=u.indexOf(h.doc.key)),{type:Zv(h.type),doc:I,oldIndex:O,newIndex:W}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Zv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yn()}}class Bc extends Wv{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qs(this.firestore,null,t)}}function Xv(i){i=qi(i,ns);const e=qi(i.firestore,ds),t=pa(e),o=new Bc(e);return qu(i._query),function $g(i,e,t={}){const o=new xn;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(a,u,h,I,O){const W=new bh({next:we=>{u.enqueueAndForget(()=>gu(a,ae)),we.fromCache&&"server"===I.source?O.reject(new Zt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):O.resolve(we)},error:we=>O.reject(we)}),ae=new vu(h,W,{includeMetadataChanges:!0,Ku:!0});return Dh(a,ae)}(yield Yd(i),i.asyncQueue,e,t,o)})),o.promise}(t,i._query).then(a=>new pc(e,o,i,a))}function bT(i,e){const t=qi(i.firestore,ds),o=function qg(i,e,...t){if(i=(0,Ee.m9)(i),1===arguments.length&&(e=E.A()),Jp("doc","path",e),i instanceof yl){const o=yt.fromString(e,...t);return Xp(o),new Qs(i,null,new Kt(o))}{if(!(i instanceof Qs||i instanceof fa))throw new Zt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(yt.fromString(e,...t));return Xp(o),new Qs(i.firestore,i instanceof fa?i.converter:null,new Kt(o))}}(i),a=function Qu(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e);return function Iu(i,e){return function(t,o){const a=new xn;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function vv(i,e,t){return(mn=mn||(0,ge.Z)(function*(o,a,u){const h=gf(o);try{const I=yield function(O,W){const ae=Dn(O),we=re.now(),et=W.reduce((vn,An)=>vn.add(An.key),Xr());let ct,Bt;return ae.persistence.runTransaction("Locally write mutations","readwrite",vn=>{let An=nl(),qr=Xr();return ae.Zi.getEntries(vn,et).next(di=>{An=di,An.forEach((Ir,ki)=>{ki.isValidDocument()||(qr=qr.add(Ir))})}).next(()=>ae.localDocuments.getOverlayedDocuments(vn,An)).next(di=>{ct=di;const Ir=[];for(const ki of W){const eo=Ul(ki,ct.get(ki.key).overlayedDocument);null!=eo&&Ir.push(new Sl(ki.key,eo,rr(eo.value.mapValue),St.exists(!0)))}return ae.mutationQueue.addMutationBatch(vn,we,Ir,W)}).next(di=>{Bt=di;const Ir=di.applyToLocalDocumentSet(ct,qr);return ae.documentOverlayCache.saveOverlays(vn,di.batchId,Ir)})}).then(()=>({batchId:Bt.batchId,changes:Hf(ct)}))}(h.localStore,a);h.sharedClientState.addPendingMutation(I.batchId),function(O,W,ae){let we=O.Tc[O.currentUser.toKey()];we||(we=new G(g)),we=we.insert(W,ae),O.Tc[O.currentUser.toKey()]=we}(h,I.batchId,u),yield hc(h,I.changes),yield Ad(h.remoteStore)}catch(I){const O=ul(I,"Failed to persist write");u.reject(O)}})).apply(this,arguments)}(yield function Bg(i){return fc(i).then(e=>e.syncEngine)}(t),o,a)})),a.promise}(pa(i),e)}(t,[am(jd(i.firestore),"addDoc",o._key,a,null!==i.converter,{}).toMutation(o._key,St.exists(!1))]).then(()=>o)}function CT(i,...e){var t,o,a;i=(0,Ee.m9)(i);let u={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||em(e[h])||(u=e[h],h++);const I={includeMetadataChanges:u.includeMetadataChanges};if(em(e[h])){const we=e[h];e[h]=null===(t=we.next)||void 0===t?void 0:t.bind(we),e[h+1]=null===(o=we.error)||void 0===o?void 0:o.bind(we),e[h+2]=null===(a=we.complete)||void 0===a?void 0:a.bind(we)}let O,W,ae;if(i instanceof Qs)W=qi(i.firestore,ds),ae=iu(i._key.path),O={next:we=>{e[h]&&e[h](function _m(i,e,t){const o=t.docs.get(e._key),a=new Bc(i);return new Hd(i,a,e._key,o,new wu(t.hasPendingWrites,t.fromCache),e.converter)}(W,i,we))},error:e[h+1],complete:e[h+2]};else{const we=qi(i,ns);W=qi(we.firestore,ds),ae=we._query;const et=new Bc(W);O={next:ct=>{e[h]&&e[h](new pc(W,et,we,ct))},error:e[h+1],complete:e[h+2]},qu(i._query)}return function(we,et,ct,Bt){const vn=new bh(Bt),An=new vu(et,vn,ct);return we.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return Dh(yield Yd(we),An)})),()=>{vn.Dc(),we.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return gu(yield Yd(we),An)}))}}(pa(W),ae,I,O)}class zd{constructor(e){return e}}const fy="firestore",Tm=new J.OlP("angularfire2.firestore-instances");function p_(i){return(e,t)=>{const o=e.runOutsideAngular(()=>i(t));return new zd(o)}}const m_={provide:class py{constructor(){return(0,D.vb)(fy)}},deps:[[new J.FiY,Tm]]},g_={provide:zd,useFactory:function f_(i,e){const t=(0,D.JM)(fy,i,e);return t&&new zd(t)},deps:[[new J.FiY,Tm],De.Ot]};let y_=(()=>{class i{constructor(){(0,Ae.KN)("angularfire",D.q4.full,"fst")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=J.oAB({type:i}),i.\u0275inj=J.cJS({providers:[g_,m_]}),i})();function v_(i,...e){return{ngModule:y_,providers:[{provide:Tm,useFactory:p_(i),multi:!0,deps:[J.R0b,J.zs3,D.HU,De.z6,[new J.FiY,de.dh],[new J.FiY,Ie.nm],...e]}]}}const wm=(0,D.u3)(bT,!0),I_=(0,D.u3)(Jl,!0),wy=(0,D.u3)(Xv,!0),x_=(0,D.u3)(Av,!0),O_=(0,D.u3)(CT,!0)},710:(_n,nt,z)=>{z.d(nt,{q4:()=>Wc,HU:()=>eu,vb:()=>Xc,JM:()=>Jc,u3:()=>nu});var D=z(4650),J=z(8140),de=z(5861),De=z(9681),Ae=z(2090),Ie=z(4859),ge=z(1877);const se=(N,Y)=>Y.some(G=>N instanceof G);let Re,_e;const vt=new WeakMap,Ue=new WeakMap,Ft=new WeakMap,Rt=new WeakMap,Pt=new WeakMap;let un={get(N,Y,G){if(N instanceof IDBTransaction){if("done"===Y)return Ue.get(N);if("objectStoreNames"===Y)return N.objectStoreNames||Ft.get(N);if("store"===Y)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return xt(N[Y])},set:(N,Y,G)=>(N[Y]=G,!0),has:(N,Y)=>N instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in N};function at(N){return"function"==typeof N?function We(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ye(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(N)?function(...Y){return N.apply(pn(this),Y),xt(vt.get(this))}:function(...Y){return xt(N.apply(pn(this),Y))}:function(Y,...G){const pe=N.call(pn(this),Y,...G);return Ft.set(pe,Y.sort?Y.sort():[Y]),xt(pe)}}(N):(N instanceof IDBTransaction&&function Mt(N){if(Ue.has(N))return;const Y=new Promise((G,pe)=>{const ke=()=>{N.removeEventListener("complete",He),N.removeEventListener("error",bt),N.removeEventListener("abort",bt)},He=()=>{G(),ke()},bt=()=>{pe(N.error||new DOMException("AbortError","AbortError")),ke()};N.addEventListener("complete",He),N.addEventListener("error",bt),N.addEventListener("abort",bt)});Ue.set(N,Y)}(N),se(N,function Ee(){return Re||(Re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(N,un):N)}function xt(N){if(N instanceof IDBRequest)return function $t(N){const Y=new Promise((G,pe)=>{const ke=()=>{N.removeEventListener("success",He),N.removeEventListener("error",bt)},He=()=>{G(xt(N.result)),ke()},bt=()=>{pe(N.error),ke()};N.addEventListener("success",He),N.addEventListener("error",bt)});return Y.then(G=>{G instanceof IDBCursor&&vt.set(G,N)}).catch(()=>{}),Pt.set(Y,N),Y}(N);if(Rt.has(N))return Rt.get(N);const Y=at(N);return Y!==N&&(Rt.set(N,Y),Pt.set(Y,N)),Y}const pn=N=>Pt.get(N),yn=["get","getKey","getAll","getAllKeys","count"],ln=["put","add","delete","clear"],Vn=new Map;function an(N,Y){var G;if(!(N instanceof IDBDatabase)||Y in N||"string"!=typeof Y)return;if(Vn.get(Y))return Vn.get(Y);const pe=Y.replace(/FromIndex$/,""),ke=Y!==pe,He=ln.includes(pe);if(!(pe in(ke?IDBIndex:IDBObjectStore).prototype)||!He&&!yn.includes(pe))return;const bt=function(Xt){return(G=G||(0,de.Z)(function*(Fn,...Zn){const On=this.transaction(Fn,He?"readwrite":"readonly");let gi=On.store;return ke&&(gi=gi.index(Zn.shift())),(yield Promise.all([gi[pe](...Zn),He&&On.done]))[0]})).apply(this,arguments)};return Vn.set(Y,bt),bt}var hn,Rr,ir,hr,tt,ut,ht,Xe,Ht,Ot,Cn,In,ri,jt,Kn,Un;!function _t(N){un=N(un)}(N=>({...N,get:(Y,G,pe)=>an(Y,G)||N.get(Y,G,pe),has:(Y,G)=>!!an(Y,G)||N.has(Y,G)}));const Jn="@firebase/installations",Tr="0.6.4",li=1e4,Qr=`w:${Tr}`,$r="FIS_v2",fn="https://firebaseinstallations.googleapis.com/v1",Nr=36e5,ii=new Ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ar(N){return N instanceof Ae.ZR&&N.code.includes("request-failed")}function ar({projectId:N}){return`${fn}/projects/${N}/installations`}function Tn(N){return{token:N.token,requestStatus:2,expiresIn:Br(N.expiresIn),creationTime:Date.now()}}function tn(N,Y){return(hn=hn||(0,de.Z)(function*(G,pe){const He=(yield pe.json()).error;return ii.create("request-failed",{requestName:G,serverCode:He.code,serverMessage:He.message,serverStatus:He.status})})).apply(this,arguments)}function ei({apiKey:N}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N})}function Fr(N){return(Rr=Rr||(0,de.Z)(function*(Y){const G=yield Y();return G.status>=500&&G.status<600?Y():G})).apply(this,arguments)}function Br(N){return Number(N.replace("s","000"))}function wt(N){return new Promise(Y=>{setTimeout(Y,N)})}const Vt=/^[cdef][\w-]{21}$/,Bn="";function Rn(){try{const N=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(N),N[0]=112+N[0]%16;const G=function Tt(N){return function Gt(N){return btoa(String.fromCharCode(...N)).replace(/\+/g,"-").replace(/\//g,"_")}(N).substr(0,22)}(N);return Vt.test(G)?G:Bn}catch{return Bn}}function Ne(N){return`${N.appName}!${N.appId}`}const be=new Map;function fe(N,Y){const G=Ne(N);dt(G,Y),function ve(N,Y){const G=function Fe(){return!ye&&"BroadcastChannel"in self&&(ye=new BroadcastChannel("[Firebase] FID Change"),ye.onmessage=N=>{dt(N.data.key,N.data.fid)}),ye}();G&&G.postMessage({key:N,fid:Y}),function rt(){0===be.size&&ye&&(ye.close(),ye=null)}()}(G,Y)}function dt(N,Y){const G=be.get(N);if(G)for(const pe of G)pe(Y)}let ye=null;const Qe="firebase-installations-database",qt=1,Le="firebase-installations-store";let Me=null;function he(){return Me||(Me=function st(N,Y,{blocked:G,upgrade:pe,blocking:ke,terminated:He}={}){const bt=indexedDB.open(N,Y),Ut=xt(bt);return pe&&bt.addEventListener("upgradeneeded",Xt=>{pe(xt(bt.result),Xt.oldVersion,Xt.newVersion,xt(bt.transaction))}),G&&bt.addEventListener("blocked",()=>G()),Ut.then(Xt=>{He&&Xt.addEventListener("close",()=>He()),ke&&Xt.addEventListener("versionchange",()=>ke())}).catch(()=>{}),Ut}(Qe,qt,{upgrade:(N,Y)=>{0===Y&&N.createObjectStore(Le)}})),Me}function je(N,Y){return(hr=hr||(0,de.Z)(function*(G,pe){const ke=Ne(G),bt=(yield he()).transaction(Le,"readwrite"),Ut=bt.objectStore(Le),Xt=yield Ut.get(ke);return yield Ut.put(pe,ke),yield bt.done,(!Xt||Xt.fid!==pe.fid)&&fe(G,pe.fid),pe})).apply(this,arguments)}function ft(N){return(tt=tt||(0,de.Z)(function*(Y){const G=Ne(Y),ke=(yield he()).transaction(Le,"readwrite");yield ke.objectStore(Le).delete(G),yield ke.done})).apply(this,arguments)}function Lt(N,Y){return(ut=ut||(0,de.Z)(function*(G,pe){const ke=Ne(G),bt=(yield he()).transaction(Le,"readwrite"),Ut=bt.objectStore(Le),Xt=yield Ut.get(ke),Fn=pe(Xt);return void 0===Fn?yield Ut.delete(ke):yield Ut.put(Fn,ke),yield bt.done,Fn&&(!Xt||Xt.fid!==Fn.fid)&&fe(G,Fn.fid),Fn})).apply(this,arguments)}function en(N){return(ht=ht||(0,de.Z)(function*(Y){let G;const pe=yield Lt(Y.appConfig,ke=>{const He=function tr(N){return Oo(N||{fid:Rn(),registrationStatus:0})}(ke),bt=function xr(N,Y){if(0===Y.registrationStatus){if(!navigator.onLine)return{installationEntry:Y,registrationPromise:Promise.reject(ii.create("app-offline"))};const G={fid:Y.fid,registrationStatus:1,registrationTime:Date.now()},pe=function yi(N,Y){return(Xe=Xe||(0,de.Z)(function*(G,pe){try{const ke=yield function Ke(N,Y){return(ir=ir||(0,de.Z)(function*({appConfig:G,heartbeatServiceProvider:pe},{fid:ke}){const He=ar(G),bt=ei(G),Ut=pe.getImmediate({optional:!0});if(Ut){const On=yield Ut.getHeartbeatsHeader();On&&bt.append("x-firebase-client",On)}const Fn={method:"POST",headers:bt,body:JSON.stringify({fid:ke,authVersion:$r,appId:G.appId,sdkVersion:Qr})},Zn=yield Fr(()=>fetch(He,Fn));if(Zn.ok){const On=yield Zn.json();return{fid:On.fid||ke,registrationStatus:2,refreshToken:On.refreshToken,authToken:Tn(On.authToken)}}throw yield tn("Create Installation",Zn)})).apply(this,arguments)}(G,pe);return je(G.appConfig,ke)}catch(ke){throw Ar(ke)&&409===ke.customData.serverCode?yield ft(G.appConfig):yield je(G.appConfig,{fid:pe.fid,registrationStatus:0}),ke}})).apply(this,arguments)}(N,G);return{installationEntry:G,registrationPromise:pe}}return 1===Y.registrationStatus?{installationEntry:Y,registrationPromise:so(N)}:{installationEntry:Y}}(Y,He);return G=bt.registrationPromise,bt.installationEntry});return pe.fid===Bn?{installationEntry:yield G}:{installationEntry:pe,registrationPromise:G}})).apply(this,arguments)}function so(N){return(Ht=Ht||(0,de.Z)(function*(Y){let G=yield bo(Y.appConfig);for(;1===G.registrationStatus;)yield wt(100),G=yield bo(Y.appConfig);if(0===G.registrationStatus){const{installationEntry:pe,registrationPromise:ke}=yield en(Y);return ke||pe}return G})).apply(this,arguments)}function bo(N){return Lt(N,Y=>{if(!Y)throw ii.create("installation-not-found");return Oo(Y)})}function Oo(N){return function Zi(N){return 1===N.registrationStatus&&N.registrationTime+li<Date.now()}(N)?{fid:N.fid,registrationStatus:0}:N}function Vi(N,Y){return(Ot=Ot||(0,de.Z)(function*({appConfig:G,heartbeatServiceProvider:pe},ke){const He=function Ni(N,{fid:Y}){return`${ar(N)}/${Y}/authTokens:generate`}(G,ke),bt=function ti(N,{refreshToken:Y}){const G=ei(N);return G.append("Authorization",function Nn(N){return`${$r} ${N}`}(Y)),G}(G,ke),Ut=pe.getImmediate({optional:!0});if(Ut){const On=yield Ut.getHeartbeatsHeader();On&&bt.append("x-firebase-client",On)}const Fn={method:"POST",headers:bt,body:JSON.stringify({installation:{sdkVersion:Qr,appId:G.appId}})},Zn=yield Fr(()=>fetch(He,Fn));if(Zn.ok)return Tn(yield Zn.json());throw yield tn("Generate Auth Token",Zn)})).apply(this,arguments)}function pr(N){return(Cn=Cn||(0,de.Z)(function*(Y,G=!1){let pe;const ke=yield Lt(Y.appConfig,bt=>{if(!Hn(bt))throw ii.create("not-registered");const Ut=bt.authToken;if(!G&&function Gi(N){return 2===N.requestStatus&&!function Go(N){const Y=Date.now();return Y<N.creationTime||N.creationTime+N.expiresIn<Y+Nr}(N)}(Ut))return bt;if(1===Ut.requestStatus)return pe=function Dr(N,Y){return(In=In||(0,de.Z)(function*(G,pe){let ke=yield cn(G.appConfig);for(;1===ke.authToken.requestStatus;)yield wt(100),ke=yield cn(G.appConfig);const He=ke.authToken;return 0===He.requestStatus?pr(G,pe):He})).apply(this,arguments)}(Y,G),bt;{if(!navigator.onLine)throw ii.create("app-offline");const Xt=function Wo(N){const Y={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},N),{authToken:Y})}(bt);return pe=function Qt(N,Y){return(ri=ri||(0,de.Z)(function*(G,pe){try{const ke=yield Vi(G,pe),He=Object.assign(Object.assign({},pe),{authToken:ke});return yield je(G.appConfig,He),ke}catch(ke){if(!Ar(ke)||401!==ke.customData.serverCode&&404!==ke.customData.serverCode){const He=Object.assign(Object.assign({},pe),{authToken:{requestStatus:0}});yield je(G.appConfig,He)}else yield ft(G.appConfig);throw ke}})).apply(this,arguments)}(Y,Xt),Xt}});return pe?yield pe:ke.authToken})).apply(this,arguments)}function cn(N){return Lt(N,Y=>{if(!Hn(Y))throw ii.create("not-registered");return function lr(N){return 1===N.requestStatus&&N.requestTime+li<Date.now()}(Y.authToken)?Object.assign(Object.assign({},Y),{authToken:{requestStatus:0}}):Y})}function Hn(N){return void 0!==N&&2===N.registrationStatus}function Be(N){return ii.create("missing-app-config-values",{valueName:N})}const Oe="installations",Jt=N=>{const Y=N.getProvider("app").getImmediate(),G=function Ge(N){if(!N||!N.options)throw Be("App Configuration");if(!N.name)throw Be("App Name");const Y=["projectId","apiKey","appId"];for(const G of Y)if(!N.options[G])throw Be(G);return{appName:N.name,projectId:N.options.projectId,apiKey:N.options.apiKey,appId:N.options.appId}}(Y);return{app:Y,appConfig:G,heartbeatServiceProvider:(0,De.qX)(Y,"heartbeat"),_delete:()=>Promise.resolve()}},bn=N=>{const Y=N.getProvider("app").getImmediate(),G=(0,De.qX)(Y,Oe).getImmediate();return{getId:()=>function Wt(N){return(jt=jt||(0,de.Z)(function*(Y){const G=Y,{installationEntry:pe,registrationPromise:ke}=yield en(G);return ke?ke.catch(console.error):pr(G).catch(console.error),pe.fid})).apply(this,arguments)}(G),getToken:ke=>function Ln(N){return(Kn=Kn||(0,de.Z)(function*(Y,G=!1){const pe=Y;return yield function _r(N){return(Un=Un||(0,de.Z)(function*(Y){const{registrationPromise:G}=yield en(Y);G&&(yield G)})).apply(this,arguments)}(pe),(yield pr(pe,G)).token})).apply(this,arguments)}(G,ke)}};var Fi;(function cr(){(0,De.Xd)(new Ie.wA(Oe,Jt,"PUBLIC")),(0,De.Xd)(new Ie.wA("installations-internal",bn,"PRIVATE"))})(),(0,De.KN)(Jn,Tr),(0,De.KN)(Jn,Tr,"esm2017");const br="@firebase/remote-config",_o=new Ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _i{constructor(Y,G,pe,ke){this.client=Y,this.storage=G,this.storageCache=pe,this.logger=ke}isCachedDataFresh(Y,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-G,ke=pe<=Y;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${Y}. Is cache hit: ${ke}.`),ke}fetch(Y){var G=this;return(0,de.Z)(function*(){const[pe,ke]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(ke&&G.isCachedDataFresh(Y.cacheMaxAgeMillis,pe))return ke;Y.eTag=ke&&ke.eTag;const He=yield G.client.fetch(Y),bt=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===He.status&&bt.push(G.storage.setLastSuccessfulFetchResponse(He)),yield Promise.all(bt),He})()}}function Ps(N=navigator){return N.languages&&N.languages[0]||N.language}class ea{constructor(Y,G,pe,ke,He,bt){this.firebaseInstallations=Y,this.sdkVersion=G,this.namespace=pe,this.projectId=ke,this.apiKey=He,this.appId=bt}fetch(Y){var G=this;return(0,de.Z)(function*(){const[pe,ke]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),bt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,Ut={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Y.eTag||"*"},Xt={sdk_version:G.sdkVersion,app_instance_id:pe,app_instance_id_token:ke,app_id:G.appId,language_code:Ps()},Fn={method:"POST",headers:Ut,body:JSON.stringify(Xt)},Zn=fetch(bt,Fn),On=new Promise((Cr,gs)=>{Y.signal.addEventListener(()=>{const Ol=new Error("The operation was aborted.");Ol.name="AbortError",gs(Ol)})});let gi;try{yield Promise.race([Zn,On]),gi=yield Zn}catch(Cr){let gs="fetch-client-network";throw"AbortError"===Cr?.name&&(gs="fetch-timeout"),_o.create(gs,{originalErrorMessage:Cr?.message})}let Wi=gi.status;const jr=gi.headers.get("ETag")||void 0;let So,bs;if(200===gi.status){let Cr;try{Cr=yield gi.json()}catch(gs){throw _o.create("fetch-client-parse",{originalErrorMessage:gs?.message})}So=Cr.entries,bs=Cr.state}if("INSTANCE_STATE_UNSPECIFIED"===bs?Wi=500:"NO_CHANGE"===bs?Wi=304:("NO_TEMPLATE"===bs||"EMPTY_CONFIG"===bs)&&(So={}),304!==Wi&&200!==Wi)throw _o.create("fetch-status",{httpStatus:Wi});return{status:Wi,eTag:jr,config:So}})()}}class Fo{constructor(Y,G){this.client=Y,this.storage=G}fetch(Y){var G=this;return(0,de.Z)(function*(){const pe=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(Y,pe)})()}attemptFetch(Y,{throttleEndTimeMillis:G,backoffCount:pe}){var ke=this;return(0,de.Z)(function*(){yield function Vs(N,Y){return new Promise((G,pe)=>{const ke=Math.max(Y-Date.now(),0),He=setTimeout(G,ke);N.addEventListener(()=>{clearTimeout(He),pe(_o.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}(Y.signal,G);try{const He=yield ke.client.fetch(Y);return yield ke.storage.deleteThrottleMetadata(),He}catch(He){if(!function ks(N){if(!(N instanceof Ae.ZR&&N.customData))return!1;const Y=Number(N.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}(He))throw He;const bt={throttleEndTimeMillis:Date.now()+(0,Ae.$s)(pe),backoffCount:pe+1};return yield ke.storage.setThrottleMetadata(bt),ke.attemptFetch(Y,bt)}})()}}class qo{constructor(Y,G,pe,ke,He){this.app=Y,this._client=G,this._storageCache=pe,this._storage=ke,this._logger=He,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ya(N,Y){const G=N.target.error||void 0;return _o.create(Y,{originalErrorMessage:G&&G?.message})}const Lo="app_namespace_store";class Ga{constructor(Y,G,pe,ke=function ta(){return new Promise((N,Y)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=pe=>{Y(Ya(pe,"storage-open"))},G.onsuccess=pe=>{N(pe.target.result)},G.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(Lo,{keyPath:"compositeKey"})}}catch(G){Y(_o.create("storage-open",{originalErrorMessage:G?.message}))}})}()){this.appId=Y,this.appName=G,this.namespace=pe,this.openDbPromise=ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Y){return this.set("last_fetch_status",Y)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Y){return this.set("last_successful_fetch_timestamp_millis",Y)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Y){return this.set("last_successful_fetch_response",Y)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Y){return this.set("active_config",Y)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Y){return this.set("active_config_etag",Y)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Y){return this.set("throttle_metadata",Y)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Y){var G=this;return(0,de.Z)(function*(){const pe=yield G.openDbPromise;return new Promise((ke,He)=>{const Ut=pe.transaction([Lo],"readonly").objectStore(Lo),Xt=G.createCompositeKey(Y);try{const Fn=Ut.get(Xt);Fn.onerror=Zn=>{He(Ya(Zn,"storage-get"))},Fn.onsuccess=Zn=>{const On=Zn.target.result;ke(On?On.value:void 0)}}catch(Fn){He(_o.create("storage-get",{originalErrorMessage:Fn?.message}))}})})()}set(Y,G){var pe=this;return(0,de.Z)(function*(){const ke=yield pe.openDbPromise;return new Promise((He,bt)=>{const Xt=ke.transaction([Lo],"readwrite").objectStore(Lo),Fn=pe.createCompositeKey(Y);try{const Zn=Xt.put({compositeKey:Fn,value:G});Zn.onerror=On=>{bt(Ya(On,"storage-set"))},Zn.onsuccess=()=>{He()}}catch(Zn){bt(_o.create("storage-set",{originalErrorMessage:Zn?.message}))}})})()}delete(Y){var G=this;return(0,de.Z)(function*(){const pe=yield G.openDbPromise;return new Promise((ke,He)=>{const Ut=pe.transaction([Lo],"readwrite").objectStore(Lo),Xt=G.createCompositeKey(Y);try{const Fn=Ut.delete(Xt);Fn.onerror=Zn=>{He(Ya(Zn,"storage-delete"))},Fn.onsuccess=()=>{ke()}}catch(Fn){He(_o.create("storage-delete",{originalErrorMessage:Fn?.message}))}})})()}createCompositeKey(Y){return[this.appId,this.appName,this.namespace,Y].join()}}class ao{constructor(Y){this.storage=Y}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Y=this;return(0,de.Z)(function*(){const G=Y.storage.getLastFetchStatus(),pe=Y.storage.getLastSuccessfulFetchTimestampMillis(),ke=Y.storage.getActiveConfig(),He=yield G;He&&(Y.lastFetchStatus=He);const bt=yield pe;bt&&(Y.lastSuccessfulFetchTimestampMillis=bt);const Ut=yield ke;Ut&&(Y.activeConfig=Ut)})()}setLastFetchStatus(Y){return this.lastFetchStatus=Y,this.storage.setLastFetchStatus(Y)}setLastSuccessfulFetchTimestampMillis(Y){return this.lastSuccessfulFetchTimestampMillis=Y,this.storage.setLastSuccessfulFetchTimestampMillis(Y)}setActiveConfig(Y){return this.activeConfig=Y,this.storage.setActiveConfig(Y)}}function Ts(){return(Fi=Fi||(0,de.Z)(function*(){if(!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Wa(){(0,De.Xd)(new Ie.wA("remote-config",function N(Y,{instanceIdentifier:G}){const pe=Y.getProvider("app").getImmediate(),ke=Y.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _o.create("registration-window");if(!(0,Ae.hl)())throw _o.create("indexed-db-unavailable");const{projectId:He,apiKey:bt,appId:Ut}=pe.options;if(!He)throw _o.create("registration-project-id");if(!bt)throw _o.create("registration-api-key");if(!Ut)throw _o.create("registration-app-id");const Xt=new Ga(Ut,pe.name,G=G||"firebase"),Fn=new ao(Xt),Zn=new ge.Yd(br);Zn.logLevel=ge.in.ERROR;const On=new ea(ke,De.Jn,G,He,bt,Ut),gi=new Fo(On,Xt),Wi=new _i(gi,Xt,Fn,Zn),jr=new qo(pe,Wi,Fn,Xt,Zn);return function Lr(N){const Y=(0,Ae.m9)(N);Y._initializePromise||(Y._initializePromise=Y._storageCache.loadFromStorage().then(()=>{Y._isInitializationComplete=!0}))}(jr),jr},"PUBLIC").setMultipleInstances(!0)),(0,De.KN)(br,"0.4.4"),(0,De.KN)(br,"0.4.4","esm2017")}();const Da=(N,Y)=>Y.some(G=>N instanceof G);let to,ws;const Ka=new WeakMap,ra=new WeakMap,Xi=new WeakMap,Sa=new WeakMap,ia=new WeakMap;let is={get(N,Y,G){if(N instanceof IDBTransaction){if("done"===Y)return ra.get(N);if("objectStoreNames"===Y)return N.objectStoreNames||Xi.get(N);if("store"===Y)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return Si(N[Y])},set:(N,Y,G)=>(N[Y]=G,!0),has:(N,Y)=>N instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in N};function lo(N){return"function"==typeof N?function Jr(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function na(){return ws||(ws=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(N)?function(...Y){return N.apply(Yi(this),Y),Si(Ka.get(this))}:function(...Y){return Si(N.apply(Yi(this),Y))}:function(Y,...G){const pe=N.call(Yi(this),Y,...G);return Xi.set(pe,Y.sort?Y.sort():[Y]),Si(pe)}}(N):(N instanceof IDBTransaction&&function Ms(N){if(ra.has(N))return;const Y=new Promise((G,pe)=>{const ke=()=>{N.removeEventListener("complete",He),N.removeEventListener("error",bt),N.removeEventListener("abort",bt)},He=()=>{G(),ke()},bt=()=>{pe(N.error||new DOMException("AbortError","AbortError")),ke()};N.addEventListener("complete",He),N.addEventListener("error",bt),N.addEventListener("abort",bt)});ra.set(N,Y)}(N),Da(N,function xs(){return to||(to=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(N,is):N)}function Si(N){if(N instanceof IDBRequest)return function Yr(N){const Y=new Promise((G,pe)=>{const ke=()=>{N.removeEventListener("success",He),N.removeEventListener("error",bt)},He=()=>{G(Si(N.result)),ke()},bt=()=>{pe(N.error),ke()};N.addEventListener("success",He),N.addEventListener("error",bt)});return Y.then(G=>{G instanceof IDBCursor&&Ka.set(G,N)}).catch(()=>{}),ia.set(Y,N),Y}(N);if(Sa.has(N))return Sa.get(N);const Y=lo(N);return Y!==N&&(Sa.set(N,Y),ia.set(Y,N)),Y}const Yi=N=>ia.get(N);function Ua(N,Y,{blocked:G,upgrade:pe,blocking:ke,terminated:He}={}){const bt=indexedDB.open(N,Y),Ut=Si(bt);return pe&&bt.addEventListener("upgradeneeded",Xt=>{pe(Si(bt.result),Xt.oldVersion,Xt.newVersion,Si(bt.transaction))}),G&&bt.addEventListener("blocked",()=>G()),Ut.then(Xt=>{He&&Xt.addEventListener("close",()=>He()),ke&&Xt.addEventListener("versionchange",()=>ke())}).catch(()=>{}),Ut}function ai(N,{blocked:Y}={}){const G=indexedDB.deleteDatabase(N);return Y&&G.addEventListener("blocked",()=>Y()),Si(G).then(()=>{})}const oa=["get","getKey","getAll","getAllKeys","count"],Es=["put","add","delete","clear"],Rs=new Map;function no(N,Y){var G;if(!(N instanceof IDBDatabase)||Y in N||"string"!=typeof Y)return;if(Rs.get(Y))return Rs.get(Y);const pe=Y.replace(/FromIndex$/,""),ke=Y!==pe,He=Es.includes(pe);if(!(pe in(ke?IDBIndex:IDBObjectStore).prototype)||!He&&!oa.includes(pe))return;const bt=function(Xt){return(G=G||(0,de.Z)(function*(Fn,...Zn){const On=this.transaction(Fn,He?"readwrite":"readonly");let gi=On.store;return ke&&(gi=gi.index(Zn.shift())),(yield Promise.all([gi[pe](...Zn),He&&On.done]))[0]})).apply(this,arguments)};return Rs.set(Y,bt),bt}var er,Co,qa,os,zs,Ri,ba,ma,Zo,kt,mr,Za,hs,Ai,sa,ho,co,Ca,$s,Is;!function Bi(N){is=N(is)}(N=>({...N,get:(Y,G,pe)=>no(Y,G)||N.get(Y,G,pe),has:(Y,G)=>!!no(Y,G)||N.has(Y,G)}));const Ui="/firebase-messaging-sw.js",Do="/firebase-cloud-messaging-push-scope",ss="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Pa="https://fcmregistrations.googleapis.com/v1",fo="google.c.a.c_id",fs="google.c.a.c_l",ga="google.c.a.ts",as="google.c.a.e";var Qo=(()=>{return(N=Qo||(Qo={})).PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",Qo;var N})();function po(N){const Y=new Uint8Array(N);return btoa(String.fromCharCode(...Y)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Po(N){const G=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(G),ke=new Uint8Array(pe.length);for(let He=0;He<pe.length;++He)ke[He]=pe.charCodeAt(He);return ke}const mo="fcm_token_details_db",ps=5,la="fcm_token_object_Store",ya="firebase-messaging-database",mi=1,Jo="firebase-messaging-store";let Ao=null;function Yo(){return Ao||(Ao=Ua(ya,mi,{upgrade:(N,Y)=>{0===Y&&N.createObjectStore(Jo)}})),Ao}function ka(N){return(Co=Co||(0,de.Z)(function*(Y){const G=T(Y),ke=yield(yield Yo()).transaction(Jo).objectStore(Jo).get(G);if(ke)return ke;{const He=yield function Os(N){return(er=er||(0,de.Z)(function*(Y){var G;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ut=>Ut.name).includes(mo))return null;let pe=null;return(yield Ua(mo,ps,{upgrade:function(bt,Ut,Xt,Fn){return(G=G||(0,de.Z)(function*(Zn,On,gi,Wi){var jr;if(On<2||!Zn.objectStoreNames.contains(la))return;const So=Wi.objectStore(la),bs=yield So.index("fcmSenderId").get(Y);if(yield So.clear(),bs)if(2===On){const Cr=bs;if(!Cr.auth||!Cr.p256dh||!Cr.endpoint)return;pe={token:Cr.fcmToken,createTime:null!==(jr=Cr.createTime)&&void 0!==jr?jr:Date.now(),subscriptionOptions:{auth:Cr.auth,p256dh:Cr.p256dh,endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:"string"==typeof Cr.vapidKey?Cr.vapidKey:po(Cr.vapidKey)}}}else if(3===On){const Cr=bs;pe={token:Cr.fcmToken,createTime:Cr.createTime,subscriptionOptions:{auth:po(Cr.auth),p256dh:po(Cr.p256dh),endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:po(Cr.vapidKey)}}}else if(4===On){const Cr=bs;pe={token:Cr.fcmToken,createTime:Cr.createTime,subscriptionOptions:{auth:po(Cr.auth),p256dh:po(Cr.p256dh),endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:po(Cr.vapidKey)}}}})).apply(this,arguments)}})).close(),yield ai(mo),yield ai("fcm_vapid_details_db"),yield ai("undefined"),function ko(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:Y}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof Y.auth&&Y.auth.length>0&&"string"==typeof Y.p256dh&&Y.p256dh.length>0&&"string"==typeof Y.endpoint&&Y.endpoint.length>0&&"string"==typeof Y.swScope&&Y.swScope.length>0&&"string"==typeof Y.vapidKey&&Y.vapidKey.length>0}(pe)?pe:null})).apply(this,arguments)}(Y.appConfig.senderId);if(He)return yield K(Y,He),He}})).apply(this,arguments)}function K(N,Y){return(qa=qa||(0,de.Z)(function*(G,pe){const ke=T(G),bt=(yield Yo()).transaction(Jo,"readwrite");return yield bt.objectStore(Jo).put(pe,ke),yield bt.done,pe})).apply(this,arguments)}function T({appConfig:N}){return N.appId}const X=new Ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ue(N,Y){return(zs=zs||(0,de.Z)(function*(G,pe){const ke=yield Ct(G),He=gn(pe),bt={method:"POST",headers:ke,body:JSON.stringify(He)};let Ut;try{Ut=yield(yield fetch(lt(G.appConfig),bt)).json()}catch(Xt){throw X.create("token-subscribe-failed",{errorInfo:Xt?.toString()})}if(Ut.error)throw X.create("token-subscribe-failed",{errorInfo:Ut.error.message});if(!Ut.token)throw X.create("token-subscribe-no-token");return Ut.token})).apply(this,arguments)}function Ve(N,Y){return(ba=ba||(0,de.Z)(function*(G,pe){const He={method:"DELETE",headers:yield Ct(G)};try{const Ut=yield(yield fetch(`${lt(G.appConfig)}/${pe}`,He)).json();if(Ut.error)throw X.create("token-unsubscribe-failed",{errorInfo:Ut.error.message})}catch(bt){throw X.create("token-unsubscribe-failed",{errorInfo:bt?.toString()})}})).apply(this,arguments)}function lt({projectId:N}){return`${Pa}/projects/${N}/registrations`}function Ct(N){return(ma=ma||(0,de.Z)(function*({appConfig:Y,installations:G}){const pe=yield G.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Y.apiKey,"x-goog-firebase-installations-auth":`FIS ${pe}`})})).apply(this,arguments)}function gn({p256dh:N,auth:Y,endpoint:G,vapidKey:pe}){const ke={web:{endpoint:G,auth:Y,p256dh:N}};return pe!==ss&&(ke.web.applicationPubKey=pe),ke}const Pn=6048e5;function P(N){return(Zo=Zo||(0,de.Z)(function*(Y){const G=yield function Te(N,Y){return(hs=hs||(0,de.Z)(function*(G,pe){return(yield G.pushManager.getSubscription())||G.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Po(pe)})})).apply(this,arguments)}(Y.swRegistration,Y.vapidKey),pe={vapidKey:Y.vapidKey,swScope:Y.swRegistration.scope,endpoint:G.endpoint,auth:po(G.getKey("auth")),p256dh:po(G.getKey("p256dh"))},ke=yield ka(Y.firebaseDependencies);if(ke){if(function it(N,Y){return Y.vapidKey===N.vapidKey&&Y.endpoint===N.endpoint&&Y.auth===N.auth&&Y.p256dh===N.p256dh}(ke.subscriptionOptions,pe))return Date.now()>=ke.createTime+Pn?function x(N,Y){return(mr=mr||(0,de.Z)(function*(G,pe){try{const ke=yield function xe(N,Y){return(Ri=Ri||(0,de.Z)(function*(G,pe){const ke=yield Ct(G),He=gn(pe.subscriptionOptions),bt={method:"PATCH",headers:ke,body:JSON.stringify(He)};let Ut;try{Ut=yield(yield fetch(`${lt(G.appConfig)}/${pe.token}`,bt)).json()}catch(Xt){throw X.create("token-update-failed",{errorInfo:Xt?.toString()})}if(Ut.error)throw X.create("token-update-failed",{errorInfo:Ut.error.message});if(!Ut.token)throw X.create("token-update-no-token");return Ut.token})).apply(this,arguments)}(G.firebaseDependencies,pe),He=Object.assign(Object.assign({},pe),{token:ke,createTime:Date.now()});return yield K(G.firebaseDependencies,He),ke}catch(ke){throw yield function H(N){return(kt=kt||(0,de.Z)(function*(Y){const G=yield ka(Y.firebaseDependencies);G&&(yield Ve(Y.firebaseDependencies,G.token),yield function _(N){return(os=os||(0,de.Z)(function*(Y){const G=T(Y),ke=(yield Yo()).transaction(Jo,"readwrite");yield ke.objectStore(Jo).delete(G),yield ke.done})).apply(this,arguments)}(Y.firebaseDependencies));const pe=yield Y.swRegistration.pushManager.getSubscription();return!pe||pe.unsubscribe()})).apply(this,arguments)}(G),ke}})).apply(this,arguments)}(Y,{token:ke.token,createTime:Date.now(),subscriptionOptions:pe}):ke.token;try{yield Ve(Y.firebaseDependencies,ke.token)}catch(He){console.warn(He)}return te(Y.firebaseDependencies,pe)}return te(Y.firebaseDependencies,pe)})).apply(this,arguments)}function te(N,Y){return(Za=Za||(0,de.Z)(function*(G,pe){const He={token:yield ue(G,pe),createTime:Date.now(),subscriptionOptions:pe};return yield K(G,He),He.token})).apply(this,arguments)}function Dt(N){const Y={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function wn(N,Y){if(!Y.notification)return;N.notification={};const G=Y.notification.title;G&&(N.notification.title=G);const pe=Y.notification.body;pe&&(N.notification.body=pe);const ke=Y.notification.image;ke&&(N.notification.image=ke);const He=Y.notification.icon;He&&(N.notification.icon=He)}(Y,N),function vr(N,Y){Y.data&&(N.data=Y.data)}(Y,N),function zr(N,Y){var G,pe,ke,He,bt;if(!(Y.fcmOptions||null!==(G=Y.notification)&&void 0!==G&&G.click_action))return;N.fcmOptions={};const Ut=null!==(ke=null===(pe=Y.fcmOptions)||void 0===pe?void 0:pe.link)&&void 0!==ke?ke:null===(He=Y.notification)||void 0===He?void 0:He.click_action;Ut&&(N.fcmOptions.link=Ut);const Xt=null===(bt=Y.fcmOptions)||void 0===bt?void 0:bt.analytics_label;Xt&&(N.fcmOptions.analyticsLabel=Xt)}(Y,N),Y}function Qn(N,Y){const G=[];for(let pe=0;pe<N.length;pe++)G.push(N.charAt(pe)),pe<Y.length&&G.push(Y.charAt(pe));return G.join("")}function Mr(N){return X.create("missing-app-config-values",{valueName:N})}Qn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class wi{constructor(Y,G,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ke=function Ti(N){if(!N||!N.options)throw Mr("App Configuration Object");if(!N.name)throw Mr("App Name");const Y=["projectId","apiKey","appId","messagingSenderId"],{options:G}=N;for(const pe of Y)if(!G[pe])throw Mr(pe);return{appName:N.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(Y);this.firebaseDependencies={app:Y,appConfig:ke,installations:G,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function Uo(N,Y){return(co=co||(0,de.Z)(function*(G,pe){if(!navigator)throw X.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw X.create("permission-blocked");return yield function xo(N,Y){return(ho=ho||(0,de.Z)(function*(G,pe){pe?G.vapidKey=pe:G.vapidKey||(G.vapidKey=ss)})).apply(this,arguments)}(G,pe?.vapidKey),yield function ro(N,Y){return(sa=sa||(0,de.Z)(function*(G,pe){if(!pe&&!G.swRegistration&&(yield function go(N){return(Ai=Ai||(0,de.Z)(function*(Y){try{Y.swRegistration=yield navigator.serviceWorker.register(Ui,{scope:Do}),Y.swRegistration.update().catch(()=>{})}catch(G){throw X.create("failed-service-worker-registration",{browserErrorMessage:G?.message})}})).apply(this,arguments)}(G)),pe||!G.swRegistration){if(!(pe instanceof ServiceWorkerRegistration))throw X.create("invalid-sw-registration");G.swRegistration=pe}})).apply(this,arguments)}(G,pe?.serviceWorkerRegistration),P(G)})).apply(this,arguments)}function jn(N,Y){return($s=$s||(0,de.Z)(function*(G,pe){const ke=pe.data;if(!ke.isFirebaseMessaging)return;G.onMessageHandler&&ke.messageType===Qo.PUSH_RECEIVED&&("function"==typeof G.onMessageHandler?G.onMessageHandler(Dt(ke)):G.onMessageHandler.next(Dt(ke)));const He=ke.data;(function Pr(N){return"object"==typeof N&&!!N&&fo in N})(He)&&"1"===He[as]&&(yield function jo(N,Y,G){return(Ca=Ca||(0,de.Z)(function*(pe,ke,He){const bt=function kn(N){switch(N){case Qo.NOTIFICATION_CLICKED:return"notification_open";case Qo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(ke);(yield pe.firebaseDependencies.analyticsProvider.get()).logEvent(bt,{message_id:He[fo],message_name:He[fs],message_time:He[ga],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(G,ke.messageType,He))})).apply(this,arguments)}const or="@firebase/messaging",Vo=N=>{const Y=new wi(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>jn(Y,G)),Y},Ns=N=>{const Y=N.getProvider("messaging").getImmediate();return{getToken:pe=>Uo(Y,pe)}};function ca(){return(Is=Is||(0,de.Z)(function*(){try{yield(0,Ae.eu)()}catch{return!1}return typeof window<"u"&&(0,Ae.hl)()&&(0,Ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var $,Nt,mn,$n,Ur,kr,Mo,Ro,io;!function ls(){(0,De.Xd)(new Ie.wA("messaging",Vo,"PUBLIC")),(0,De.Xd)(new Ie.wA("messaging-internal",Ns,"PRIVATE")),(0,De.KN)(or,"0.12.4"),(0,De.KN)(or,"0.12.4","esm2017")}();const Ho="analytics",Ds="firebase_id",Fs="origin",yo=6e4,cs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",es="https://www.googletagmanager.com/gtag/js",Ci=new ge.Yd("@firebase/analytics"),qn=new Ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ss(N){if(!N.startsWith(es)){const Y=qn.create("invalid-gtag-resource",{gtagURL:N});return Ci.warn(Y.message),""}return N}function xi(N){return Promise.all(N.map(Y=>Y.catch(G=>G)))}const xa=30,Zt=new class gt{constructor(Y={},G=1e3){this.throttleMetadata=Y,this.intervalMillis=G}getThrottleMetadata(Y){return this.throttleMetadata[Y]}setThrottleMetadata(Y,G){this.throttleMetadata[Y]=G}deleteThrottleMetadata(Y){delete this.throttleMetadata[Y]}};function xn(N){return new Headers({Accept:"application/json","x-goog-api-key":N})}function zo(N){return($n=$n||(0,de.Z)(function*(Y,G=Zt,pe){const{appId:ke,apiKey:He,measurementId:bt}=Y.options;if(!ke)throw qn.create("no-app-id");if(!He){if(bt)return{measurementId:bt,appId:ke};throw qn.create("no-api-key")}const Ut=G.getThrottleMetadata(ke)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xt=new il;return setTimeout((0,de.Z)(function*(){Xt.abort()}),void 0!==pe?pe:yo),hl({appId:ke,apiKey:He,measurementId:bt},Ut,Xt,G)})).apply(this,arguments)}function hl(N,Y,G){return(Ur=Ur||(0,de.Z)(function*(pe,{throttleEndTimeMillis:ke,backoffCount:He},bt,Ut=Zt){var Xt;const{appId:Fn,measurementId:Zn}=pe;try{yield function Gs(N,Y){return new Promise((G,pe)=>{const ke=Math.max(Y-Date.now(),0),He=setTimeout(G,ke);N.addEventListener(()=>{clearTimeout(He),pe(qn.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}(bt,ke)}catch(On){if(Zn)return Ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zn} provided in the "measurementId" field in the local Firebase config. [${On?.message}]`),{appId:Fn,measurementId:Zn};throw On}try{const On=yield function Ei(N){return(mn=mn||(0,de.Z)(function*(Y){var G;const{appId:pe,apiKey:ke}=Y,He={method:"GET",headers:xn(ke)},bt=cs.replace("{app-id}",pe),Ut=yield fetch(bt,He);if(200!==Ut.status&&304!==Ut.status){let Xt="";try{const Fn=yield Ut.json();null!==(G=Fn.error)&&void 0!==G&&G.message&&(Xt=Fn.error.message)}catch{}throw qn.create("config-fetch-failed",{httpStatus:Ut.status,responseMessage:Xt})}return Ut.json()})).apply(this,arguments)}(pe);return Ut.deleteThrottleMetadata(Fn),On}catch(On){const gi=On;if(!function Va(N){if(!(N instanceof Ae.ZR&&N.customData))return!1;const Y=Number(N.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}(gi)){if(Ut.deleteThrottleMetadata(Fn),Zn)return Ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zn} provided in the "measurementId" field in the local Firebase config. [${gi?.message}]`),{appId:Fn,measurementId:Zn};throw On}const Wi=503===Number(null===(Xt=gi?.customData)||void 0===Xt?void 0:Xt.httpStatus)?(0,Ae.$s)(He,Ut.intervalMillis,xa):(0,Ae.$s)(He,Ut.intervalMillis),jr={throttleEndTimeMillis:Date.now()+Wi,backoffCount:He+1};return Ut.setThrottleMetadata(Fn,jr),Ci.debug(`Calling attemptFetch again in ${Wi} millis`),hl(pe,jr,bt,Ut)}})).apply(this,arguments)}class il{constructor(){this.listeners=[]}addEventListener(Y){this.listeners.push(Y)}abort(){this.listeners.forEach(Y=>Y())}}let _a,V;function yt(N,Y,G,pe,ke,He,bt){return(Ro=Ro||(0,de.Z)(function*(Ut,Xt,Fn,Zn,On,gi,Wi){var jr;const So=zo(Ut);So.then(Cs=>{Fn[Cs.measurementId]=Cs.appId,Ut.options.measurementId&&Cs.measurementId!==Ut.options.measurementId&&Ci.warn(`The measurement ID in the local Firebase config (${Ut.options.measurementId}) does not match the measurement ID fetched from the server (${Cs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Cs=>Ci.error(Cs)),Xt.push(So);const bs=function Ze(){return(Mo=Mo||(0,de.Z)(function*(){if(!(0,Ae.hl)())return Ci.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ae.eu)()}catch(N){return Ci.warn(qn.create("indexeddb-unavailable",{errorInfo:N?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(Cs=>{if(Cs)return Zn.getId()}),[Cr,gs]=yield Promise.all([So,bs]);(function Gn(N){const Y=window.document.getElementsByTagName("script");for(const G of Object.values(Y))if(G.src&&G.src.includes(es)&&G.src.includes(N))return G;return null})(gi)||function Pi(N,Y){const G=function ms(N,Y){let G;return window.trustedTypes&&(G=window.trustedTypes.createPolicy(N,Y)),G}("firebase-js-sdk-policy",{createScriptURL:Ss}),pe=document.createElement("script"),ke=`${es}?l=${N}&id=${Y}`;pe.src=G?G?.createScriptURL(ke):ke,pe.async=!0,document.head.appendChild(pe)}(gi,Cr.measurementId),V&&(On("consent","default",V),function re(N){V=N}(void 0)),On("js",new Date);const Ol=null!==(jr=Wi?.config)&&void 0!==jr?jr:{};return Ol[Fs]="firebase",Ol.update=!0,null!=gs&&(Ol[Ds]=gs),On("config",Cr.measurementId,Ol),_a&&(On("set",_a),function ie(N){_a=N}(void 0)),Cr.measurementId})).apply(this,arguments)}class Mn{constructor(Y){this.app=Y}_delete(){return delete rn[this.app.options.appId],Promise.resolve()}}let rn={},Kt=[];const vo={};let Ws,Hi,ua="dataLayer",ts="gtag",vl=!1;function yc(N,Y,G){!function Xa(){const N=[];if((0,Ae.ru)()&&N.push("This is a browser extension environment."),(0,Ae.zI)()||N.push("Cookies are not available."),N.length>0){const Y=N.map((pe,ke)=>`(${ke+1}) ${pe}`).join(" "),G=qn.create("invalid-analytics-context",{errorInfo:Y});Ci.warn(G.message)}}();const pe=N.options.appId;if(!pe)throw qn.create("no-app-id");if(!N.options.apiKey){if(!N.options.measurementId)throw qn.create("no-api-key");Ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${N.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rn[pe])throw qn.create("already-exists",{id:pe});if(!vl){!function sn(N){let Y=[];Array.isArray(window[N])?Y=window[N]:window[N]=Y}(ua);const{wrappedGtag:He,gtagCore:bt}=function Yn(N,Y,G,pe,ke){let He=function(...bt){window[pe].push(arguments)};return window[ke]&&"function"==typeof window[ke]&&(He=window[ke]),window[ke]=function Qa(N,Y,G,pe){var ke;return function He(bt){return(ke=ke||(0,de.Z)(function*(Ut,...Xt){try{if("event"===Ut){const[Fn,Zn]=Xt;yield function va(N,Y,G,pe,ke){return(Nt=Nt||(0,de.Z)(function*(He,bt,Ut,Xt,Fn){try{let Zn=[];if(Fn&&Fn.send_to){let On=Fn.send_to;Array.isArray(On)||(On=[On]);const gi=yield xi(Ut);for(const Wi of On){const jr=gi.find(bs=>bs.measurementId===Wi),So=jr&&bt[jr.appId];if(!So){Zn=[];break}Zn.push(So)}}0===Zn.length&&(Zn=Object.values(bt)),yield Promise.all(Zn),He("event",Xt,Fn||{})}catch(Zn){Ci.error(Zn)}})).apply(this,arguments)}(N,Y,G,Fn,Zn)}else if("config"===Ut){const[Fn,Zn]=Xt;yield function oo(N,Y,G,pe,ke,He){return($=$||(0,de.Z)(function*(bt,Ut,Xt,Fn,Zn,On){const gi=Fn[Zn];try{if(gi)yield Ut[gi];else{const jr=(yield xi(Xt)).find(So=>So.measurementId===Zn);jr&&(yield Ut[jr.appId])}}catch(Wi){Ci.error(Wi)}bt("config",Zn,On)})).apply(this,arguments)}(N,Y,G,pe,Fn,Zn)}else if("consent"===Ut){const[Fn]=Xt;N("consent","update",Fn)}else if("get"===Ut){const[Fn,Zn,On]=Xt;N("get",Fn,Zn,On)}else if("set"===Ut){const[Fn]=Xt;N("set",Fn)}else N(Ut,...Xt)}catch(Fn){Ci.error(Fn)}})).apply(this,arguments)}}(He,N,Y,G),{gtagCore:He,wrappedGtag:window[ke]}}(rn,Kt,vo,ua,ts);Hi=He,Ws=bt,vl=!0}return rn[pe]=yt(N,Kt,vo,Y,Ws,ua,G),new Mn(N)}function _l(){return(io=io||(0,de.Z)(function*(){if((0,Ae.ru)()||!(0,Ae.zI)()||!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch{return!1}})).apply(this,arguments)}const vc="@firebase/analytics";!function pl(){(0,De.Xd)(new Ie.wA(Ho,(Y,{options:G})=>yc(Y.getProvider("app").getImmediate(),Y.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,De.Xd)(new Ie.wA("analytics-internal",function N(Y){try{const G=Y.getProvider(Ho).getImmediate();return{logEvent:(pe,ke,He)=>function Hl(N,Y,G,pe){N=(0,Ae.m9)(N),function Ja(N,Y,G,pe,ke){return(kr=kr||(0,de.Z)(function*(He,bt,Ut,Xt,Fn){if(Fn&&Fn.global)He("event",Ut,Xt);else{const Zn=yield bt;He("event",Ut,Object.assign(Object.assign({},Xt),{send_to:Zn}))}})).apply(this,arguments)}(Hi,rn[N.app.options.appId],Y,G,pe).catch(ke=>Ci.error(ke))}(G,pe,ke,He)}}catch(G){throw qn.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,De.KN)(vc,"0.10.0"),(0,De.KN)(vc,"0.10.0","esm2017")}();var $c=z(4408),Ra=z(7565);const zl=new class Ks extends Ra.v{}(class ed extends $c.o{constructor(Y,G){super(Y,G),this.scheduler=Y,this.work=G}schedule(Y,G=0){return G>0?super.schedule(Y,G):(this.delay=G,this.state=Y,this.scheduler.flush(this),this)}execute(Y,G){return G>0||this.closed?super.execute(Y,G):this._execute(Y,G)}requestAsyncId(Y,G,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(Y,G,pe):(Y.flush(this),0)}});var Gc=z(4986),Ls=z(9751),Gd=z(8505),Su=z(9468),el=z(5363);const Wc=new D.GfV("7.6.1"),wl="__angularfire_symbol__analyticsIsSupportedValue",Kc="__angularfire_symbol__analyticsIsSupported",tl="__angularfire_symbol__remoteConfigIsSupportedValue",_c="__angularfire_symbol__remoteConfigIsSupported",qc="__angularfire_symbol__messagingIsSupportedValue",ec="__angularfire_symbol__messagingIsSupported";function Jc(N,Y,G){if(Y){if(1===Y.length)return Y[0];const He=Y.filter(bt=>bt.app===G);if(1===He.length)return He[0]}return G.container.getProvider(N).getImmediate({optional:!0})}globalThis[Kc]||(globalThis[Kc]=_l().then(N=>globalThis[wl]=N).catch(()=>globalThis[wl]=!1)),globalThis[ec]||(globalThis[ec]=ca().then(N=>globalThis[qc]=N).catch(()=>globalThis[qc]=!1)),globalThis[_c]||(globalThis[_c]=Ts().then(N=>globalThis[tl]=N).catch(()=>globalThis[tl]=!1));const Xc=(N,Y)=>{const G=Y?[Y]:(0,J.C6)(),pe=[];return G.forEach(ke=>{ke.container.getProvider(N).instances.forEach(bt=>{pe.includes(bt)||pe.push(bt)})}),pe};function xl(){}class Tc{constructor(Y,G=zl){this.zone=Y,this.delegate=G}now(){return this.delegate.now()}schedule(Y,G,pe){const ke=this.zone;return this.delegate.schedule(function(bt){ke.runGuarded(()=>{Y.apply(this,[bt])})},G,pe)}}class sl{constructor(Y){this.zone=Y,this.task=null}call(Y,G){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xl,{},xl,xl)),G.pipe((0,Gd.b)({next:pe,complete:pe,error:pe})).subscribe(Y).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let eu=(()=>{class N{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new Tc(Zone.current)),this.insideAngular=G.run(()=>new Tc(Zone.current,Gc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return N.\u0275fac=function(G){return new(G||N)(D.LFG(D.R0b))},N.\u0275prov=D.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function Ml(){const N=globalThis.\u0275AngularFireScheduler;if(!N)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return N}function al(N){return Ml().ngZone.run(()=>N())}function tu(N){return Ml(),function tc(N){return function(G){return(G=G.lift(new sl(N.ngZone))).pipe((0,Su.R)(N.outsideAngular),(0,el.Q)(N.insideAngular))}}(Ml())(N)}const us=(N,Y)=>function(){const pe=arguments;return Y&&setTimeout(()=>{"scheduled"===Y.state&&Y.invoke()},10),al(()=>N.apply(void 0,pe))},nu=(N,Y)=>function(){let G;const pe=arguments;for(let He=0;He<arguments.length;He++)"function"==typeof pe[He]&&(Y&&(G||(G=al(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xl,{},xl,xl)))),pe[He]=us(pe[He],G));const ke=function Rl(N){return Ml().ngZone.runOutsideAngular(()=>N())}(()=>N.apply(this,pe));if(!Y){if(ke instanceof Ls.y){const He=Ml();return ke.pipe((0,Su.R)(He.outsideAngular),(0,el.Q)(He.insideAngular))}return al(()=>ke)}return ke instanceof Ls.y?ke.pipe(tu):ke instanceof Promise?al(()=>new Promise((He,bt)=>ke.then(Ut=>al(()=>He(Ut)),Ut=>al(()=>bt(Ut))))):"function"==typeof ke&&G?function(){return setTimeout(()=>{G&&"scheduled"===G.state&&G.invoke()},10),ke.apply(this,arguments)}:al(()=>ke)}},2090:(_n,nt,z)=>{z.d(nt,{$s:()=>fe,BH:()=>at,L:()=>Re,LL:()=>Ot,P0:()=>un,Pz:()=>We,Sg:()=>xt,US:()=>Ie,ZR:()=>Ht,aH:()=>_t,b$:()=>Vn,eu:()=>ut,hl:()=>tt,m9:()=>dt,ne:()=>ar,pd:()=>ii,q4:()=>Mt,ru:()=>ln,tV:()=>_e,uI:()=>st,vZ:()=>fn,w1:()=>hn,xO:()=>oi,xb:()=>Qr,z$:()=>pn,zI:()=>ht,zd:()=>$i});const De=function(ve){const ye=[];let Fe=0;for(let rt=0;rt<ve.length;rt++){let Qe=ve.charCodeAt(rt);Qe<128?ye[Fe++]=Qe:Qe<2048?(ye[Fe++]=Qe>>6|192,ye[Fe++]=63&Qe|128):55296==(64512&Qe)&&rt+1<ve.length&&56320==(64512&ve.charCodeAt(rt+1))?(Qe=65536+((1023&Qe)<<10)+(1023&ve.charCodeAt(++rt)),ye[Fe++]=Qe>>18|240,ye[Fe++]=Qe>>12&63|128,ye[Fe++]=Qe>>6&63|128,ye[Fe++]=63&Qe|128):(ye[Fe++]=Qe>>12|224,ye[Fe++]=Qe>>6&63|128,ye[Fe++]=63&Qe|128)}return ye},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,ye){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Fe=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,rt=[];for(let Qe=0;Qe<ve.length;Qe+=3){const qt=ve[Qe],Le=Qe+1<ve.length,Me=Le?ve[Qe+1]:0,he=Qe+2<ve.length,je=he?ve[Qe+2]:0;let en=(15&Me)<<2|je>>6,tr=63&je;he||(tr=64,Le||(en=64)),rt.push(Fe[qt>>2],Fe[(3&qt)<<4|Me>>4],Fe[en],Fe[tr])}return rt.join("")},encodeString(ve,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(ve):this.encodeByteArray(De(ve),ye)},decodeString(ve,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(ve):function(ve){const ye=[];let Fe=0,rt=0;for(;Fe<ve.length;){const Qe=ve[Fe++];if(Qe<128)ye[rt++]=String.fromCharCode(Qe);else if(Qe>191&&Qe<224){const qt=ve[Fe++];ye[rt++]=String.fromCharCode((31&Qe)<<6|63&qt)}else if(Qe>239&&Qe<365){const he=((7&Qe)<<18|(63&ve[Fe++])<<12|(63&ve[Fe++])<<6|63&ve[Fe++])-65536;ye[rt++]=String.fromCharCode(55296+(he>>10)),ye[rt++]=String.fromCharCode(56320+(1023&he))}else{const qt=ve[Fe++],Le=ve[Fe++];ye[rt++]=String.fromCharCode((15&Qe)<<12|(63&qt)<<6|63&Le)}}return ye.join("")}(this.decodeStringToByteArray(ve,ye))},decodeStringToByteArray(ve,ye){this.init_();const Fe=ye?this.charToByteMapWebSafe_:this.charToByteMap_,rt=[];for(let Qe=0;Qe<ve.length;){const qt=Fe[ve.charAt(Qe++)],Me=Qe<ve.length?Fe[ve.charAt(Qe)]:0;++Qe;const je=Qe<ve.length?Fe[ve.charAt(Qe)]:64;++Qe;const Lt=Qe<ve.length?Fe[ve.charAt(Qe)]:64;if(++Qe,null==qt||null==Me||null==je||null==Lt)throw new ge;rt.push(qt<<2|Me>>4),64!==je&&(rt.push(Me<<4&240|je>>2),64!==Lt&&rt.push(je<<6&192|Lt))}return rt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(ve){return function(ve){const ye=De(ve);return Ie.encodeByteArray(ye,!0)}(ve).replace(/\./g,"")},_e=function(ve){try{return Ie.decodeString(ve,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null},$t=()=>{try{return function Ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ve=process.env.__FIREBASE_DEFAULTS__;return ve?JSON.parse(ve):void 0})()||(()=>{if(typeof document>"u")return;let ve;try{ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ye=ve&&_e(ve[1]);return ye&&JSON.parse(ye)})()}catch(ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ve}`)}},Mt=ve=>{var ye,Fe;return null===(Fe=null===(ye=$t())||void 0===ye?void 0:ye.emulatorHosts)||void 0===Fe?void 0:Fe[ve]},un=ve=>{const ye=Mt(ve);if(!ye)return;const Fe=ye.lastIndexOf(":");if(Fe<=0||Fe+1===ye.length)throw new Error(`Invalid host ${ye} with no separate hostname and port!`);const rt=parseInt(ye.substring(Fe+1),10);return"["===ye[0]?[ye.substring(1,Fe-1),rt]:[ye.substring(0,Fe),rt]},_t=()=>{var ve;return null===(ve=$t())||void 0===ve?void 0:ve.config},We=ve=>{var ye;return null===(ye=$t())||void 0===ye?void 0:ye[`_${ve}`]};class at{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,Fe)=>{this.resolve=ye,this.reject=Fe})}wrapCallback(ye){return(Fe,rt)=>{Fe?this.reject(Fe):this.resolve(rt),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(Fe):ye(Fe,rt))}}}function xt(ve,ye){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const rt=ye||"demo-project",Qe=ve.iat||0,qt=ve.sub||ve.user_id;if(!qt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Le=Object.assign({iss:`https://securetoken.google.com/${rt}`,aud:rt,iat:Qe,exp:Qe+3600,auth_time:Qe,sub:qt,user_id:qt,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(Le)),""].join(".")}function pn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function st(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function ln(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function Vn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function hn(){const ve=pn();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function tt(){try{return"object"==typeof indexedDB}catch{return!1}}function ut(){return new Promise((ve,ye)=>{try{let Fe=!0;const rt="validate-browser-context-for-indexeddb-analytics-module",Qe=self.indexedDB.open(rt);Qe.onsuccess=()=>{Qe.result.close(),Fe||self.indexedDB.deleteDatabase(rt),ve(!0)},Qe.onupgradeneeded=()=>{Fe=!1},Qe.onerror=()=>{var qt;ye((null===(qt=Qe.error)||void 0===qt?void 0:qt.message)||"")}}catch(Fe){ye(Fe)}})}function ht(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ht extends Error{constructor(ye,Fe,rt){super(Fe),this.code=ye,this.customData=rt,this.name="FirebaseError",Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ot.prototype.create)}}class Ot{constructor(ye,Fe,rt){this.service=ye,this.serviceName=Fe,this.errors=rt}create(ye,...Fe){const rt=Fe[0]||{},Qe=`${this.service}/${ye}`,qt=this.errors[ye],Le=qt?function Cn(ve,ye){return ve.replace(In,(Fe,rt)=>{const Qe=ye[rt];return null!=Qe?String(Qe):`<${rt}?>`})}(qt,rt):"Error";return new Ht(Qe,`${this.serviceName}: ${Le} (${Qe}).`,rt)}}const In=/\{\$([^}]+)}/g;function Qr(ve){for(const ye in ve)if(Object.prototype.hasOwnProperty.call(ve,ye))return!1;return!0}function fn(ve,ye){if(ve===ye)return!0;const Fe=Object.keys(ve),rt=Object.keys(ye);for(const Qe of Fe){if(!rt.includes(Qe))return!1;const qt=ve[Qe],Le=ye[Qe];if(Nr(qt)&&Nr(Le)){if(!fn(qt,Le))return!1}else if(qt!==Le)return!1}for(const Qe of rt)if(!Fe.includes(Qe))return!1;return!0}function Nr(ve){return null!==ve&&"object"==typeof ve}function oi(ve){const ye=[];for(const[Fe,rt]of Object.entries(ve))Array.isArray(rt)?rt.forEach(Qe=>{ye.push(encodeURIComponent(Fe)+"="+encodeURIComponent(Qe))}):ye.push(encodeURIComponent(Fe)+"="+encodeURIComponent(rt));return ye.length?"&"+ye.join("&"):""}function $i(ve){const ye={};return ve.replace(/^\?/,"").split("&").forEach(rt=>{if(rt){const[Qe,qt]=rt.split("=");ye[decodeURIComponent(Qe)]=decodeURIComponent(qt)}}),ye}function ii(ve){const ye=ve.indexOf("?");if(!ye)return"";const Fe=ve.indexOf("#",ye);return ve.substring(ye,Fe>0?Fe:void 0)}function ar(ve,ye){const Fe=new Tn(ve,ye);return Fe.subscribe.bind(Fe)}class Tn{constructor(ye,Fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Fe,this.task.then(()=>{ye(this)}).catch(rt=>{this.error(rt)})}next(ye){this.forEachObserver(Fe=>{Fe.next(ye)})}error(ye){this.forEachObserver(Fe=>{Fe.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,Fe,rt){let Qe;if(void 0===ye&&void 0===Fe&&void 0===rt)throw new Error("Missing Observer.");Qe=function ei(ve,ye){if("object"!=typeof ve||null===ve)return!1;for(const Fe of ye)if(Fe in ve&&"function"==typeof ve[Fe])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:Fe,complete:rt},void 0===Qe.next&&(Qe.next=ti),void 0===Qe.error&&(Qe.error=ti),void 0===Qe.complete&&(Qe.complete=ti);const qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Qe.error(this.finalError):Qe.complete()}catch{}}),this.observers.push(Qe),qt}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let Fe=0;Fe<this.observers.length;Fe++)this.sendOne(Fe,ye)}sendOne(ye,Fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{Fe(this.observers[ye])}catch(rt){typeof console<"u"&&console.error&&console.error(rt)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ti(){}const Rn=1e3,Tt=2,Ne=144e5,be=.5;function fe(ve,ye=Rn,Fe=Tt){const rt=ye*Math.pow(Fe,ve),Qe=Math.round(be*rt*(Math.random()-.5)*2);return Math.min(Ne,rt+Qe)}function dt(ve){return ve&&ve._delegate?ve._delegate:ve}},3748:(_n,nt,z)=>{z.d(nt,{e:()=>Ie});var D=z(5861),J=z(4650),de=z(3441),De=z(9678),Ae=z(5263);let Ie=(()=>{var ge;class se{constructor(){this.auth=(0,J.f3M)(de.gx),this.router=(0,J.f3M)(Ae.F0),this.googleProvider=new De.hJ}get userState$(){return(0,de.fD)(this.auth)}signInGoogle(){var _e=this;return(0,D.Z)(function*(){try{const{user:Ee}=yield(0,de.rh)(_e.auth,_e.googleProvider);_e.checkUserIsVerified(Ee)}catch(Ee){console.log("Google login",Ee)}})()}signUp(_e,Ee){var Ye=this;return(0,D.Z)(function*(){try{const{user:vt}=yield(0,de.Xb)(Ye.auth,_e,Ee);yield Ye.sendEmailVerfication(vt),Ye.router.navigate(["/user/email-verification"])}catch(vt){const{code:Ue,message:Ft}=vt;console.log("Code :",Ue),console.log("Message :",Ft)}})()}signIn(_e,Ee){var Ye=this;return(0,D.Z)(function*(){try{const{user:vt}=yield(0,de.e5)(Ye.auth,_e,Ee);Ye.checkUserIsVerified(vt)}catch(vt){const{code:Ue,message:Ft}=vt;console.log("Code :",Ue),console.log("Message :",Ft)}})()}signOut(){var _e=this;return(0,D.Z)(function*(){try{yield _e.auth.signOut()}catch(Ee){console.log("error: ",Ee)}})()}sendEmailVerfication(_e){return(0,D.Z)(function*(){try{yield(0,de.w$)(_e)}catch(Ee){console.log("error: ",Ee)}})()}sendPasswordResetEmail(_e){var Ee=this;return(0,D.Z)(function*(){try{yield(0,de.LS)(Ee.auth,_e)}catch(Ye){console.log("error: ",Ye)}})()}checkUserIsVerified(_e){this.router.navigate([_e.emailVerified?"/user/profile":"/user/email-verification"])}}return(ge=se).\u0275fac=function(_e){return new(_e||ge)},ge.\u0275prov=J.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),se})()},4483:(_n,nt,z)=>{var D=z(1481),J=z(4063),de=z(6895);const De=void 0,Ie=["en",[["a","p"],["AM","PM"],De],[["AM","PM"],De,De],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],De,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],De,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",De,"{1} 'at' {0}",De],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ae(K){const T=Math.floor(Math.abs(K)),F=K.toString().replace(/^[^.]*\.?/,"").length;return 1===T&&0===F?1:5}];var ge=z(529),se=z(4650),Re=z(7340);function Ee(K){return new se.vHH(3e3,!1)}function fr(){return typeof window<"u"&&typeof window.document<"u"}function Or(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Jn(K){switch(K.length){case 0:return new Re.ZN;case 1:return K[0];default:return new Re.ZE(K)}}function Tr(K,_,T,F,X=new Map,ue=new Map){const xe=[],Ve=[];let lt=-1,Ct=null;if(F.forEach(gn=>{const Pn=gn.get("offset"),P=Pn==lt,H=P&&Ct||new Map;gn.forEach((x,te)=>{let Te=te,it=x;if("offset"!==te)switch(Te=_.normalizePropertyName(Te,xe),it){case Re.k1:it=X.get(te);break;case Re.l3:it=ue.get(te);break;default:it=_.normalizeStyleValue(te,Te,it,xe)}H.set(Te,it)}),P||Ve.push(H),Ct=H,lt=Pn}),xe.length)throw function hr(K){return new se.vHH(3502,!1)}();return Ve}function li(K,_,T,F){switch(_){case"start":K.onStart(()=>F(T&&Qr(T,"start",K)));break;case"done":K.onDone(()=>F(T&&Qr(T,"done",K)));break;case"destroy":K.onDestroy(()=>F(T&&Qr(T,"destroy",K)))}}function Qr(K,_,T){const ue=$r(K.element,K.triggerName,K.fromState,K.toState,_||K.phaseName,T.totalTime??K.totalTime,!!T.disabled),xe=K._data;return null!=xe&&(ue._data=xe),ue}function $r(K,_,T,F,X="",ue=0,xe){return{element:K,triggerName:_,fromState:T,toState:F,phaseName:X,totalTime:ue,disabled:!!xe}}function fn(K,_,T){let F=K.get(_);return F||K.set(_,F=T),F}function Nr(K){const _=K.indexOf(":");return[K.substring(1,_),K.slice(_+1)]}let Gr=(K,_)=>!1,oi=(K,_,T)=>[],$i=null;function ii(K){const _=K.parentNode||K.host;return _===$i?null:_}(Or()||typeof Element<"u")&&(fr()?($i=(()=>document.documentElement)(),Gr=(K,_)=>{for(;_;){if(_===K)return!0;_=ii(_)}return!1}):Gr=(K,_)=>K.contains(_),oi=(K,_,T)=>{if(T)return Array.from(K.querySelectorAll(_));const F=K.querySelector(_);return F?[F]:[]});let Tn=null,tn=!1;const Br=Gr,Nn=oi;let wt=(()=>{class K{validateStyleProperty(T){return function ei(K){Tn||(Tn=function Fr(){return typeof document<"u"?document.body:null}()||{},tn=!!Tn.style&&"WebkitAppearance"in Tn.style);let _=!0;return Tn.style&&!function ar(K){return"ebkit"==K.substring(1,6)}(K)&&(_=K in Tn.style,!_&&tn&&(_="Webkit"+K.charAt(0).toUpperCase()+K.slice(1)in Tn.style)),_}(T)}matchesElement(T,F){return!1}containsElement(T,F){return Br(T,F)}getParentElement(T){return ii(T)}query(T,F,X){return Nn(T,F,X)}computeStyle(T,F,X){return X||""}animate(T,F,X,ue,xe,Ve=[],lt){return new Re.ZN(X,ue)}}return K.\u0275fac=function(T){return new(T||K)},K.\u0275prov=se.Yz7({token:K,factory:K.\u0275fac}),K})(),Gt=(()=>{class K{}return K.NOOP=new wt,K})();const Vt=1e3,Tt="ng-enter",Ne="ng-leave",be="ng-trigger",fe=".ng-trigger",me="ng-animating",Je=".ng-animating";function dt(K){if("number"==typeof K)return K;const _=K.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:ve(parseFloat(_[1]),_[2])}function ve(K,_){return"s"===_?K*Vt:K}function ye(K,_,T){return K.hasOwnProperty("duration")?K:function Fe(K,_,T){let X,ue=0,xe="";if("string"==typeof K){const Ve=K.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ve)return _.push(Ee()),{duration:0,delay:0,easing:""};X=ve(parseFloat(Ve[1]),Ve[2]);const lt=Ve[3];null!=lt&&(ue=ve(parseFloat(lt),Ve[4]));const Ct=Ve[5];Ct&&(xe=Ct)}else X=K;if(!T){let Ve=!1,lt=_.length;X<0&&(_.push(function Ye(){return new se.vHH(3100,!1)}()),Ve=!0),ue<0&&(_.push(function vt(){return new se.vHH(3101,!1)}()),Ve=!0),Ve&&_.splice(lt,0,Ee())}return{duration:X,delay:ue,easing:xe}}(K,_,T)}function rt(K,_={}){return Object.keys(K).forEach(T=>{_[T]=K[T]}),_}function Qe(K){const _=new Map;return Object.keys(K).forEach(T=>{_.set(T,K[T])}),_}function Me(K,_=new Map,T){if(T)for(let[F,X]of T)_.set(F,X);for(let[F,X]of K)_.set(F,X);return _}function he(K,_,T){return T?_+":"+T+";":""}function je(K){let _="";for(let T=0;T<K.style.length;T++){const F=K.style.item(T);_+=he(0,F,K.style.getPropertyValue(F))}for(const T in K.style)K.style.hasOwnProperty(T)&&!T.startsWith("_")&&(_+=he(0,Vi(T),K.style[T]));K.setAttribute("style",_)}function ft(K,_,T){K.style&&(_.forEach((F,X)=>{const ue=Zi(X);T&&!T.has(X)&&T.set(X,K.style[ue]),K.style[ue]=F}),Or()&&je(K))}function Lt(K,_){K.style&&(_.forEach((T,F)=>{const X=Zi(F);K.style[X]=""}),Or()&&je(K))}function en(K){return Array.isArray(K)?1==K.length?K[0]:(0,Re.vP)(K):K}const xr=new RegExp("{{\\s*(.+?)\\s*}}","g");function yi(K){let _=[];if("string"==typeof K){let T;for(;T=xr.exec(K);)_.push(T[1]);xr.lastIndex=0}return _}function so(K,_,T){const F=K.toString(),X=F.replace(xr,(ue,xe)=>{let Ve=_[xe];return null==Ve&&(T.push(function Ft(K){return new se.vHH(3003,!1)}()),Ve=""),Ve.toString()});return X==F?K:X}function bo(K){const _=[];let T=K.next();for(;!T.done;)_.push(T.value),T=K.next();return _}const Oo=/-+([a-z0-9])/g;function Zi(K){return K.replace(Oo,(..._)=>_[1].toUpperCase())}function Vi(K){return K.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Dr(K,_,T){switch(_.type){case 7:return K.visitTrigger(_,T);case 0:return K.visitState(_,T);case 1:return K.visitTransition(_,T);case 2:return K.visitSequence(_,T);case 3:return K.visitGroup(_,T);case 4:return K.visitAnimate(_,T);case 5:return K.visitKeyframes(_,T);case 6:return K.visitStyle(_,T);case 8:return K.visitReference(_,T);case 9:return K.visitAnimateChild(_,T);case 10:return K.visitAnimateRef(_,T);case 11:return K.visitQuery(_,T);case 12:return K.visitStagger(_,T);default:throw function Rt(K){return new se.vHH(3004,!1)}()}}function cn(K,_){return window.getComputedStyle(K)[_]}const Ln="*";function _r(K,_){const T=[];return"string"==typeof K?K.split(/\s*,\s*/).forEach(F=>function si(K,_,T){if(":"==K[0]){const lt=function nr(K,_){switch(K){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(T,F)=>parseFloat(F)>parseFloat(T);case":decrement":return(T,F)=>parseFloat(F)<parseFloat(T);default:return _.push(function an(K){return new se.vHH(3016,!1)}()),"* => *"}}(K,T);if("function"==typeof lt)return void _.push(lt);K=lt}const F=K.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==F||F.length<4)return T.push(function Vn(K){return new se.vHH(3015,!1)}()),_;const X=F[1],ue=F[2],xe=F[3];_.push(Wn(X,xe));"<"==ue[0]&&!(X==Ln&&xe==Ln)&&_.push(Wn(xe,X))}(F,T,_)):T.push(K),T}const nn=new Set(["true","1"]),on=new Set(["false","0"]);function Wn(K,_){const T=nn.has(K)||on.has(K),F=nn.has(_)||on.has(_);return(X,ue)=>{let xe=K==Ln||K==X,Ve=_==Ln||_==ue;return!xe&&T&&"boolean"==typeof X&&(xe=X?nn.has(K):on.has(K)),!Ve&&F&&"boolean"==typeof ue&&(Ve=ue?nn.has(_):on.has(_)),xe&&Ve}}const Be=new RegExp("s*:selfs*,?","g");function Oe(K,_,T,F){return new Jt(K).build(_,T,F)}class Jt{constructor(_){this._driver=_}build(_,T,F){const X=new yr(T);return this._resetContextStyleTimingState(X),Dr(this,en(_),X)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,T){let F=T.queryCount=0,X=T.depCount=0;const ue=[],xe=[];return"@"==_.name.charAt(0)&&T.errors.push(function $t(){return new se.vHH(3006,!1)}()),_.definitions.forEach(Ve=>{if(this._resetContextStyleTimingState(T),0==Ve.type){const lt=Ve,Ct=lt.name;Ct.toString().split(/\s*,\s*/).forEach(gn=>{lt.name=gn,ue.push(this.visitState(lt,T))}),lt.name=Ct}else if(1==Ve.type){const lt=this.visitTransition(Ve,T);F+=lt.queryCount,X+=lt.depCount,xe.push(lt)}else T.errors.push(function Mt(){return new se.vHH(3007,!1)}())}),{type:7,name:_.name,states:ue,transitions:xe,queryCount:F,depCount:X,options:null}}visitState(_,T){const F=this.visitStyle(_.styles,T),X=_.options&&_.options.params||null;if(F.containsDynamicStyles){const ue=new Set,xe=X||{};F.styles.forEach(Ve=>{Ve instanceof Map&&Ve.forEach(lt=>{yi(lt).forEach(Ct=>{xe.hasOwnProperty(Ct)||ue.add(Ct)})})}),ue.size&&(bo(ue.values()),T.errors.push(function un(K,_){return new se.vHH(3008,!1)}()))}return{type:0,name:_.name,style:F,options:X?{params:X}:null}}visitTransition(_,T){T.queryCount=0,T.depCount=0;const F=Dr(this,en(_.animation),T);return{type:1,matchers:_r(_.expr,T.errors),animation:F,queryCount:T.queryCount,depCount:T.depCount,options:Fi(_.options)}}visitSequence(_,T){return{type:2,steps:_.steps.map(F=>Dr(this,F,T)),options:Fi(_.options)}}visitGroup(_,T){const F=T.currentTime;let X=0;const ue=_.steps.map(xe=>{T.currentTime=F;const Ve=Dr(this,xe,T);return X=Math.max(X,T.currentTime),Ve});return T.currentTime=X,{type:3,steps:ue,options:Fi(_.options)}}visitAnimate(_,T){const F=function Sr(K,_){if(K.hasOwnProperty("duration"))return K;if("number"==typeof K)return br(ye(K,_).duration,0,"");const T=K;if(T.split(/\s+/).some(ue=>"{"==ue.charAt(0)&&"{"==ue.charAt(1))){const ue=br(0,0,"");return ue.dynamic=!0,ue.strValue=T,ue}const X=ye(T,_);return br(X.duration,X.delay,X.easing)}(_.timings,T.errors);T.currentAnimateTimings=F;let X,ue=_.styles?_.styles:(0,Re.oB)({});if(5==ue.type)X=this.visitKeyframes(ue,T);else{let xe=_.styles,Ve=!1;if(!xe){Ve=!0;const Ct={};F.easing&&(Ct.easing=F.easing),xe=(0,Re.oB)(Ct)}T.currentTime+=F.duration+F.delay;const lt=this.visitStyle(xe,T);lt.isEmptyStep=Ve,X=lt}return T.currentAnimateTimings=null,{type:4,timings:F,style:X,options:null}}visitStyle(_,T){const F=this._makeStyleAst(_,T);return this._validateStyleAst(F,T),F}_makeStyleAst(_,T){const F=[],X=Array.isArray(_.styles)?_.styles:[_.styles];for(let Ve of X)"string"==typeof Ve?Ve===Re.l3?F.push(Ve):T.errors.push(new se.vHH(3002,!1)):F.push(Qe(Ve));let ue=!1,xe=null;return F.forEach(Ve=>{if(Ve instanceof Map&&(Ve.has("easing")&&(xe=Ve.get("easing"),Ve.delete("easing")),!ue))for(let lt of Ve.values())if(lt.toString().indexOf("{{")>=0){ue=!0;break}}),{type:6,styles:F,easing:xe,offset:_.offset,containsDynamicStyles:ue,options:null}}_validateStyleAst(_,T){const F=T.currentAnimateTimings;let X=T.currentTime,ue=T.currentTime;F&&ue>0&&(ue-=F.duration+F.delay),_.styles.forEach(xe=>{"string"!=typeof xe&&xe.forEach((Ve,lt)=>{const Ct=T.collectedStyles.get(T.currentQuerySelector),gn=Ct.get(lt);let Pn=!0;gn&&(ue!=X&&ue>=gn.startTime&&X<=gn.endTime&&(T.errors.push(function at(K,_,T,F,X){return new se.vHH(3010,!1)}()),Pn=!1),ue=gn.startTime),Pn&&Ct.set(lt,{startTime:ue,endTime:X}),T.options&&function tr(K,_,T){const F=_.params||{},X=yi(K);X.length&&X.forEach(ue=>{F.hasOwnProperty(ue)||T.push(function Ue(K){return new se.vHH(3001,!1)}())})}(Ve,T.options,T.errors)})})}visitKeyframes(_,T){const F={type:5,styles:[],options:null};if(!T.currentAnimateTimings)return T.errors.push(function xt(){return new se.vHH(3011,!1)}()),F;let ue=0;const xe=[];let Ve=!1,lt=!1,Ct=0;const gn=_.steps.map(it=>{const Dt=this._makeStyleAst(it,T);let wn=null!=Dt.offset?Dt.offset:function fi(K){if("string"==typeof K)return null;let _=null;if(Array.isArray(K))K.forEach(T=>{if(T instanceof Map&&T.has("offset")){const F=T;_=parseFloat(F.get("offset")),F.delete("offset")}});else if(K instanceof Map&&K.has("offset")){const T=K;_=parseFloat(T.get("offset")),T.delete("offset")}return _}(Dt.styles),vr=0;return null!=wn&&(ue++,vr=Dt.offset=wn),lt=lt||vr<0||vr>1,Ve=Ve||vr<Ct,Ct=vr,xe.push(vr),Dt});lt&&T.errors.push(function pn(){return new se.vHH(3012,!1)}()),Ve&&T.errors.push(function st(){return new se.vHH(3200,!1)}());const Pn=_.steps.length;let P=0;ue>0&&ue<Pn?T.errors.push(function Et(){return new se.vHH(3202,!1)}()):0==ue&&(P=1/(Pn-1));const H=Pn-1,x=T.currentTime,te=T.currentAnimateTimings,Te=te.duration;return gn.forEach((it,Dt)=>{const wn=P>0?Dt==H?1:P*Dt:xe[Dt],vr=wn*Te;T.currentTime=x+te.delay+vr,te.duration=vr,this._validateStyleAst(it,T),it.offset=wn,F.styles.push(it)}),F}visitReference(_,T){return{type:8,animation:Dr(this,en(_.animation),T),options:Fi(_.options)}}visitAnimateChild(_,T){return T.depCount++,{type:9,options:Fi(_.options)}}visitAnimateRef(_,T){return{type:10,animation:this.visitReference(_.animation,T),options:Fi(_.options)}}visitQuery(_,T){const F=T.currentQuerySelector,X=_.options||{};T.queryCount++,T.currentQuery=_;const[ue,xe]=function bn(K){const _=!!K.split(/\s*,\s*/).find(T=>":self"==T);return _&&(K=K.replace(Be,"")),K=K.replace(/@\*/g,fe).replace(/@\w+/g,T=>fe+"-"+T.slice(1)).replace(/:animating/g,Je),[K,_]}(_.selector);T.currentQuerySelector=F.length?F+" "+ue:ue,fn(T.collectedStyles,T.currentQuerySelector,new Map);const Ve=Dr(this,en(_.animation),T);return T.currentQuery=null,T.currentQuerySelector=F,{type:11,selector:ue,limit:X.limit||0,optional:!!X.optional,includeSelf:xe,animation:Ve,originalSelector:_.selector,options:Fi(_.options)}}visitStagger(_,T){T.currentQuery||T.errors.push(function yn(){return new se.vHH(3013,!1)}());const F="full"===_.timings?{duration:0,delay:0,easing:"full"}:ye(_.timings,T.errors,!0);return{type:12,animation:Dr(this,en(_.animation),T),timings:F,options:null}}}class yr{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fi(K){return K?(K=rt(K)).params&&(K.params=function cr(K){return K?rt(K):null}(K.params)):K={},K}function br(K,_,T){return{duration:K,delay:_,easing:T}}function Wr(K,_,T,F,X,ue,xe=null,Ve=!1){return{type:1,element:K,keyframes:_,preStyleProps:T,postStyleProps:F,duration:X,delay:ue,totalTime:X+ue,easing:xe,subTimeline:Ve}}class wr{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,T){let F=this._map.get(_);F||this._map.set(_,F=[]),F.push(...T)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const _o=new RegExp(":enter","g"),vs=new RegExp(":leave","g");function To(K,_,T,F,X,ue=new Map,xe=new Map,Ve,lt,Ct=[]){return(new Ji).buildKeyframes(K,_,T,F,X,ue,xe,Ve,lt,Ct)}class Ji{buildKeyframes(_,T,F,X,ue,xe,Ve,lt,Ct,gn=[]){Ct=Ct||new wr;const Pn=new Er(_,T,Ct,X,ue,gn,[]);Pn.options=lt;const P=lt.delay?dt(lt.delay):0;Pn.currentTimeline.delayNextStep(P),Pn.currentTimeline.setStyles([xe],null,Pn.errors,lt),Dr(this,F,Pn);const H=Pn.timelines.filter(x=>x.containsAnimation());if(H.length&&Ve.size){let x;for(let te=H.length-1;te>=0;te--){const Te=H[te];if(Te.element===T){x=Te;break}}x&&!x.allowOnlyTimelineStyles()&&x.setStyles([Ve],null,Pn.errors,lt)}return H.length?H.map(x=>x.buildKeyframes()):[Wr(T,[],[],[],0,P,"",!1)]}visitTrigger(_,T){}visitState(_,T){}visitTransition(_,T){}visitAnimateChild(_,T){const F=T.subInstructions.get(T.element);if(F){const X=T.createSubContext(_.options),ue=T.currentTimeline.currentTime,xe=this._visitSubInstructions(F,X,X.options);ue!=xe&&T.transformIntoNewTimeline(xe)}T.previousNode=_}visitAnimateRef(_,T){const F=T.createSubContext(_.options);F.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],T,F),this.visitReference(_.animation,F),T.transformIntoNewTimeline(F.currentTimeline.currentTime),T.previousNode=_}_applyAnimationRefDelays(_,T,F){for(const X of _){const ue=X?.delay;if(ue){const xe="number"==typeof ue?ue:dt(so(ue,X?.params??{},T.errors));F.delayNextStep(xe)}}}_visitSubInstructions(_,T,F){let ue=T.currentTimeline.currentTime;const xe=null!=F.duration?dt(F.duration):null,Ve=null!=F.delay?dt(F.delay):null;return 0!==xe&&_.forEach(lt=>{const Ct=T.appendInstructionToTimeline(lt,xe,Ve);ue=Math.max(ue,Ct.duration+Ct.delay)}),ue}visitReference(_,T){T.updateOptions(_.options,!0),Dr(this,_.animation,T),T.previousNode=_}visitSequence(_,T){const F=T.subContextCount;let X=T;const ue=_.options;if(ue&&(ue.params||ue.delay)&&(X=T.createSubContext(ue),X.transformIntoNewTimeline(),null!=ue.delay)){6==X.previousNode.type&&(X.currentTimeline.snapshotCurrentStyles(),X.previousNode=Xs);const xe=dt(ue.delay);X.delayNextStep(xe)}_.steps.length&&(_.steps.forEach(xe=>Dr(this,xe,X)),X.currentTimeline.applyStylesToKeyframe(),X.subContextCount>F&&X.transformIntoNewTimeline()),T.previousNode=_}visitGroup(_,T){const F=[];let X=T.currentTimeline.currentTime;const ue=_.options&&_.options.delay?dt(_.options.delay):0;_.steps.forEach(xe=>{const Ve=T.createSubContext(_.options);ue&&Ve.delayNextStep(ue),Dr(this,xe,Ve),X=Math.max(X,Ve.currentTimeline.currentTime),F.push(Ve.currentTimeline)}),F.forEach(xe=>T.currentTimeline.mergeTimelineCollectedStyles(xe)),T.transformIntoNewTimeline(X),T.previousNode=_}_visitTiming(_,T){if(_.dynamic){const F=_.strValue;return ye(T.params?so(F,T.params,T.errors):F,T.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,T){const F=T.currentAnimateTimings=this._visitTiming(_.timings,T),X=T.currentTimeline;F.delay&&(T.incrementTime(F.delay),X.snapshotCurrentStyles());const ue=_.style;5==ue.type?this.visitKeyframes(ue,T):(T.incrementTime(F.duration),this.visitStyle(ue,T),X.applyStylesToKeyframe()),T.currentAnimateTimings=null,T.previousNode=_}visitStyle(_,T){const F=T.currentTimeline,X=T.currentAnimateTimings;!X&&F.hasCurrentStyleProperties()&&F.forwardFrame();const ue=X&&X.easing||_.easing;_.isEmptyStep?F.applyEmptyStep(ue):F.setStyles(_.styles,ue,T.errors,T.options),T.previousNode=_}visitKeyframes(_,T){const F=T.currentAnimateTimings,X=T.currentTimeline.duration,ue=F.duration,Ve=T.createSubContext().currentTimeline;Ve.easing=F.easing,_.styles.forEach(lt=>{Ve.forwardTime((lt.offset||0)*ue),Ve.setStyles(lt.styles,lt.easing,T.errors,T.options),Ve.applyStylesToKeyframe()}),T.currentTimeline.mergeTimelineCollectedStyles(Ve),T.transformIntoNewTimeline(X+ue),T.previousNode=_}visitQuery(_,T){const F=T.currentTimeline.currentTime,X=_.options||{},ue=X.delay?dt(X.delay):0;ue&&(6===T.previousNode.type||0==F&&T.currentTimeline.hasCurrentStyleProperties())&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Xs);let xe=F;const Ve=T.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!X.optional,T.errors);T.currentQueryTotal=Ve.length;let lt=null;Ve.forEach((Ct,gn)=>{T.currentQueryIndex=gn;const Pn=T.createSubContext(_.options,Ct);ue&&Pn.delayNextStep(ue),Ct===T.element&&(lt=Pn.currentTimeline),Dr(this,_.animation,Pn),Pn.currentTimeline.applyStylesToKeyframe(),xe=Math.max(xe,Pn.currentTimeline.currentTime)}),T.currentQueryIndex=0,T.currentQueryTotal=0,T.transformIntoNewTimeline(xe),lt&&(T.currentTimeline.mergeTimelineCollectedStyles(lt),T.currentTimeline.snapshotCurrentStyles()),T.previousNode=_}visitStagger(_,T){const F=T.parentContext,X=T.currentTimeline,ue=_.timings,xe=Math.abs(ue.duration),Ve=xe*(T.currentQueryTotal-1);let lt=xe*T.currentQueryIndex;switch(ue.duration<0?"reverse":ue.easing){case"reverse":lt=Ve-lt;break;case"full":lt=F.currentStaggerTime}const gn=T.currentTimeline;lt&&gn.delayNextStep(lt);const Pn=gn.currentTime;Dr(this,_.animation,T),T.previousNode=_,F.currentStaggerTime=X.currentTime-Pn+(X.startTime-F.currentTimeline.startTime)}}const Xs={};class Er{constructor(_,T,F,X,ue,xe,Ve,lt){this._driver=_,this.element=T,this.subInstructions=F,this._enterClassName=X,this._leaveClassName=ue,this.errors=xe,this.timelines=Ve,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=lt||new pi(this._driver,T,0),Ve.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,T){if(!_)return;const F=_;let X=this.options;null!=F.duration&&(X.duration=dt(F.duration)),null!=F.delay&&(X.delay=dt(F.delay));const ue=F.params;if(ue){let xe=X.params;xe||(xe=this.options.params={}),Object.keys(ue).forEach(Ve=>{(!T||!xe.hasOwnProperty(Ve))&&(xe[Ve]=so(ue[Ve],xe,this.errors))})}}_copyOptions(){const _={};if(this.options){const T=this.options.params;if(T){const F=_.params={};Object.keys(T).forEach(X=>{F[X]=T[X]})}}return _}createSubContext(_=null,T,F){const X=T||this.element,ue=new Er(this._driver,X,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(X,F||0));return ue.previousNode=this.previousNode,ue.currentAnimateTimings=this.currentAnimateTimings,ue.options=this._copyOptions(),ue.updateOptions(_),ue.currentQueryIndex=this.currentQueryIndex,ue.currentQueryTotal=this.currentQueryTotal,ue.parentContext=this,this.subContextCount++,ue}transformIntoNewTimeline(_){return this.previousNode=Xs,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,T,F){const X={duration:T??_.duration,delay:this.currentTimeline.currentTime+(F??0)+_.delay,easing:""},ue=new vi(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,X,_.stretchStartingKeyframe);return this.timelines.push(ue),X}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,T,F,X,ue,xe){let Ve=[];if(X&&Ve.push(this.element),_.length>0){_=(_=_.replace(_o,"."+this._enterClassName)).replace(vs,"."+this._leaveClassName);let Ct=this._driver.query(this.element,_,1!=F);0!==F&&(Ct=F<0?Ct.slice(Ct.length+F,Ct.length):Ct.slice(0,F)),Ve.push(...Ct)}return!ue&&0==Ve.length&&xe.push(function ln(K){return new se.vHH(3014,!1)}()),Ve}}class pi{constructor(_,T,F,X){this._driver=_,this.element=T,this.startTime=F,this._elementTimelineStylesLookup=X,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(T),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(T,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const T=1===this._keyframes.size&&this._pendingStyles.size;this.duration||T?(this.forwardTime(this.currentTime+_),T&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,T){return this.applyStylesToKeyframe(),new pi(this._driver,_,T||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,T){this._localTimelineStyles.set(_,T),this._globalTimelineStyles.set(_,T),this._styleSummary.set(_,{time:this.currentTime,value:T})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[T,F]of this._globalTimelineStyles)this._backFill.set(T,F||Re.l3),this._currentKeyframe.set(T,Re.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,T,F,X){T&&this._previousKeyframe.set("easing",T);const ue=X&&X.params||{},xe=function Mi(K,_){const T=new Map;let F;return K.forEach(X=>{if("*"===X){F=F||_.keys();for(let ue of F)T.set(ue,Re.l3)}else Me(X,T)}),T}(_,this._globalTimelineStyles);for(let[Ve,lt]of xe){const Ct=so(lt,ue,F);this._pendingStyles.set(Ve,Ct),this._localTimelineStyles.has(Ve)||this._backFill.set(Ve,this._globalTimelineStyles.get(Ve)??Re.l3),this._updateStyle(Ve,Ct)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,T)=>{this._currentKeyframe.set(T,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,T)=>{this._currentKeyframe.has(T)||this._currentKeyframe.set(T,_)}))}snapshotCurrentStyles(){for(let[_,T]of this._localTimelineStyles)this._pendingStyles.set(_,T),this._updateStyle(_,T)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let T in this._currentKeyframe)_.push(T);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((T,F)=>{const X=this._styleSummary.get(F);(!X||T.time>X.time)&&this._updateStyle(F,T.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,T=new Set,F=1===this._keyframes.size&&0===this.duration;let X=[];this._keyframes.forEach((Ve,lt)=>{const Ct=Me(Ve,new Map,this._backFill);Ct.forEach((gn,Pn)=>{gn===Re.k1?_.add(Pn):gn===Re.l3&&T.add(Pn)}),F||Ct.set("offset",lt/this.duration),X.push(Ct)});const ue=_.size?bo(_.values()):[],xe=T.size?bo(T.values()):[];if(F){const Ve=X[0],lt=new Map(Ve);Ve.set("offset",0),lt.set("offset",1),X=[Ve,lt]}return Wr(this.element,X,ue,xe,this.duration,this.startTime,this.easing,!1)}}class vi extends pi{constructor(_,T,F,X,ue,xe,Ve=!1){super(_,T,xe.delay),this.keyframes=F,this.preStyleProps=X,this.postStyleProps=ue,this._stretchStartingKeyframe=Ve,this.timings={duration:xe.duration,delay:xe.delay,easing:xe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:T,duration:F,easing:X}=this.timings;if(this._stretchStartingKeyframe&&T){const ue=[],xe=F+T,Ve=T/xe,lt=Me(_[0]);lt.set("offset",0),ue.push(lt);const Ct=Me(_[0]);Ct.set("offset",Lr(Ve)),ue.push(Ct);const gn=_.length-1;for(let Pn=1;Pn<=gn;Pn++){let P=Me(_[Pn]);const H=P.get("offset");P.set("offset",Lr((T+H*F)/xe)),ue.push(P)}F=xe,T=0,X="",_=ue}return Wr(this.element,_,this.preStyleProps,this.postStyleProps,F,T,X,!0)}}function Lr(K,_=3){const T=Math.pow(10,_-1);return Math.round(K*T)/T}class Hr{}const Ko=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class rs extends Hr{normalizePropertyName(_,T){return Zi(_)}normalizeStyleValue(_,T,F,X){let ue="";const xe=F.toString().trim();if(Ko.has(T)&&0!==F&&"0"!==F)if("number"==typeof F)ue="px";else{const Ve=F.match(/^[+-]?[\d\.]+([a-z]*)$/);Ve&&0==Ve[1].length&&X.push(function Pt(K,_){return new se.vHH(3005,!1)}())}return xe+ue}}function Eo(K,_,T,F,X,ue,xe,Ve,lt,Ct,gn,Pn,P){return{type:0,element:K,triggerName:_,isRemovalTransition:X,fromState:T,fromStyles:ue,toState:F,toStyles:xe,timelines:Ve,queriedElements:lt,preStyleProps:Ct,postStyleProps:gn,totalTime:Pn,errors:P}}const _s={};class _i{constructor(_,T,F){this._triggerName=_,this.ast=T,this._stateStyles=F}match(_,T,F,X){return function ea(K,_,T,F,X){return K.some(ue=>ue(_,T,F,X))}(this.ast.matchers,_,T,F,X)}buildStyles(_,T,F){let X=this._stateStyles.get("*");return void 0!==_&&(X=this._stateStyles.get(_?.toString())||X),X?X.buildStyles(T,F):new Map}build(_,T,F,X,ue,xe,Ve,lt,Ct,gn){const Pn=[],P=this.ast.options&&this.ast.options.params||_s,x=this.buildStyles(F,Ve&&Ve.params||_s,Pn),te=lt&&lt.params||_s,Te=this.buildStyles(X,te,Pn),it=new Set,Dt=new Map,wn=new Map,vr="void"===X,zr={params:Vs(te,P),delay:this.ast.options?.delay},Pr=gn?[]:To(_,T,this.ast.animation,ue,xe,x,Te,zr,Ct,Pn);let Qn=0;if(Pr.forEach(Mr=>{Qn=Math.max(Mr.duration+Mr.delay,Qn)}),Pn.length)return Eo(T,this._triggerName,F,X,vr,x,Te,[],[],Dt,wn,Qn,Pn);Pr.forEach(Mr=>{const wi=Mr.element,go=fn(Dt,wi,new Set);Mr.preStyleProps.forEach(xo=>go.add(xo));const ro=fn(wn,wi,new Set);Mr.postStyleProps.forEach(xo=>ro.add(xo)),wi!==T&&it.add(wi)});const Ti=bo(it.values());return Eo(T,this._triggerName,F,X,vr,x,Te,Pr,Ti,Dt,wn,Qn)}}function Vs(K,_){const T=rt(_);for(const F in K)K.hasOwnProperty(F)&&null!=K[F]&&(T[F]=K[F]);return T}class ks{constructor(_,T,F){this.styles=_,this.defaultParams=T,this.normalizer=F}buildStyles(_,T){const F=new Map,X=rt(this.defaultParams);return Object.keys(_).forEach(ue=>{const xe=_[ue];null!==xe&&(X[ue]=xe)}),this.styles.styles.forEach(ue=>{"string"!=typeof ue&&ue.forEach((xe,Ve)=>{xe&&(xe=so(xe,X,T));const lt=this.normalizer.normalizePropertyName(Ve,T);xe=this.normalizer.normalizeStyleValue(Ve,lt,xe,T),F.set(Ve,xe)})}),F}}class As{constructor(_,T,F){this.name=_,this.ast=T,this._normalizer=F,this.transitionFactories=[],this.states=new Map,T.states.forEach(X=>{this.states.set(X.name,new ks(X.style,X.options&&X.options.params||{},F))}),qo(this.states,"true","1"),qo(this.states,"false","0"),T.transitions.forEach(X=>{this.transitionFactories.push(new _i(_,X,this.states))}),this.fallbackTransition=function La(K,_,T){return new _i(K,{type:1,animation:{type:2,steps:[],options:null},matchers:[(xe,Ve)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,T,F,X){return this.transitionFactories.find(xe=>xe.match(_,T,F,X))||null}matchStyles(_,T,F){return this.fallbackTransition.buildStyles(_,T,F)}}function qo(K,_,T){K.has(_)?K.has(T)||K.set(T,K.get(_)):K.has(T)&&K.set(_,K.get(T))}const Ya=new wr;class Lo{constructor(_,T,F){this.bodyNode=_,this._driver=T,this._normalizer=F,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,T){const F=[],X=[],ue=Oe(this._driver,T,F,X);if(F.length)throw function tt(K){return new se.vHH(3503,!1)}();this._animations.set(_,ue)}_buildPlayer(_,T,F){const X=_.element,ue=Tr(0,this._normalizer,0,_.keyframes,T,F);return this._driver.animate(X,ue,_.duration,_.delay,_.easing,[],!0)}create(_,T,F={}){const X=[],ue=this._animations.get(_);let xe;const Ve=new Map;if(ue?(xe=To(this._driver,T,ue,Tt,Ne,new Map,new Map,F,Ya,X),xe.forEach(gn=>{const Pn=fn(Ve,gn.element,new Map);gn.postStyleProps.forEach(P=>Pn.set(P,null))})):(X.push(function ut(){return new se.vHH(3300,!1)}()),xe=[]),X.length)throw function ht(K){return new se.vHH(3504,!1)}();Ve.forEach((gn,Pn)=>{gn.forEach((P,H)=>{gn.set(H,this._driver.computeStyle(Pn,H,Re.l3))})});const Ct=Jn(xe.map(gn=>{const Pn=Ve.get(gn.element);return this._buildPlayer(gn,new Map,Pn)}));return this._playersById.set(_,Ct),Ct.onDestroy(()=>this.destroy(_)),this.players.push(Ct),Ct}destroy(_){const T=this._getPlayer(_);T.destroy(),this._playersById.delete(_);const F=this.players.indexOf(T);F>=0&&this.players.splice(F,1)}_getPlayer(_){const T=this._playersById.get(_);if(!T)throw function Xe(K){return new se.vHH(3301,!1)}();return T}listen(_,T,F,X){const ue=$r(T,"","","");return li(this._getPlayer(_),F,ue,X),()=>{}}command(_,T,F,X){if("register"==F)return void this.register(_,X[0]);if("create"==F)return void this.create(_,T,X[0]||{});const ue=this._getPlayer(_);switch(F){case"play":ue.play();break;case"pause":ue.pause();break;case"reset":ue.reset();break;case"restart":ue.restart();break;case"finish":ue.finish();break;case"init":ue.init();break;case"setPosition":ue.setPosition(parseFloat(X[0]));break;case"destroy":this.destroy(_)}}}const uo="ng-animate-queued",ta="ng-animate-disabled",Hs=[],Ts={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Da={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},to="__ng_removed";class ws{get params(){return this.options.params}constructor(_,T=""){this.namespaceId=T;const F=_&&_.hasOwnProperty("value");if(this.value=function ia(K){return K??null}(F?_.value:_),F){const ue=rt(_);delete ue.value,this.options=ue}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const T=_.params;if(T){const F=this.options.params;Object.keys(T).forEach(X=>{null==F[X]&&(F[X]=T[X])})}}}const xs="void",na=new ws(xs);class Ka{constructor(_,T,F){this.id=_,this.hostElement=T,this._engine=F,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,lo(T,this._hostClassName)}listen(_,T,F,X){if(!this._triggers.has(T))throw function Ht(K,_){return new se.vHH(3302,!1)}();if(null==F||0==F.length)throw function Ot(K){return new se.vHH(3303,!1)}();if(!function Ms(K){return"start"==K||"done"==K}(F))throw function Cn(K,_){return new se.vHH(3400,!1)}();const ue=fn(this._elementListeners,_,[]),xe={name:T,phase:F,callback:X};ue.push(xe);const Ve=fn(this._engine.statesByElement,_,new Map);return Ve.has(T)||(lo(_,be),lo(_,be+"-"+T),Ve.set(T,na)),()=>{this._engine.afterFlush(()=>{const lt=ue.indexOf(xe);lt>=0&&ue.splice(lt,1),this._triggers.has(T)||Ve.delete(T)})}}register(_,T){return!this._triggers.has(_)&&(this._triggers.set(_,T),!0)}_getTrigger(_){const T=this._triggers.get(_);if(!T)throw function In(K){return new se.vHH(3401,!1)}();return T}trigger(_,T,F,X=!0){const ue=this._getTrigger(T),xe=new Xi(this.id,T,_);let Ve=this._engine.statesByElement.get(_);Ve||(lo(_,be),lo(_,be+"-"+T),this._engine.statesByElement.set(_,Ve=new Map));let lt=Ve.get(T);const Ct=new ws(F,this.id);if(!(F&&F.hasOwnProperty("value"))&&lt&&Ct.absorbOptions(lt.options),Ve.set(T,Ct),lt||(lt=na),Ct.value!==xs&&lt.value===Ct.value){if(!function oa(K,_){const T=Object.keys(K),F=Object.keys(_);if(T.length!=F.length)return!1;for(let X=0;X<T.length;X++){const ue=T[X];if(!_.hasOwnProperty(ue)||K[ue]!==_[ue])return!1}return!0}(lt.params,Ct.params)){const te=[],Te=ue.matchStyles(lt.value,lt.params,te),it=ue.matchStyles(Ct.value,Ct.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{Lt(_,Te),ft(_,it)})}return}const P=fn(this._engine.playersByElement,_,[]);P.forEach(te=>{te.namespaceId==this.id&&te.triggerName==T&&te.queued&&te.destroy()});let H=ue.matchTransition(lt.value,Ct.value,_,Ct.params),x=!1;if(!H){if(!X)return;H=ue.fallbackTransition,x=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:T,transition:H,fromState:lt,toState:Ct,player:xe,isFallbackTransition:x}),x||(lo(_,uo),xe.onStart(()=>{Si(_,uo)})),xe.onDone(()=>{let te=this.players.indexOf(xe);te>=0&&this.players.splice(te,1);const Te=this._engine.playersByElement.get(_);if(Te){let it=Te.indexOf(xe);it>=0&&Te.splice(it,1)}}),this.players.push(xe),P.push(xe),xe}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(T=>T.delete(_)),this._elementListeners.forEach((T,F)=>{this._elementListeners.set(F,T.filter(X=>X.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const T=this._engine.playersByElement.get(_);T&&(T.forEach(F=>F.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,T){const F=this._engine.driver.query(_,fe,!0);F.forEach(X=>{if(X[to])return;const ue=this._engine.fetchNamespacesByElement(X);ue.size?ue.forEach(xe=>xe.triggerLeaveAnimation(X,T,!1,!0)):this.clearElementCache(X)}),this._engine.afterFlushAnimationsDone(()=>F.forEach(X=>this.clearElementCache(X)))}triggerLeaveAnimation(_,T,F,X){const ue=this._engine.statesByElement.get(_),xe=new Map;if(ue){const Ve=[];if(ue.forEach((lt,Ct)=>{if(xe.set(Ct,lt.value),this._triggers.has(Ct)){const gn=this.trigger(_,Ct,xs,X);gn&&Ve.push(gn)}}),Ve.length)return this._engine.markElementAsRemoved(this.id,_,!0,T,xe),F&&Jn(Ve).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const T=this._elementListeners.get(_),F=this._engine.statesByElement.get(_);if(T&&F){const X=new Set;T.forEach(ue=>{const xe=ue.name;if(X.has(xe))return;X.add(xe);const lt=this._triggers.get(xe).fallbackTransition,Ct=F.get(xe)||na,gn=new ws(xs),Pn=new Xi(this.id,xe,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:xe,transition:lt,fromState:Ct,toState:gn,player:Pn,isFallbackTransition:!0})})}}removeNode(_,T){const F=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,T),this.triggerLeaveAnimation(_,T,!0))return;let X=!1;if(F.totalAnimations){const ue=F.players.length?F.playersByQueriedElement.get(_):[];if(ue&&ue.length)X=!0;else{let xe=_;for(;xe=xe.parentNode;)if(F.statesByElement.get(xe)){X=!0;break}}}if(this.prepareLeaveAnimationListeners(_),X)F.markElementAsRemoved(this.id,_,!1,T);else{const ue=_[to];(!ue||ue===Ts)&&(F.afterFlush(()=>this.clearElementCache(_)),F.destroyInnerAnimations(_),F._onRemovalComplete(_,T))}}insertNode(_,T){lo(_,this._hostClassName)}drainQueuedTransitions(_){const T=[];return this._queue.forEach(F=>{const X=F.player;if(X.destroyed)return;const ue=F.element,xe=this._elementListeners.get(ue);xe&&xe.forEach(Ve=>{if(Ve.name==F.triggerName){const lt=$r(ue,F.triggerName,F.fromState.value,F.toState.value);lt._data=_,li(F.player,Ve.phase,lt,Ve.callback)}}),X.markedForDestroy?this._engine.afterFlush(()=>{X.destroy()}):T.push(F)}),this._queue=[],T.sort((F,X)=>{const ue=F.transition.ast.depCount,xe=X.transition.ast.depCount;return 0==ue||0==xe?ue-xe:this._engine.driver.containsElement(F.element,X.element)?1:-1})}destroy(_){this.players.forEach(T=>T.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let T=!1;return this._elementListeners.has(_)&&(T=!0),T=!!this._queue.find(F=>F.element===_)||T,T}}class ra{_onRemovalComplete(_,T){this.onRemovalComplete(_,T)}constructor(_,T,F){this.bodyNode=_,this.driver=T,this._normalizer=F,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(X,ue)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(T=>{T.players.forEach(F=>{F.queued&&_.push(F)})}),_}createNamespace(_,T){const F=new Ka(_,T,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,T)?this._balanceNamespaceList(F,T):(this.newHostElements.set(T,F),this.collectEnterElement(T)),this._namespaceLookup[_]=F}_balanceNamespaceList(_,T){const F=this._namespaceList,X=this.namespacesByHostElement;if(F.length-1>=0){let xe=!1,Ve=this.driver.getParentElement(T);for(;Ve;){const lt=X.get(Ve);if(lt){const Ct=F.indexOf(lt);F.splice(Ct+1,0,_),xe=!0;break}Ve=this.driver.getParentElement(Ve)}xe||F.unshift(_)}else F.push(_);return X.set(T,_),_}register(_,T){let F=this._namespaceLookup[_];return F||(F=this.createNamespace(_,T)),F}registerTrigger(_,T,F){let X=this._namespaceLookup[_];X&&X.register(T,F)&&this.totalAnimations++}destroy(_,T){if(!_)return;const F=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(F.hostElement),delete this._namespaceLookup[_];const X=this._namespaceList.indexOf(F);X>=0&&this._namespaceList.splice(X,1)}),this.afterFlushAnimationsDone(()=>F.destroy(T))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const T=new Set,F=this.statesByElement.get(_);if(F)for(let X of F.values())if(X.namespaceId){const ue=this._fetchNamespace(X.namespaceId);ue&&T.add(ue)}return T}trigger(_,T,F,X){if(Yr(T)){const ue=this._fetchNamespace(_);if(ue)return ue.trigger(T,F,X),!0}return!1}insertNode(_,T,F,X){if(!Yr(T))return;const ue=T[to];if(ue&&ue.setForRemoval){ue.setForRemoval=!1,ue.setForMove=!0;const xe=this.collectedLeaveElements.indexOf(T);xe>=0&&this.collectedLeaveElements.splice(xe,1)}if(_){const xe=this._fetchNamespace(_);xe&&xe.insertNode(T,F)}X&&this.collectEnterElement(T)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,T){T?this.disabledNodes.has(_)||(this.disabledNodes.add(_),lo(_,ta)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),Si(_,ta))}removeNode(_,T,F,X){if(Yr(T)){const ue=_?this._fetchNamespace(_):null;if(ue?ue.removeNode(T,X):this.markElementAsRemoved(_,T,!1,X),F){const xe=this.namespacesByHostElement.get(T);xe&&xe.id!==_&&xe.removeNode(T,X)}}else this._onRemovalComplete(T,X)}markElementAsRemoved(_,T,F,X,ue){this.collectedLeaveElements.push(T),T[to]={namespaceId:_,setForRemoval:X,hasAnimation:F,removedBeforeQueried:!1,previousTriggersValues:ue}}listen(_,T,F,X,ue){return Yr(T)?this._fetchNamespace(_).listen(T,F,X,ue):()=>{}}_buildInstruction(_,T,F,X,ue){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,F,X,_.fromState.options,_.toState.options,T,ue)}destroyInnerAnimations(_){let T=this.driver.query(_,fe,!0);T.forEach(F=>this.destroyActiveAnimationsForElement(F)),0!=this.playersByQueriedElement.size&&(T=this.driver.query(_,Je,!0),T.forEach(F=>this.finishActiveQueriedAnimationOnElement(F)))}destroyActiveAnimationsForElement(_){const T=this.playersByElement.get(_);T&&T.forEach(F=>{F.queued?F.markedForDestroy=!0:F.destroy()})}finishActiveQueriedAnimationOnElement(_){const T=this.playersByQueriedElement.get(_);T&&T.forEach(F=>F.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return Jn(this.players).onDone(()=>_());_()})}processLeaveNode(_){const T=_[to];if(T&&T.setForRemoval){if(_[to]=Ts,T.namespaceId){this.destroyInnerAnimations(_);const F=this._fetchNamespace(T.namespaceId);F&&F.clearElementCache(_)}this._onRemovalComplete(_,T.setForRemoval)}_.classList?.contains(ta)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(F=>{this.markElementAsDisabled(F,!1)})}flush(_=-1){let T=[];if(this.newHostElements.size&&(this.newHostElements.forEach((F,X)=>this._balanceNamespaceList(F,X)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let F=0;F<this.collectedEnterElements.length;F++)lo(this.collectedEnterElements[F],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const F=[];try{T=this._flushAnimations(F,_)}finally{for(let X=0;X<F.length;X++)F[X]()}}else for(let F=0;F<this.collectedLeaveElements.length;F++)this.processLeaveNode(this.collectedLeaveElements[F]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(F=>F()),this._flushFns=[],this._whenQuietFns.length){const F=this._whenQuietFns;this._whenQuietFns=[],T.length?Jn(T).onDone(()=>{F.forEach(X=>X())}):F.forEach(X=>X())}}reportError(_){throw function ri(K){return new se.vHH(3402,!1)}()}_flushAnimations(_,T){const F=new wr,X=[],ue=new Map,xe=[],Ve=new Map,lt=new Map,Ct=new Map,gn=new Set;this.disabledNodes.forEach(kn=>{gn.add(kn);const jn=this.driver.query(kn,".ng-animate-queued",!0);for(let or=0;or<jn.length;or++)gn.add(jn[or])});const Pn=this.bodyNode,P=Array.from(this.statesByElement.keys()),H=Jr(P,this.collectedEnterElements),x=new Map;let te=0;H.forEach((kn,jn)=>{const or=Tt+te++;x.set(jn,or),kn.forEach(ni=>lo(ni,or))});const Te=[],it=new Set,Dt=new Set;for(let kn=0;kn<this.collectedLeaveElements.length;kn++){const jn=this.collectedLeaveElements[kn],or=jn[to];or&&or.setForRemoval&&(Te.push(jn),it.add(jn),or.hasAnimation?this.driver.query(jn,".ng-star-inserted",!0).forEach(ni=>it.add(ni)):Dt.add(jn))}const wn=new Map,vr=Jr(P,Array.from(it));vr.forEach((kn,jn)=>{const or=Ne+te++;wn.set(jn,or),kn.forEach(ni=>lo(ni,or))}),_.push(()=>{H.forEach((kn,jn)=>{const or=x.get(jn);kn.forEach(ni=>Si(ni,or))}),vr.forEach((kn,jn)=>{const or=wn.get(jn);kn.forEach(ni=>Si(ni,or))}),Te.forEach(kn=>{this.processLeaveNode(kn)})});const zr=[],Pr=[];for(let kn=this._namespaceList.length-1;kn>=0;kn--)this._namespaceList[kn].drainQueuedTransitions(T).forEach(or=>{const ni=or.player,Vo=or.element;if(zr.push(ni),this.collectedEnterElements.length){const L=Vo[to];if(L&&L.setForMove){if(L.previousTriggersValues&&L.previousTriggersValues.has(or.triggerName)){const A=L.previousTriggersValues.get(or.triggerName),q=this.statesByElement.get(or.element);if(q&&q.has(or.triggerName)){const $=q.get(or.triggerName);$.value=A,q.set(or.triggerName,$)}}return void ni.destroy()}}const Ns=!Pn||!this.driver.containsElement(Pn,Vo),ls=wn.get(Vo),ca=x.get(Vo),ee=this._buildInstruction(or,F,ca,ls,Ns);if(ee.errors&&ee.errors.length)return void Pr.push(ee);if(Ns)return ni.onStart(()=>Lt(Vo,ee.fromStyles)),ni.onDestroy(()=>ft(Vo,ee.toStyles)),void X.push(ni);if(or.isFallbackTransition)return ni.onStart(()=>Lt(Vo,ee.fromStyles)),ni.onDestroy(()=>ft(Vo,ee.toStyles)),void X.push(ni);const U=[];ee.timelines.forEach(L=>{L.stretchStartingKeyframe=!0,this.disabledNodes.has(L.element)||U.push(L)}),ee.timelines=U,F.append(Vo,ee.timelines),xe.push({instruction:ee,player:ni,element:Vo}),ee.queriedElements.forEach(L=>fn(Ve,L,[]).push(ni)),ee.preStyleProps.forEach((L,A)=>{if(L.size){let q=lt.get(A);q||lt.set(A,q=new Set),L.forEach(($,Nt)=>q.add(Nt))}}),ee.postStyleProps.forEach((L,A)=>{let q=Ct.get(A);q||Ct.set(A,q=new Set),L.forEach(($,Nt)=>q.add(Nt))})});if(Pr.length){const kn=[];Pr.forEach(jn=>{kn.push(function Kn(K,_){return new se.vHH(3505,!1)}())}),zr.forEach(jn=>jn.destroy()),this.reportError(kn)}const Qn=new Map,Ti=new Map;xe.forEach(kn=>{const jn=kn.element;F.has(jn)&&(Ti.set(jn,jn),this._beforeAnimationBuild(kn.player.namespaceId,kn.instruction,Qn))}),X.forEach(kn=>{const jn=kn.element;this._getPreviousPlayers(jn,!1,kn.namespaceId,kn.triggerName,null).forEach(ni=>{fn(Qn,jn,[]).push(ni),ni.destroy()})});const Mr=Te.filter(kn=>Es(kn,lt,Ct)),wi=new Map;Bi(wi,this.driver,Dt,Ct,Re.l3).forEach(kn=>{Es(kn,lt,Ct)&&Mr.push(kn)});const ro=new Map;H.forEach((kn,jn)=>{Bi(ro,this.driver,new Set(kn),lt,Re.k1)}),Mr.forEach(kn=>{const jn=wi.get(kn),or=ro.get(kn);wi.set(kn,new Map([...Array.from(jn?.entries()??[]),...Array.from(or?.entries()??[])]))});const xo=[],Uo=[],jo={};xe.forEach(kn=>{const{element:jn,player:or,instruction:ni}=kn;if(F.has(jn)){if(gn.has(jn))return or.onDestroy(()=>ft(jn,ni.toStyles)),or.disabled=!0,or.overrideTotalTime(ni.totalTime),void X.push(or);let Vo=jo;if(Ti.size>1){let ls=jn;const ca=[];for(;ls=ls.parentNode;){const ee=Ti.get(ls);if(ee){Vo=ee;break}ca.push(ls)}ca.forEach(ee=>Ti.set(ee,Vo))}const Ns=this._buildAnimation(or.namespaceId,ni,Qn,ue,ro,wi);if(or.setRealPlayer(Ns),Vo===jo)xo.push(or);else{const ls=this.playersByElement.get(Vo);ls&&ls.length&&(or.parentPlayer=Jn(ls)),X.push(or)}}else Lt(jn,ni.fromStyles),or.onDestroy(()=>ft(jn,ni.toStyles)),Uo.push(or),gn.has(jn)&&X.push(or)}),Uo.forEach(kn=>{const jn=ue.get(kn.element);if(jn&&jn.length){const or=Jn(jn);kn.setRealPlayer(or)}}),X.forEach(kn=>{kn.parentPlayer?kn.syncPlayerEvents(kn.parentPlayer):kn.destroy()});for(let kn=0;kn<Te.length;kn++){const jn=Te[kn],or=jn[to];if(Si(jn,Ne),or&&or.hasAnimation)continue;let ni=[];if(Ve.size){let Ns=Ve.get(jn);Ns&&Ns.length&&ni.push(...Ns);let ls=this.driver.query(jn,Je,!0);for(let ca=0;ca<ls.length;ca++){let ee=Ve.get(ls[ca]);ee&&ee.length&&ni.push(...ee)}}const Vo=ni.filter(Ns=>!Ns.destroyed);Vo.length?Yi(this,jn,Vo):this.processLeaveNode(jn)}return Te.length=0,xo.forEach(kn=>{this.players.push(kn),kn.onDone(()=>{kn.destroy();const jn=this.players.indexOf(kn);this.players.splice(jn,1)}),kn.play()}),xo}elementContainsData(_,T){let F=!1;const X=T[to];return X&&X.setForRemoval&&(F=!0),this.playersByElement.has(T)&&(F=!0),this.playersByQueriedElement.has(T)&&(F=!0),this.statesByElement.has(T)&&(F=!0),this._fetchNamespace(_).elementContainsData(T)||F}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,T,F,X,ue){let xe=[];if(T){const Ve=this.playersByQueriedElement.get(_);Ve&&(xe=Ve)}else{const Ve=this.playersByElement.get(_);if(Ve){const lt=!ue||ue==xs;Ve.forEach(Ct=>{Ct.queued||!lt&&Ct.triggerName!=X||xe.push(Ct)})}}return(F||X)&&(xe=xe.filter(Ve=>!(F&&F!=Ve.namespaceId||X&&X!=Ve.triggerName))),xe}_beforeAnimationBuild(_,T,F){const ue=T.element,xe=T.isRemovalTransition?void 0:_,Ve=T.isRemovalTransition?void 0:T.triggerName;for(const lt of T.timelines){const Ct=lt.element,gn=Ct!==ue,Pn=fn(F,Ct,[]);this._getPreviousPlayers(Ct,gn,xe,Ve,T.toState).forEach(H=>{const x=H.getRealPlayer();x.beforeDestroy&&x.beforeDestroy(),H.destroy(),Pn.push(H)})}Lt(ue,T.fromStyles)}_buildAnimation(_,T,F,X,ue,xe){const Ve=T.triggerName,lt=T.element,Ct=[],gn=new Set,Pn=new Set,P=T.timelines.map(x=>{const te=x.element;gn.add(te);const Te=te[to];if(Te&&Te.removedBeforeQueried)return new Re.ZN(x.duration,x.delay);const it=te!==lt,Dt=function Ua(K){const _=[];return ai(K,_),_}((F.get(te)||Hs).map(Qn=>Qn.getRealPlayer())).filter(Qn=>!!Qn.element&&Qn.element===te),wn=ue.get(te),vr=xe.get(te),zr=Tr(0,this._normalizer,0,x.keyframes,wn,vr),Pr=this._buildPlayer(x,zr,Dt);if(x.subTimeline&&X&&Pn.add(te),it){const Qn=new Xi(_,Ve,te);Qn.setRealPlayer(Pr),Ct.push(Qn)}return Pr});Ct.forEach(x=>{fn(this.playersByQueriedElement,x.element,[]).push(x),x.onDone(()=>function Sa(K,_,T){let F=K.get(_);if(F){if(F.length){const X=F.indexOf(T);F.splice(X,1)}0==F.length&&K.delete(_)}return F}(this.playersByQueriedElement,x.element,x))}),gn.forEach(x=>lo(x,me));const H=Jn(P);return H.onDestroy(()=>{gn.forEach(x=>Si(x,me)),ft(lt,T.toStyles)}),Pn.forEach(x=>{fn(X,x,[]).push(H)}),H}_buildPlayer(_,T,F){return T.length>0?this.driver.animate(_.element,T,_.duration,_.delay,_.easing,F):new Re.ZN(_.duration,_.delay)}}class Xi{constructor(_,T,F){this.namespaceId=_,this.triggerName=T,this.element=F,this._player=new Re.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((T,F)=>{T.forEach(X=>li(_,F,void 0,X))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const T=this._player;T.triggerCallback&&_.onStart(()=>T.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,T){fn(this._queuedCallbacks,_,[]).push(T)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const T=this._player;T.triggerCallback&&T.triggerCallback(_)}}function Yr(K){return K&&1===K.nodeType}function is(K,_){const T=K.style.display;return K.style.display=_??"none",T}function Bi(K,_,T,F,X){const ue=[];T.forEach(lt=>ue.push(is(lt)));const xe=[];F.forEach((lt,Ct)=>{const gn=new Map;lt.forEach(Pn=>{const P=_.computeStyle(Ct,Pn,X);gn.set(Pn,P),(!P||0==P.length)&&(Ct[to]=Da,xe.push(Ct))}),K.set(Ct,gn)});let Ve=0;return T.forEach(lt=>is(lt,ue[Ve++])),xe}function Jr(K,_){const T=new Map;if(K.forEach(Ve=>T.set(Ve,[])),0==_.length)return T;const F=1,X=new Set(_),ue=new Map;function xe(Ve){if(!Ve)return F;let lt=ue.get(Ve);if(lt)return lt;const Ct=Ve.parentNode;return lt=T.has(Ct)?Ct:X.has(Ct)?F:xe(Ct),ue.set(Ve,lt),lt}return _.forEach(Ve=>{const lt=xe(Ve);lt!==F&&T.get(lt).push(Ve)}),T}function lo(K,_){K.classList?.add(_)}function Si(K,_){K.classList?.remove(_)}function Yi(K,_,T){Jn(T).onDone(()=>K.processLeaveNode(_))}function ai(K,_){for(let T=0;T<K.length;T++){const F=K[T];F instanceof Re.ZE?ai(F.players,_):_.push(F)}}function Es(K,_,T){const F=T.get(K);if(!F)return!1;let X=_.get(K);return X?F.forEach(ue=>X.add(ue)):_.set(K,F),T.delete(K),!0}class Rs{constructor(_,T,F){this.bodyNode=_,this._driver=T,this._normalizer=F,this._triggerCache={},this.onRemovalComplete=(X,ue)=>{},this._transitionEngine=new ra(_,T,F),this._timelineEngine=new Lo(_,T,F),this._transitionEngine.onRemovalComplete=(X,ue)=>this.onRemovalComplete(X,ue)}registerTrigger(_,T,F,X,ue){const xe=_+"-"+X;let Ve=this._triggerCache[xe];if(!Ve){const lt=[],Ct=[],gn=Oe(this._driver,ue,lt,Ct);if(lt.length)throw function ir(K,_){return new se.vHH(3404,!1)}();Ve=function Fo(K,_,T){return new As(K,_,T)}(X,gn,this._normalizer),this._triggerCache[xe]=Ve}this._transitionEngine.registerTrigger(T,X,Ve)}register(_,T){this._transitionEngine.register(_,T)}destroy(_,T){this._transitionEngine.destroy(_,T)}onInsert(_,T,F,X){this._transitionEngine.insertNode(_,T,F,X)}onRemove(_,T,F,X){this._transitionEngine.removeNode(_,T,X||!1,F)}disableAnimations(_,T){this._transitionEngine.markElementAsDisabled(_,T)}process(_,T,F,X){if("@"==F.charAt(0)){const[ue,xe]=Nr(F);this._timelineEngine.command(ue,T,xe,X)}else this._transitionEngine.trigger(_,T,F,X)}listen(_,T,F,X,ue){if("@"==F.charAt(0)){const[xe,Ve]=Nr(F);return this._timelineEngine.listen(xe,T,Ve,ue)}return this._transitionEngine.listen(_,T,F,X,ue)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let er=(()=>{class K{constructor(T,F,X){this._element=T,this._startStyles=F,this._endStyles=X,this._state=0;let ue=K.initialStylesByElement.get(T);ue||K.initialStylesByElement.set(T,ue=new Map),this._initialStyles=ue}start(){this._state<1&&(this._startStyles&&ft(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ft(this._element,this._initialStyles),this._endStyles&&(ft(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(K.initialStylesByElement.delete(this._element),this._startStyles&&(Lt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Lt(this._element,this._endStyles),this._endStyles=null),ft(this._element,this._initialStyles),this._state=3)}}return K.initialStylesByElement=new WeakMap,K})();function Co(K){let _=null;return K.forEach((T,F)=>{(function qa(K){return"display"===K||"position"===K})(F)&&(_=_||new Map,_.set(F,T))}),_}class os{constructor(_,T,F,X){this.element=_,this.keyframes=T,this.options=F,this._specialStyles=X,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=F.duration,this._delay=F.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const T=[];return _.forEach(F=>{T.push(Object.fromEntries(F))}),T}_triggerWebAnimation(_,T,F){return _.animate(this._convertKeyframesToObject(T),F)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((F,X)=>{"offset"!==X&&_.set(X,this._finished?F:cn(this.element,X))}),this.currentSnapshot=_}triggerCallback(_){const T="start"===_?this._onStartFns:this._onDoneFns;T.forEach(F=>F()),T.length=0}}class zs{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,T){return!1}containsElement(_,T){return Br(_,T)}getParentElement(_){return ii(_)}query(_,T,F){return Nn(_,T,F)}computeStyle(_,T,F){return window.getComputedStyle(_)[T]}animate(_,T,F,X,ue,xe=[]){const lt={duration:F,delay:X,fill:0==X?"both":"forwards"};ue&&(lt.easing=ue);const Ct=new Map,gn=xe.filter(H=>H instanceof os);(function Ni(K,_){return 0===K||0===_})(F,X)&&gn.forEach(H=>{H.currentSnapshot.forEach((x,te)=>Ct.set(te,x))});let Pn=function qt(K){return K.length?K[0]instanceof Map?K:K.map(_=>Qe(_)):[]}(T).map(H=>Me(H));Pn=function pr(K,_,T){if(T.size&&_.length){let F=_[0],X=[];if(T.forEach((ue,xe)=>{F.has(xe)||X.push(xe),F.set(xe,ue)}),X.length)for(let ue=1;ue<_.length;ue++){let xe=_[ue];X.forEach(Ve=>xe.set(Ve,cn(K,Ve)))}}return _}(_,Pn,Ct);const P=function no(K,_){let T=null,F=null;return Array.isArray(_)&&_.length?(T=Co(_[0]),_.length>1&&(F=Co(_[_.length-1]))):_ instanceof Map&&(T=Co(_)),T||F?new er(K,T,F):null}(_,Pn);return new os(_,Pn,lt,P)}}let Ri=(()=>{class K extends Re._j{constructor(T,F){super(),this._nextAnimationId=0,this._renderer=T.createRenderer(F.body,{id:"0",encapsulation:se.ifc.None,styles:[],data:{animation:[]}})}build(T){const F=this._nextAnimationId.toString();this._nextAnimationId++;const X=Array.isArray(T)?(0,Re.vP)(T):T;return Zo(this._renderer,null,F,"register",[X]),new ba(F,this._renderer)}}return K.\u0275fac=function(T){return new(T||K)(se.LFG(se.FYo),se.LFG(de.K0))},K.\u0275prov=se.Yz7({token:K,factory:K.\u0275fac}),K})();class ba extends Re.LC{constructor(_,T){super(),this._id=_,this._renderer=T}create(_,T){return new ma(this._id,_,T||{},this._renderer)}}class ma{constructor(_,T,F,X){this.id=_,this.element=T,this._renderer=X,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",F)}_listen(_,T){return this._renderer.listen(this.element,`@@${this.id}:${_}`,T)}_command(_,...T){return Zo(this._renderer,this.element,this.id,_,T)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Zo(K,_,T,F,X){return K.setProperty(_,`@@${T}:${F}`,X)}const mr="@.disabled";let Za=(()=>{class K{constructor(T,F,X){this.delegate=T,this.engine=F,this._zone=X,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),F.onRemovalComplete=(ue,xe)=>{const Ve=xe?.parentNode(ue);Ve&&xe.removeChild(Ve,ue)}}createRenderer(T,F){const ue=this.delegate.createRenderer(T,F);if(!(T&&F&&F.data&&F.data.animation)){let gn=this._rendererCache.get(ue);return gn||(gn=new hs("",ue,this.engine,()=>this._rendererCache.delete(ue)),this._rendererCache.set(ue,gn)),gn}const xe=F.id,Ve=F.id+"-"+this._currentId;this._currentId++,this.engine.register(Ve,T);const lt=gn=>{Array.isArray(gn)?gn.forEach(lt):this.engine.registerTrigger(xe,Ve,T,gn.name,gn)};return F.data.animation.forEach(lt),new Ai(this,Ve,ue,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(T,F,X){T>=0&&T<this._microtaskId?this._zone.run(()=>F(X)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ue=>{const[xe,Ve]=ue;xe(Ve)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([F,X]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return K.\u0275fac=function(T){return new(T||K)(se.LFG(se.FYo),se.LFG(Rs),se.LFG(se.R0b))},K.\u0275prov=se.Yz7({token:K,factory:K.\u0275fac}),K})();class hs{constructor(_,T,F,X){this.namespaceId=_,this.delegate=T,this.engine=F,this._onDestroy=X,this.destroyNode=this.delegate.destroyNode?ue=>T.destroyNode(ue):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(_,T){return this.delegate.createElement(_,T)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,T){this.delegate.appendChild(_,T),this.engine.onInsert(this.namespaceId,T,_,!1)}insertBefore(_,T,F,X=!0){this.delegate.insertBefore(_,T,F),this.engine.onInsert(this.namespaceId,T,_,X)}removeChild(_,T,F){this.engine.onRemove(this.namespaceId,T,this.delegate,F)}selectRootElement(_,T){return this.delegate.selectRootElement(_,T)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,T,F,X){this.delegate.setAttribute(_,T,F,X)}removeAttribute(_,T,F){this.delegate.removeAttribute(_,T,F)}addClass(_,T){this.delegate.addClass(_,T)}removeClass(_,T){this.delegate.removeClass(_,T)}setStyle(_,T,F,X){this.delegate.setStyle(_,T,F,X)}removeStyle(_,T,F){this.delegate.removeStyle(_,T,F)}setProperty(_,T,F){"@"==T.charAt(0)&&T==mr?this.disableAnimations(_,!!F):this.delegate.setProperty(_,T,F)}setValue(_,T){this.delegate.setValue(_,T)}listen(_,T,F){return this.delegate.listen(_,T,F)}disableAnimations(_,T){this.engine.disableAnimations(_,T)}}class Ai extends hs{constructor(_,T,F,X,ue){super(T,F,X,ue),this.factory=_,this.namespaceId=T}setProperty(_,T,F){"@"==T.charAt(0)?"."==T.charAt(1)&&T==mr?this.disableAnimations(_,F=void 0===F||!!F):this.engine.process(this.namespaceId,_,T.slice(1),F):this.delegate.setProperty(_,T,F)}listen(_,T,F){if("@"==T.charAt(0)){const X=function sa(K){switch(K){case"body":return document.body;case"document":return document;case"window":return window;default:return K}}(_);let ue=T.slice(1),xe="";return"@"!=ue.charAt(0)&&([ue,xe]=function ho(K){const _=K.indexOf(".");return[K.substring(0,_),K.slice(_+1)]}(ue)),this.engine.listen(this.namespaceId,X,ue,xe,Ve=>{this.factory.scheduleListenerCallback(Ve._data||-1,F,Ve)})}return this.delegate.listen(_,T,F)}}const Is=[{provide:Re._j,useClass:Ri},{provide:Hr,useFactory:function Ca(){return new rs}},{provide:Rs,useClass:(()=>{class K extends Rs{constructor(T,F,X,ue){super(T.body,F,X)}ngOnDestroy(){this.flush()}}return K.\u0275fac=function(T){return new(T||K)(se.LFG(de.K0),se.LFG(Gt),se.LFG(Hr),se.LFG(se.z2F))},K.\u0275prov=se.Yz7({token:K,factory:K.\u0275fac}),K})()},{provide:se.FYo,useFactory:function $s(K,_,T){return new Za(K,_,T)},deps:[D.se,Rs,se.R0b]}],aa=[{provide:Gt,useFactory:()=>new zs},{provide:se.QbO,useValue:"BrowserAnimations"},...Is],Io=[{provide:Gt,useClass:wt},{provide:se.QbO,useValue:"NoopAnimations"},...Is];let Ui=(()=>{class K{static withConfig(T){return{ngModule:K,providers:T.disableAnimations?Io:aa}}}return K.\u0275fac=function(T){return new(T||K)},K.\u0275mod=se.oAB({type:K}),K.\u0275inj=se.cJS({providers:aa,imports:[D.b2]}),K})();var fo=z(5263),fs=z(3748),ga=z(5698),as=z(8505);const ja=()=>{const K=(0,se.f3M)(fo.F0);return(0,se.f3M)(fs.e).userState$.pipe((0,ga.q)(1),(0,as.b)(T=>!T||K.navigate(["/user/sign-in"])))},Qo=()=>{const K=(0,se.f3M)(fo.F0);return(0,se.f3M)(fs.e).userState$.pipe((0,ga.q)(1),(0,as.b)(T=>!!T||K.navigate(["/user/sign-in"])))},po=[{path:"user/sign-up",canActivate:[ja],loadChildren:()=>Promise.all([z.e(433),z.e(592),z.e(696)]).then(z.bind(z,9696)).then(K=>K.SignUpModule)},{path:"user/sign-in",canActivate:[ja],loadChildren:()=>Promise.all([z.e(433),z.e(592),z.e(719)]).then(z.bind(z,4719)).then(K=>K.SignInModule)},{path:"user/profile",canActivate:[Qo],loadChildren:()=>Promise.all([z.e(727),z.e(736)]).then(z.bind(z,7736)).then(K=>K.ProfileModule)},{path:"user/email-verification",loadChildren:()=>z.e(847).then(z.bind(z,6847)).then(K=>K.EmailVerificationModule)},{path:"user/forgot-password",loadChildren:()=>Promise.all([z.e(433),z.e(592),z.e(973)]).then(z.bind(z,8973)).then(K=>K.ForgotPasswordModule)},{path:"user/dashboard",canActivate:[Qo],loadChildren:()=>Promise.all([z.e(433),z.e(727),z.e(344),z.e(557)]).then(z.bind(z,9557)).then(K=>K.DashboardModule)},{path:"user/conduce",canActivate:[Qo],loadChildren:()=>Promise.all([z.e(433),z.e(727),z.e(344),z.e(497)]).then(z.bind(z,497)).then(K=>K.ConduceModule)},{path:"",redirectTo:"user/profile",pathMatch:"full"},{path:"**",redirectTo:"user/profile",pathMatch:"full"}];let Po=(()=>{var K;class _{}return(K=_).\u0275fac=function(F){return new(F||K)},K.\u0275mod=se.oAB({type:K}),K.\u0275inj=se.cJS({imports:[fo.Bz.forRoot(po),fo.Bz]}),_})();var mo=z(5861);function ps(K,_){1&K&&(se.ynx(0),se.TgZ(1,"a",12),se.O4$(),se.TgZ(2,"svg",13),se._UZ(3,"path",14),se.qZA(),se.kcU(),se.TgZ(4,"p",15),se._uU(5," Profile "),se.qZA()(),se.TgZ(6,"a",16),se.O4$(),se.TgZ(7,"svg",17),se._UZ(8,"path",18),se.qZA(),se.kcU(),se.TgZ(9,"p",15),se._uU(10," Dashboard "),se.qZA()(),se.TgZ(11,"a",19),se.O4$(),se.TgZ(12,"svg",20),se._UZ(13,"path",21)(14,"path",22),se.qZA(),se.kcU(),se.TgZ(15,"p",15),se._uU(16," Conduce "),se.qZA()(),se.BQk())}function la(K,_){if(1&K){const T=se.EpF();se.ynx(0),se.TgZ(1,"p",23),se._uU(2),se.qZA(),se.TgZ(3,"a",24),se.NdJ("click",function(){se.CHM(T);const X=se.oxw();return se.KtG(X.onSignOut())}),se._uU(4," Sign Out "),se.qZA(),se.BQk()}if(2&K){const T=_.ngIf;se.xp6(2),se.hij(" ",T.email," ")}}function Os(K,_){1&K&&(se.TgZ(0,"a",25),se._uU(1," Sign In "),se.qZA(),se.TgZ(2,"a",26),se._uU(3," Sign Up "),se.qZA())}let ko=(()=>{var K;class _{constructor(){this.router=(0,se.f3M)(fo.F0),this.authSvc=(0,se.f3M)(fs.e),this.user$=this.authSvc.userState$}onSignOut(){var F=this;return(0,mo.Z)(function*(){yield F.authSvc.signOut(),F.router.navigate(["/user/sign-in"])})()}}return(K=_).\u0275fac=function(F){return new(F||K)},K.\u0275cmp=se.Xpm({type:K,selectors:[["app-navbar"]],standalone:!0,features:[se.jDz],decls:16,vars:7,consts:[[1,"py-2","navbar","navbar-expand-lg","bg-white","shadow-md","relative","z-50"],[1,"flex","flex-wrap","w-full","px-6"],[1,"space-x-4","flex"],[1,"transition-colors","cursor-default","hover:text-black","flex","justify-center","items-center","px-6","py-2.5","mr-2","font-medium","text-md","rounded"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-bus-front",2,"margin-right","1rem"],["d","M5 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm8 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-6-1a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2H7Zm1-6c-1.876 0-3.426.109-4.552.226A.5.5 0 0 0 3 4.723v3.554a.5.5 0 0 0 .448.497C4.574 8.891 6.124 9 8 9c1.876 0 3.426-.109 4.552-.226A.5.5 0 0 0 13 8.277V4.723a.5.5 0 0 0-.448-.497A44.303 44.303 0 0 0 8 4Zm0-1c-1.837 0-3.353.107-4.448.22a.5.5 0 1 1-.104-.994A44.304 44.304 0 0 1 8 2c1.876 0 3.426.109 4.552.226a.5.5 0 1 1-.104.994A43.306 43.306 0 0 0 8 3Z"],["d","M15 8a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1V2.64c0-1.188-.845-2.232-2.064-2.372A43.61 43.61 0 0 0 8 0C5.9 0 4.208.136 3.064.268 1.845.408 1 1.452 1 2.64V4a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v3.5c0 .818.393 1.544 1 2v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V14h6v1.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2c.607-.456 1-1.182 1-2V8ZM8 1c2.056 0 3.71.134 4.822.261.676.078 1.178.66 1.178 1.379v8.86a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 11.5V2.64c0-.72.502-1.301 1.178-1.379A42.611 42.611 0 0 1 8 1Z"],[1,"font-bold","text-2xl"],[4,"ngIf"],[1,"lg:ml-auto"],[4,"ngIf","ngIfElse"],["showSignInUp",""],["routerLink","/user/profile",1,"transition-colors","hover:bg-gray-100","flex","justify-center","items-center","px-6","py-2.5","mr-2","font-medium","text-md","rounded"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person"],["d","M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"],[1,"font-bold","text-1xl","ml-2"],["routerLink","/user/dashboard",1,"transition-colors","hover:bg-gray-100","flex","justify-center","items-center","px-6","py-2.5","mr-2","font-medium","text-md","rounded"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-table"],["d","M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"],["routerLink","/user/conduce",1,"transition-colors","hover:bg-gray-100","flex","justify-center","items-center","px-6","py-2.5","mr-2","font-medium","text-md","rounded"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-vcard"],["d","M5 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm4-2.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5ZM9 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 9 8Zm1 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Z"],["d","M2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2ZM1 4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H8.96c.026-.163.04-.33.04-.5C9 10.567 7.21 9 5 9c-2.086 0-3.8 1.398-3.984 3.181A1.006 1.006 0 0 1 1 12V4Z"],[1,"text-1xl","inline-block"],[1,"ml-2","transition-colors","hover:bg-gray-300","hover:text-red-500","inline-block","px-6","py-2.5","mr-2","font-medium","text-md","rounded",3,"click"],["routerLink","/user/sign-in",1,"transition-colors","hover:bg-gray-300","inline-block","px-6","py-2.5","mr-2","font-medium","text-md","rounded"],["routerLink","/user/sign-up",1,"bg-blue-600","hover:bg-blue-500","text-white","inline-block","px-6","py-2","5","mr-2","font-medium","text-md","rounded"]],template:function(F,X){if(1&F&&(se.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),se.O4$(),se.TgZ(4,"svg",4),se._UZ(5,"path",5)(6,"path",6),se.qZA(),se.kcU(),se.TgZ(7,"p",7),se._uU(8," VUP-TERMINAL "),se.qZA()(),se.YNc(9,ps,17,0,"ng-container",8),se.ALo(10,"async"),se.qZA(),se.TgZ(11,"div",9),se.YNc(12,la,5,1,"ng-container",10),se.ALo(13,"async"),se.YNc(14,Os,4,0,"ng-template",null,11,se.W1O),se.qZA()()()),2&F){const ue=se.MAs(15);se.xp6(9),se.Q6J("ngIf",se.lcZ(10,3,X.user$)),se.xp6(3),se.Q6J("ngIf",se.lcZ(13,5,X.user$))("ngIfElse",ue)}},dependencies:[de.ez,de.O5,de.Ov,fo.Bz,fo.rH]}),_})(),ya=(()=>{var K;class _{constructor(){this.title="angular-boilerplate"}}return(K=_).\u0275fac=function(F){return new(F||K)},K.\u0275cmp=se.Xpm({type:K,selectors:[["app-root"]],decls:2,vars:0,template:function(F,X){1&F&&se._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[ko,fo.lC]}),_})();var mi=z(3692);const Jo_firebase={projectId:"vup-terminal-app",appId:"1:345022906346:web:db30ffed26083d6a8e3c93",storageBucket:"vup-terminal-app.appspot.com",apiKey:"AIzaSyCbDW-7581AAuA53Ml4biDrZo4Ex-ggAm0",authDomain:"vup-terminal-app.firebaseapp.com",messagingSenderId:"345022906346"};var Ao=z(3441),Yo=z(7573);(0,de.qS)(Ie);let ka=(()=>{var K;class _{}return(K=_).\u0275fac=function(F){return new(F||K)},K.\u0275mod=se.oAB({type:K,bootstrap:[ya]}),K.\u0275inj=se.cJS({providers:[(0,ge.h_)(),{provide:J.u7,useValue:J.iF}],imports:[D.b2,ko,Po,Ui,(0,mi.hX)(()=>(0,mi.ZF)(Jo_firebase)),(0,Ao.AR)(()=>(0,Ao.v0)()),(0,Yo.Cm)(()=>(0,Yo.ad)())]}),_})();D.q6().bootstrapModule(ka).catch(K=>console.error(K))},833:(_n,nt,z)=>{function D(J,de){if(de.length<J)throw new TypeError(J+" argument"+(J>1?"s":"")+" required, but only "+de.length+" present")}z.d(nt,{Z:()=>D})},900:(_n,nt,z)=>{z.d(nt,{Z:()=>Ae});var D=z(86),J=z(833),De=z(953);function Ae(Ie){if((0,J.Z)(1,arguments),!function de(Ie){return(0,J.Z)(1,arguments),Ie instanceof Date||"object"===(0,D.Z)(Ie)&&"[object Date]"===Object.prototype.toString.call(Ie)}(Ie)&&"number"!=typeof Ie)return!1;var ge=(0,De.Z)(Ie);return!isNaN(Number(ge))}},953:(_n,nt,z)=>{z.d(nt,{Z:()=>de});var D=z(86),J=z(833);function de(De){(0,J.Z)(1,arguments);var Ae=Object.prototype.toString.call(De);return De instanceof Date||"object"===(0,D.Z)(De)&&"[object Date]"===Ae?new Date(De.getTime()):"number"==typeof De||"[object Number]"===Ae?new Date(De):(("string"==typeof De||"[object String]"===Ae)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},1135:(_n,nt,z)=>{z.d(nt,{X:()=>J});var D=z(7579);class J extends D.x{constructor(De){super(),this._value=De}get value(){return this.getValue()}_subscribe(De){const Ae=super._subscribe(De);return!Ae.closed&&De.next(this._value),Ae}getValue(){const{hasError:De,thrownError:Ae,_value:Ie}=this;if(De)throw Ae;return this._throwIfClosed(),Ie}next(De){super.next(this._value=De)}}},9751:(_n,nt,z)=>{z.d(nt,{y:()=>se});var D=z(930),J=z(727),de=z(8822),De=z(9635),Ae=z(2416),Ie=z(576),ge=z(2806);let se=(()=>{class Ye{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Ft=new Ye;return Ft.source=this,Ft.operator=Ue,Ft}subscribe(Ue,Ft,Rt){const Pt=function Ee(Ye){return Ye&&Ye instanceof D.Lv||function _e(Ye){return Ye&&(0,Ie.m)(Ye.next)&&(0,Ie.m)(Ye.error)&&(0,Ie.m)(Ye.complete)}(Ye)&&(0,J.Nn)(Ye)}(Ue)?Ue:new D.Hp(Ue,Ft,Rt);return(0,ge.x)(()=>{const{operator:$t,source:Mt}=this;Pt.add($t?$t.call(Pt,Mt):Mt?this._subscribe(Pt):this._trySubscribe(Pt))}),Pt}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Ft){Ue.error(Ft)}}forEach(Ue,Ft){return new(Ft=Re(Ft))((Rt,Pt)=>{const $t=new D.Hp({next:Mt=>{try{Ue(Mt)}catch(un){Pt(un),$t.unsubscribe()}},error:Pt,complete:Rt});this.subscribe($t)})}_subscribe(Ue){var Ft;return null===(Ft=this.source)||void 0===Ft?void 0:Ft.subscribe(Ue)}[de.L](){return this}pipe(...Ue){return(0,De.U)(Ue)(this)}toPromise(Ue){return new(Ue=Re(Ue))((Ft,Rt)=>{let Pt;this.subscribe($t=>Pt=$t,$t=>Rt($t),()=>Ft(Pt))})}}return Ye.create=vt=>new Ye(vt),Ye})();function Re(Ye){var vt;return null!==(vt=Ye??Ae.v.Promise)&&void 0!==vt?vt:Promise}},7579:(_n,nt,z)=>{z.d(nt,{x:()=>ge});var D=z(9751),J=z(727);const De=(0,z(3888).d)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=z(8737),Ie=z(2806);let ge=(()=>{class Re extends D.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ee){const Ye=new se(this,this);return Ye.operator=Ee,Ye}_throwIfClosed(){if(this.closed)throw new De}next(Ee){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ye of this.currentObservers)Ye.next(Ee)}})}error(Ee){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ee;const{observers:Ye}=this;for(;Ye.length;)Ye.shift().error(Ee)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ee;return(null===(Ee=this.observers)||void 0===Ee?void 0:Ee.length)>0}_trySubscribe(Ee){return this._throwIfClosed(),super._trySubscribe(Ee)}_subscribe(Ee){return this._throwIfClosed(),this._checkFinalizedStatuses(Ee),this._innerSubscribe(Ee)}_innerSubscribe(Ee){const{hasError:Ye,isStopped:vt,observers:Ue}=this;return Ye||vt?J.Lc:(this.currentObservers=null,Ue.push(Ee),new J.w0(()=>{this.currentObservers=null,(0,Ae.P)(Ue,Ee)}))}_checkFinalizedStatuses(Ee){const{hasError:Ye,thrownError:vt,isStopped:Ue}=this;Ye?Ee.error(vt):Ue&&Ee.complete()}asObservable(){const Ee=new D.y;return Ee.source=this,Ee}}return Re.create=(_e,Ee)=>new se(_e,Ee),Re})();class se extends ge{constructor(_e,Ee){super(),this.destination=_e,this.source=Ee}next(_e){var Ee,Ye;null===(Ye=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.next)||void 0===Ye||Ye.call(Ee,_e)}error(_e){var Ee,Ye;null===(Ye=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.error)||void 0===Ye||Ye.call(Ee,_e)}complete(){var _e,Ee;null===(Ee=null===(_e=this.destination)||void 0===_e?void 0:_e.complete)||void 0===Ee||Ee.call(_e)}_subscribe(_e){var Ee,Ye;return null!==(Ye=null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(_e))&&void 0!==Ye?Ye:J.Lc}}},930:(_n,nt,z)=>{z.d(nt,{Hp:()=>Rt,Lv:()=>Ye});var D=z(576),J=z(727),de=z(2416),De=z(7849),Ae=z(5032);const Ie=Re("C",void 0,void 0);function Re(_t,We,at){return{kind:_t,value:We,error:at}}var _e=z(3410),Ee=z(2806);class Ye extends J.w0{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,J.Nn)(We)&&We.add(this)):this.destination=un}static create(We,at,xt){return new Rt(We,at,xt)}next(We){this.isStopped?Mt(function se(_t){return Re("N",_t,void 0)}(We),this):this._next(We)}error(We){this.isStopped?Mt(function ge(_t){return Re("E",void 0,_t)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?Mt(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const vt=Function.prototype.bind;function Ue(_t,We){return vt.call(_t,We)}class Ft{constructor(We){this.partialObserver=We}next(We){const{partialObserver:at}=this;if(at.next)try{at.next(We)}catch(xt){Pt(xt)}}error(We){const{partialObserver:at}=this;if(at.error)try{at.error(We)}catch(xt){Pt(xt)}else Pt(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(at){Pt(at)}}}class Rt extends Ye{constructor(We,at,xt){let pn;if(super(),(0,D.m)(We)||!We)pn={next:We??void 0,error:at??void 0,complete:xt??void 0};else{let st;this&&de.v.useDeprecatedNextContext?(st=Object.create(We),st.unsubscribe=()=>this.unsubscribe(),pn={next:We.next&&Ue(We.next,st),error:We.error&&Ue(We.error,st),complete:We.complete&&Ue(We.complete,st)}):pn=We}this.destination=new Ft(pn)}}function Pt(_t){de.v.useDeprecatedSynchronousErrorHandling?(0,Ee.O)(_t):(0,De.h)(_t)}function Mt(_t,We){const{onStoppedNotification:at}=de.v;at&&_e.z.setTimeout(()=>at(_t,We))}const un={closed:!0,next:Ae.Z,error:function $t(_t){throw _t},complete:Ae.Z}},727:(_n,nt,z)=>{z.d(nt,{Lc:()=>Ie,w0:()=>Ae,Nn:()=>ge});var D=z(576);const de=(0,z(3888).d)(Re=>function(Ee){Re(this),this.message=Ee?`${Ee.length} errors occurred during unsubscription:\n${Ee.map((Ye,vt)=>`${vt+1}) ${Ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ee});var De=z(8737);class Ae{constructor(_e){this.initialTeardown=_e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _e;if(!this.closed){this.closed=!0;const{_parentage:Ee}=this;if(Ee)if(this._parentage=null,Array.isArray(Ee))for(const Ue of Ee)Ue.remove(this);else Ee.remove(this);const{initialTeardown:Ye}=this;if((0,D.m)(Ye))try{Ye()}catch(Ue){_e=Ue instanceof de?Ue.errors:[Ue]}const{_finalizers:vt}=this;if(vt){this._finalizers=null;for(const Ue of vt)try{se(Ue)}catch(Ft){_e=_e??[],Ft instanceof de?_e=[..._e,...Ft.errors]:_e.push(Ft)}}if(_e)throw new de(_e)}}add(_e){var Ee;if(_e&&_e!==this)if(this.closed)se(_e);else{if(_e instanceof Ae){if(_e.closed||_e._hasParent(this))return;_e._addParent(this)}(this._finalizers=null!==(Ee=this._finalizers)&&void 0!==Ee?Ee:[]).push(_e)}}_hasParent(_e){const{_parentage:Ee}=this;return Ee===_e||Array.isArray(Ee)&&Ee.includes(_e)}_addParent(_e){const{_parentage:Ee}=this;this._parentage=Array.isArray(Ee)?(Ee.push(_e),Ee):Ee?[Ee,_e]:_e}_removeParent(_e){const{_parentage:Ee}=this;Ee===_e?this._parentage=null:Array.isArray(Ee)&&(0,De.P)(Ee,_e)}remove(_e){const{_finalizers:Ee}=this;Ee&&(0,De.P)(Ee,_e),_e instanceof Ae&&_e._removeParent(this)}}Ae.EMPTY=(()=>{const Re=new Ae;return Re.closed=!0,Re})();const Ie=Ae.EMPTY;function ge(Re){return Re instanceof Ae||Re&&"closed"in Re&&(0,D.m)(Re.remove)&&(0,D.m)(Re.add)&&(0,D.m)(Re.unsubscribe)}function se(Re){(0,D.m)(Re)?Re():Re.unsubscribe()}},2416:(_n,nt,z)=>{z.d(nt,{v:()=>D});const D={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(_n,nt,z)=>{z.d(nt,{c:()=>Ie});var D=z(9751),J=z(727),de=z(8343),De=z(5403),Ae=z(4482);class Ie extends D.y{constructor(se,Re){super(),this.source=se,this.subjectFactory=Re,this._subject=null,this._refCount=0,this._connection=null,(0,Ae.A)(se)&&(this.lift=se.lift)}_subscribe(se){return this.getSubject().subscribe(se)}getSubject(){const se=this._subject;return(!se||se.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:se}=this;this._subject=this._connection=null,se?.unsubscribe()}connect(){let se=this._connection;if(!se){se=this._connection=new J.w0;const Re=this.getSubject();se.add(this.source.subscribe((0,De.x)(Re,void 0,()=>{this._teardown(),Re.complete()},_e=>{this._teardown(),Re.error(_e)},()=>this._teardown()))),se.closed&&(this._connection=null,se=J.w0.EMPTY)}return se}refCount(){return(0,de.x)()(this)}}},9841:(_n,nt,z)=>{z.d(nt,{a:()=>_e});var D=z(9751),J=z(4742),de=z(8996),De=z(4671),Ae=z(3268),Ie=z(3269),ge=z(1810),se=z(5403),Re=z(9672);function _e(...vt){const Ue=(0,Ie.yG)(vt),Ft=(0,Ie.jO)(vt),{args:Rt,keys:Pt}=(0,J.D)(vt);if(0===Rt.length)return(0,de.D)([],Ue);const $t=new D.y(function Ee(vt,Ue,Ft=De.y){return Rt=>{Ye(Ue,()=>{const{length:Pt}=vt,$t=new Array(Pt);let Mt=Pt,un=Pt;for(let _t=0;_t<Pt;_t++)Ye(Ue,()=>{const We=(0,de.D)(vt[_t],Ue);let at=!1;We.subscribe((0,se.x)(Rt,xt=>{$t[_t]=xt,at||(at=!0,un--),un||Rt.next(Ft($t.slice()))},()=>{--Mt||Rt.complete()}))},Rt)},Rt)}}(Rt,Ue,Pt?Mt=>(0,ge.n)(Pt,Mt):De.y));return Ft?$t.pipe((0,Ae.Z)(Ft)):$t}function Ye(vt,Ue,Ft){vt?(0,Re.f)(Ft,vt,Ue):Ue()}},7272:(_n,nt,z)=>{z.d(nt,{z:()=>Ae});var D=z(8189),de=z(3269),De=z(8996);function Ae(...Ie){return function J(){return(0,D.J)(1)}()((0,De.D)(Ie,(0,de.yG)(Ie)))}},515:(_n,nt,z)=>{z.d(nt,{E:()=>J});const J=new(z(9751).y)(Ae=>Ae.complete())},8996:(_n,nt,z)=>{z.d(nt,{D:()=>We});var D=z(8421),J=z(5363),de=z(9468),Ie=z(9751),se=z(2202),Re=z(576),_e=z(9672);function Ye(at,xt){if(!at)throw new Error("Iterable cannot be null");return new Ie.y(pn=>{(0,_e.f)(pn,xt,()=>{const st=at[Symbol.asyncIterator]();(0,_e.f)(pn,xt,()=>{st.next().then(Et=>{Et.done?pn.complete():pn.next(Et.value)})},0,!0)})})}var vt=z(3670),Ue=z(8239),Ft=z(1144),Rt=z(6495),Pt=z(2206),$t=z(4532),Mt=z(3260);function We(at,xt){return xt?function _t(at,xt){if(null!=at){if((0,vt.c)(at))return function De(at,xt){return(0,D.Xf)(at).pipe((0,de.R)(xt),(0,J.Q)(xt))}(at,xt);if((0,Ft.z)(at))return function ge(at,xt){return new Ie.y(pn=>{let st=0;return xt.schedule(function(){st===at.length?pn.complete():(pn.next(at[st++]),pn.closed||this.schedule())})})}(at,xt);if((0,Ue.t)(at))return function Ae(at,xt){return(0,D.Xf)(at).pipe((0,de.R)(xt),(0,J.Q)(xt))}(at,xt);if((0,Pt.D)(at))return Ye(at,xt);if((0,Rt.T)(at))return function Ee(at,xt){return new Ie.y(pn=>{let st;return(0,_e.f)(pn,xt,()=>{st=at[se.h](),(0,_e.f)(pn,xt,()=>{let Et,yn;try{({value:Et,done:yn}=st.next())}catch(ln){return void pn.error(ln)}yn?pn.complete():pn.next(Et)},0,!0)}),()=>(0,Re.m)(st?.return)&&st.return()})}(at,xt);if((0,Mt.L)(at))return function un(at,xt){return Ye((0,Mt.Q)(at),xt)}(at,xt)}throw(0,$t.z)(at)}(at,xt):(0,D.Xf)(at)}},8421:(_n,nt,z)=>{z.d(nt,{Xf:()=>vt});var D=z(7582),J=z(1144),de=z(8239),De=z(9751),Ae=z(3670),Ie=z(2206),ge=z(4532),se=z(6495),Re=z(3260),_e=z(576),Ee=z(7849),Ye=z(8822);function vt(_t){if(_t instanceof De.y)return _t;if(null!=_t){if((0,Ae.c)(_t))return function Ue(_t){return new De.y(We=>{const at=_t[Ye.L]();if((0,_e.m)(at.subscribe))return at.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_t);if((0,J.z)(_t))return function Ft(_t){return new De.y(We=>{for(let at=0;at<_t.length&&!We.closed;at++)We.next(_t[at]);We.complete()})}(_t);if((0,de.t)(_t))return function Rt(_t){return new De.y(We=>{_t.then(at=>{We.closed||(We.next(at),We.complete())},at=>We.error(at)).then(null,Ee.h)})}(_t);if((0,Ie.D)(_t))return $t(_t);if((0,se.T)(_t))return function Pt(_t){return new De.y(We=>{for(const at of _t)if(We.next(at),We.closed)return;We.complete()})}(_t);if((0,Re.L)(_t))return function Mt(_t){return $t((0,Re.Q)(_t))}(_t)}throw(0,ge.z)(_t)}function $t(_t){return new De.y(We=>{(function un(_t,We){var at,xt,pn,st;return(0,D.mG)(this,void 0,void 0,function*(){try{for(at=(0,D.KL)(_t);!(xt=yield at.next()).done;)if(We.next(xt.value),We.closed)return}catch(Et){pn={error:Et}}finally{try{xt&&!xt.done&&(st=at.return)&&(yield st.call(at))}finally{if(pn)throw pn.error}}We.complete()})})(_t,We).catch(at=>We.error(at))})}},6451:(_n,nt,z)=>{z.d(nt,{T:()=>Ie});var D=z(8189),J=z(8421),de=z(515),De=z(3269),Ae=z(8996);function Ie(...ge){const se=(0,De.yG)(ge),Re=(0,De._6)(ge,1/0),_e=ge;return _e.length?1===_e.length?(0,J.Xf)(_e[0]):(0,D.J)(Re)((0,Ae.D)(_e,se)):de.E}},9646:(_n,nt,z)=>{z.d(nt,{of:()=>de});var D=z(3269),J=z(8996);function de(...De){const Ae=(0,D.yG)(De);return(0,J.D)(De,Ae)}},5403:(_n,nt,z)=>{z.d(nt,{x:()=>J});var D=z(930);function J(De,Ae,Ie,ge,se){return new de(De,Ae,Ie,ge,se)}class de extends D.Lv{constructor(Ae,Ie,ge,se,Re,_e){super(Ae),this.onFinalize=Re,this.shouldUnsubscribe=_e,this._next=Ie?function(Ee){try{Ie(Ee)}catch(Ye){Ae.error(Ye)}}:super._next,this._error=se?function(Ee){try{se(Ee)}catch(Ye){Ae.error(Ye)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(Ee){Ae.error(Ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}}},262:(_n,nt,z)=>{z.d(nt,{K:()=>De});var D=z(8421),J=z(5403),de=z(4482);function De(Ae){return(0,de.e)((Ie,ge)=>{let _e,se=null,Re=!1;se=Ie.subscribe((0,J.x)(ge,void 0,void 0,Ee=>{_e=(0,D.Xf)(Ae(Ee,De(Ae)(Ie))),se?(se.unsubscribe(),se=null,_e.subscribe(ge)):Re=!0})),Re&&(se.unsubscribe(),se=null,_e.subscribe(ge))})}},4351:(_n,nt,z)=>{z.d(nt,{b:()=>de});var D=z(5577),J=z(576);function de(De,Ae){return(0,J.m)(Ae)?(0,D.z)(De,Ae,1):(0,D.z)(De,1)}},9300:(_n,nt,z)=>{z.d(nt,{h:()=>de});var D=z(4482),J=z(5403);function de(De,Ae){return(0,D.e)((Ie,ge)=>{let se=0;Ie.subscribe((0,J.x)(ge,Re=>De.call(Ae,Re,se++)&&ge.next(Re)))})}},8746:(_n,nt,z)=>{z.d(nt,{x:()=>J});var D=z(4482);function J(de){return(0,D.e)((De,Ae)=>{try{De.subscribe(Ae)}finally{Ae.add(de)}})}},4004:(_n,nt,z)=>{z.d(nt,{U:()=>de});var D=z(4482),J=z(5403);function de(De,Ae){return(0,D.e)((Ie,ge)=>{let se=0;Ie.subscribe((0,J.x)(ge,Re=>{ge.next(De.call(Ae,Re,se++))}))})}},9718:(_n,nt,z)=>{z.d(nt,{h:()=>J});var D=z(4004);function J(de){return(0,D.U)(()=>de)}},8189:(_n,nt,z)=>{z.d(nt,{J:()=>de});var D=z(5577),J=z(4671);function de(De=1/0){return(0,D.z)(J.y,De)}},5577:(_n,nt,z)=>{z.d(nt,{z:()=>se});var D=z(4004),J=z(8421),de=z(4482),De=z(9672),Ae=z(5403),ge=z(576);function se(Re,_e,Ee=1/0){return(0,ge.m)(_e)?se((Ye,vt)=>(0,D.U)((Ue,Ft)=>_e(Ye,Ue,vt,Ft))((0,J.Xf)(Re(Ye,vt))),Ee):("number"==typeof _e&&(Ee=_e),(0,de.e)((Ye,vt)=>function Ie(Re,_e,Ee,Ye,vt,Ue,Ft,Rt){const Pt=[];let $t=0,Mt=0,un=!1;const _t=()=>{un&&!Pt.length&&!$t&&_e.complete()},We=xt=>$t<Ye?at(xt):Pt.push(xt),at=xt=>{Ue&&_e.next(xt),$t++;let pn=!1;(0,J.Xf)(Ee(xt,Mt++)).subscribe((0,Ae.x)(_e,st=>{vt?.(st),Ue?We(st):_e.next(st)},()=>{pn=!0},void 0,()=>{if(pn)try{for($t--;Pt.length&&$t<Ye;){const st=Pt.shift();Ft?(0,De.f)(_e,Ft,()=>at(st)):at(st)}_t()}catch(st){_e.error(st)}}))};return Re.subscribe((0,Ae.x)(_e,We,()=>{un=!0,_t()})),()=>{Rt?.()}}(Ye,vt,Re,Ee)))}},5363:(_n,nt,z)=>{z.d(nt,{Q:()=>De});var D=z(9672),J=z(4482),de=z(5403);function De(Ae,Ie=0){return(0,J.e)((ge,se)=>{ge.subscribe((0,de.x)(se,Re=>(0,D.f)(se,Ae,()=>se.next(Re),Ie),()=>(0,D.f)(se,Ae,()=>se.complete(),Ie),Re=>(0,D.f)(se,Ae,()=>se.error(Re),Ie)))})}},8343:(_n,nt,z)=>{z.d(nt,{x:()=>de});var D=z(4482),J=z(5403);function de(){return(0,D.e)((De,Ae)=>{let Ie=null;De._refCount++;const ge=(0,J.x)(Ae,void 0,void 0,void 0,()=>{if(!De||De._refCount<=0||0<--De._refCount)return void(Ie=null);const se=De._connection,Re=Ie;Ie=null,se&&(!Re||se===Re)&&se.unsubscribe(),Ae.unsubscribe()});De.subscribe(ge),ge.closed||(Ie=De.connect())})}},3099:(_n,nt,z)=>{z.d(nt,{B:()=>Ae});var D=z(8421),J=z(7579),de=z(930),De=z(4482);function Ae(ge={}){const{connector:se=(()=>new J.x),resetOnError:Re=!0,resetOnComplete:_e=!0,resetOnRefCountZero:Ee=!0}=ge;return Ye=>{let vt,Ue,Ft,Rt=0,Pt=!1,$t=!1;const Mt=()=>{Ue?.unsubscribe(),Ue=void 0},un=()=>{Mt(),vt=Ft=void 0,Pt=$t=!1},_t=()=>{const We=vt;un(),We?.unsubscribe()};return(0,De.e)((We,at)=>{Rt++,!$t&&!Pt&&Mt();const xt=Ft=Ft??se();at.add(()=>{Rt--,0===Rt&&!$t&&!Pt&&(Ue=Ie(_t,Ee))}),xt.subscribe(at),!vt&&Rt>0&&(vt=new de.Hp({next:pn=>xt.next(pn),error:pn=>{$t=!0,Mt(),Ue=Ie(un,Re,pn),xt.error(pn)},complete:()=>{Pt=!0,Mt(),Ue=Ie(un,_e),xt.complete()}}),(0,D.Xf)(We).subscribe(vt))})(Ye)}}function Ie(ge,se,...Re){if(!0===se)return void ge();if(!1===se)return;const _e=new de.Hp({next:()=>{_e.unsubscribe(),ge()}});return se(...Re).subscribe(_e)}},8675:(_n,nt,z)=>{z.d(nt,{O:()=>De});var D=z(7272),J=z(3269),de=z(4482);function De(...Ae){const Ie=(0,J.yG)(Ae);return(0,de.e)((ge,se)=>{(Ie?(0,D.z)(Ae,ge,Ie):(0,D.z)(Ae,ge)).subscribe(se)})}},9468:(_n,nt,z)=>{z.d(nt,{R:()=>J});var D=z(4482);function J(de,De=0){return(0,D.e)((Ae,Ie)=>{Ie.add(de.schedule(()=>Ae.subscribe(Ie),De))})}},3900:(_n,nt,z)=>{z.d(nt,{w:()=>De});var D=z(8421),J=z(4482),de=z(5403);function De(Ae,Ie){return(0,J.e)((ge,se)=>{let Re=null,_e=0,Ee=!1;const Ye=()=>Ee&&!Re&&se.complete();ge.subscribe((0,de.x)(se,vt=>{Re?.unsubscribe();let Ue=0;const Ft=_e++;(0,D.Xf)(Ae(vt,Ft)).subscribe(Re=(0,de.x)(se,Rt=>se.next(Ie?Ie(vt,Rt,Ft,Ue++):Rt),()=>{Re=null,Ye()}))},()=>{Ee=!0,Ye()}))})}},5698:(_n,nt,z)=>{z.d(nt,{q:()=>De});var D=z(515),J=z(4482),de=z(5403);function De(Ae){return Ae<=0?()=>D.E:(0,J.e)((Ie,ge)=>{let se=0;Ie.subscribe((0,de.x)(ge,Re=>{++se<=Ae&&(ge.next(Re),Ae<=se&&ge.complete())}))})}},2529:(_n,nt,z)=>{z.d(nt,{o:()=>de});var D=z(4482),J=z(5403);function de(De,Ae=!1){return(0,D.e)((Ie,ge)=>{let se=0;Ie.subscribe((0,J.x)(ge,Re=>{const _e=De(Re,se++);(_e||Ae)&&ge.next(Re),!_e&&ge.complete()}))})}},8505:(_n,nt,z)=>{z.d(nt,{b:()=>Ae});var D=z(576),J=z(4482),de=z(5403),De=z(4671);function Ae(Ie,ge,se){const Re=(0,D.m)(Ie)||ge||se?{next:Ie,error:ge,complete:se}:Ie;return Re?(0,J.e)((_e,Ee)=>{var Ye;null===(Ye=Re.subscribe)||void 0===Ye||Ye.call(Re);let vt=!0;_e.subscribe((0,de.x)(Ee,Ue=>{var Ft;null===(Ft=Re.next)||void 0===Ft||Ft.call(Re,Ue),Ee.next(Ue)},()=>{var Ue;vt=!1,null===(Ue=Re.complete)||void 0===Ue||Ue.call(Re),Ee.complete()},Ue=>{var Ft;vt=!1,null===(Ft=Re.error)||void 0===Ft||Ft.call(Re,Ue),Ee.error(Ue)},()=>{var Ue,Ft;vt&&(null===(Ue=Re.unsubscribe)||void 0===Ue||Ue.call(Re)),null===(Ft=Re.finalize)||void 0===Ft||Ft.call(Re)}))}):De.y}},4408:(_n,nt,z)=>{z.d(nt,{o:()=>Ae});var D=z(727);class J extends D.w0{constructor(ge,se){super()}schedule(ge,se=0){return this}}const de={setInterval(Ie,ge,...se){const{delegate:Re}=de;return Re?.setInterval?Re.setInterval(Ie,ge,...se):setInterval(Ie,ge,...se)},clearInterval(Ie){const{delegate:ge}=de;return(ge?.clearInterval||clearInterval)(Ie)},delegate:void 0};var De=z(8737);class Ae extends J{constructor(ge,se){super(ge,se),this.scheduler=ge,this.work=se,this.pending=!1}schedule(ge,se=0){var Re;if(this.closed)return this;this.state=ge;const _e=this.id,Ee=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(Ee,_e,se)),this.pending=!0,this.delay=se,this.id=null!==(Re=this.id)&&void 0!==Re?Re:this.requestAsyncId(Ee,this.id,se),this}requestAsyncId(ge,se,Re=0){return de.setInterval(ge.flush.bind(ge,this),Re)}recycleAsyncId(ge,se,Re=0){if(null!=Re&&this.delay===Re&&!1===this.pending)return se;null!=se&&de.clearInterval(se)}execute(ge,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Re=this._execute(ge,se);if(Re)return Re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,se){let _e,Re=!1;try{this.work(ge)}catch(Ee){Re=!0,_e=Ee||new Error("Scheduled action threw falsy error")}if(Re)return this.unsubscribe(),_e}unsubscribe(){if(!this.closed){const{id:ge,scheduler:se}=this,{actions:Re}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,De.P)(Re,this),null!=ge&&(this.id=this.recycleAsyncId(se,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(_n,nt,z)=>{z.d(nt,{v:()=>de});var D=z(6063);class J{constructor(Ae,Ie=J.now){this.schedulerActionCtor=Ae,this.now=Ie}schedule(Ae,Ie=0,ge){return new this.schedulerActionCtor(this,Ae).schedule(ge,Ie)}}J.now=D.l.now;class de extends J{constructor(Ae,Ie=J.now){super(Ae,Ie),this.actions=[],this._active=!1}flush(Ae){const{actions:Ie}=this;if(this._active)return void Ie.push(Ae);let ge;this._active=!0;do{if(ge=Ae.execute(Ae.state,Ae.delay))break}while(Ae=Ie.shift());if(this._active=!1,ge){for(;Ae=Ie.shift();)Ae.unsubscribe();throw ge}}}},4986:(_n,nt,z)=>{z.d(nt,{P:()=>De,z:()=>de});var D=z(4408);const de=new(z(7565).v)(D.o),De=de},6063:(_n,nt,z)=>{z.d(nt,{l:()=>D});const D={now:()=>(D.delegate||Date).now(),delegate:void 0}},3410:(_n,nt,z)=>{z.d(nt,{z:()=>D});const D={setTimeout(J,de,...De){const{delegate:Ae}=D;return Ae?.setTimeout?Ae.setTimeout(J,de,...De):setTimeout(J,de,...De)},clearTimeout(J){const{delegate:de}=D;return(de?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(_n,nt,z)=>{z.d(nt,{h:()=>J});const J=function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_n,nt,z)=>{z.d(nt,{L:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(_n,nt,z)=>{z.d(nt,{_6:()=>Ie,jO:()=>De,yG:()=>Ae});var D=z(576),J=z(3532);function de(ge){return ge[ge.length-1]}function De(ge){return(0,D.m)(de(ge))?ge.pop():void 0}function Ae(ge){return(0,J.K)(de(ge))?ge.pop():void 0}function Ie(ge,se){return"number"==typeof de(ge)?ge.pop():se}},4742:(_n,nt,z)=>{z.d(nt,{D:()=>Ae});const{isArray:D}=Array,{getPrototypeOf:J,prototype:de,keys:De}=Object;function Ae(ge){if(1===ge.length){const se=ge[0];if(D(se))return{args:se,keys:null};if(function Ie(ge){return ge&&"object"==typeof ge&&J(ge)===de}(se)){const Re=De(se);return{args:Re.map(_e=>se[_e]),keys:Re}}}return{args:ge,keys:null}}},8737:(_n,nt,z)=>{function D(J,de){if(J){const De=J.indexOf(de);0<=De&&J.splice(De,1)}}z.d(nt,{P:()=>D})},3888:(_n,nt,z)=>{function D(J){const De=J(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}z.d(nt,{d:()=>D})},1810:(_n,nt,z)=>{function D(J,de){return J.reduce((De,Ae,Ie)=>(De[Ae]=de[Ie],De),{})}z.d(nt,{n:()=>D})},2806:(_n,nt,z)=>{z.d(nt,{O:()=>De,x:()=>de});var D=z(2416);let J=null;function de(Ae){if(D.v.useDeprecatedSynchronousErrorHandling){const Ie=!J;if(Ie&&(J={errorThrown:!1,error:null}),Ae(),Ie){const{errorThrown:ge,error:se}=J;if(J=null,ge)throw se}}else Ae()}function De(Ae){D.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=Ae)}},9672:(_n,nt,z)=>{function D(J,de,De,Ae=0,Ie=!1){const ge=de.schedule(function(){De(),Ie?J.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(J.add(ge),!Ie)return ge}z.d(nt,{f:()=>D})},4671:(_n,nt,z)=>{function D(J){return J}z.d(nt,{y:()=>D})},1144:(_n,nt,z)=>{z.d(nt,{z:()=>D});const D=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(_n,nt,z)=>{z.d(nt,{D:()=>J});var D=z(576);function J(de){return Symbol.asyncIterator&&(0,D.m)(de?.[Symbol.asyncIterator])}},576:(_n,nt,z)=>{function D(J){return"function"==typeof J}z.d(nt,{m:()=>D})},3670:(_n,nt,z)=>{z.d(nt,{c:()=>de});var D=z(8822),J=z(576);function de(De){return(0,J.m)(De[D.L])}},6495:(_n,nt,z)=>{z.d(nt,{T:()=>de});var D=z(2202),J=z(576);function de(De){return(0,J.m)(De?.[D.h])}},8239:(_n,nt,z)=>{z.d(nt,{t:()=>J});var D=z(576);function J(de){return(0,D.m)(de?.then)}},3260:(_n,nt,z)=>{z.d(nt,{L:()=>De,Q:()=>de});var D=z(7582),J=z(576);function de(Ae){return(0,D.FC)(this,arguments,function*(){const ge=Ae.getReader();try{for(;;){const{value:se,done:Re}=yield(0,D.qq)(ge.read());if(Re)return yield(0,D.qq)(void 0);yield yield(0,D.qq)(se)}}finally{ge.releaseLock()}})}function De(Ae){return(0,J.m)(Ae?.getReader)}},3532:(_n,nt,z)=>{z.d(nt,{K:()=>J});var D=z(576);function J(de){return de&&(0,D.m)(de.schedule)}},4482:(_n,nt,z)=>{z.d(nt,{A:()=>J,e:()=>de});var D=z(576);function J(De){return(0,D.m)(De?.lift)}function de(De){return Ae=>{if(J(Ae))return Ae.lift(function(Ie){try{return De(Ie,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(_n,nt,z)=>{z.d(nt,{Z:()=>De});var D=z(4004);const{isArray:J}=Array;function De(Ae){return(0,D.U)(Ie=>function de(Ae,Ie){return J(Ie)?Ae(...Ie):Ae(Ie)}(Ae,Ie))}},5032:(_n,nt,z)=>{function D(){}z.d(nt,{Z:()=>D})},9635:(_n,nt,z)=>{z.d(nt,{U:()=>de,z:()=>J});var D=z(4671);function J(...De){return de(De)}function de(De){return 0===De.length?D.y:1===De.length?De[0]:function(Ie){return De.reduce((ge,se)=>se(ge),Ie)}}},7849:(_n,nt,z)=>{z.d(nt,{h:()=>de});var D=z(2416),J=z(3410);function de(De){J.z.setTimeout(()=>{const{onUnhandledError:Ae}=D.v;if(!Ae)throw De;Ae(De)})}},4532:(_n,nt,z)=>{function D(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(nt,{z:()=>D})},7340:(_n,nt,z)=>{z.d(nt,{EY:()=>Rt,IO:()=>Ft,LC:()=>J,SB:()=>Re,X$:()=>De,ZE:()=>Mt,ZN:()=>$t,_j:()=>D,eR:()=>Ee,jt:()=>Ae,k1:()=>un,l3:()=>de,oB:()=>se,vP:()=>ge});class D{}class J{}const de="*";function De(_t,We){return{type:7,name:_t,definitions:We,options:{}}}function Ae(_t,We=null){return{type:4,styles:We,timings:_t}}function ge(_t,We=null){return{type:2,steps:_t,options:We}}function se(_t){return{type:6,styles:_t,offset:null}}function Re(_t,We,at){return{type:0,name:_t,styles:We,options:at}}function Ee(_t,We,at=null){return{type:1,expr:_t,animation:We,options:at}}function Ft(_t,We,at=null){return{type:11,selector:_t,animation:We,options:at}}function Rt(_t,We){return{type:12,timings:_t,animation:We}}function Pt(_t){Promise.resolve().then(_t)}class $t{constructor(We=0,at=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=We+at}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(We=>We()),this._onDoneFns=[])}onStart(We){this._originalOnStartFns.push(We),this._onStartFns.push(We)}onDone(We){this._originalOnDoneFns.push(We),this._onDoneFns.push(We)}onDestroy(We){this._onDestroyFns.push(We)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Pt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(We=>We()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(We=>We()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(We){this._position=this.totalTime?We*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(We){const at="start"==We?this._onStartFns:this._onDoneFns;at.forEach(xt=>xt()),at.length=0}}class Mt{constructor(We){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=We;let at=0,xt=0,pn=0;const st=this.players.length;0==st?Pt(()=>this._onFinish()):this.players.forEach(Et=>{Et.onDone(()=>{++at==st&&this._onFinish()}),Et.onDestroy(()=>{++xt==st&&this._onDestroy()}),Et.onStart(()=>{++pn==st&&this._onStart()})}),this.totalTime=this.players.reduce((Et,yn)=>Math.max(Et,yn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(We=>We()),this._onDoneFns=[])}init(){this.players.forEach(We=>We.init())}onStart(We){this._onStartFns.push(We)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(We=>We()),this._onStartFns=[])}onDone(We){this._onDoneFns.push(We)}onDestroy(We){this._onDestroyFns.push(We)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(We=>We.play())}pause(){this.players.forEach(We=>We.pause())}restart(){this.players.forEach(We=>We.restart())}finish(){this._onFinish(),this.players.forEach(We=>We.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(We=>We.destroy()),this._onDestroyFns.forEach(We=>We()),this._onDestroyFns=[])}reset(){this.players.forEach(We=>We.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(We){const at=We*this.totalTime;this.players.forEach(xt=>{const pn=xt.totalTime?Math.min(1,at/xt.totalTime):1;xt.setPosition(pn)})}getPosition(){const We=this.players.reduce((at,xt)=>null===at||xt.totalTime>at.totalTime?xt:at,null);return null!=We?We.getPosition():0}beforeDestroy(){this.players.forEach(We=>{We.beforeDestroy&&We.beforeDestroy()})}triggerCallback(We){const at="start"==We?this._onStartFns:this._onDoneFns;at.forEach(xt=>xt()),at.length=0}}const un="!"},1281:(_n,nt,z)=>{z.d(nt,{Eq:()=>Ae,HM:()=>Ie,Ig:()=>J,fI:()=>ge,su:()=>de,t6:()=>De});var D=z(4650);function J(Re){return null!=Re&&"false"!=`${Re}`}function de(Re,_e=0){return De(Re)?Number(Re):_e}function De(Re){return!isNaN(parseFloat(Re))&&!isNaN(Number(Re))}function Ae(Re){return Array.isArray(Re)?Re:[Re]}function Ie(Re){return null==Re?"":"string"==typeof Re?Re:`${Re}px`}function ge(Re){return Re instanceof D.SBq?Re.nativeElement:Re}},6895:(_n,nt,z)=>{z.d(nt,{Do:()=>Mt,ED:()=>yr,EM:()=>Ts,HT:()=>De,JF:()=>na,JJ:()=>Ps,K0:()=>Ie,Mx:()=>Wo,NF:()=>ta,O5:()=>Be,Ov:()=>To,PC:()=>br,RF:()=>bn,S$:()=>Rt,Tn:()=>ln,V_:()=>Re,Ye:()=>un,b0:()=>$t,bD:()=>Ya,ez:()=>qo,mk:()=>Ln,n9:()=>cr,ol:()=>ir,p6:()=>ei,q:()=>de,qS:()=>Go,sg:()=>on,tP:()=>Wr,w_:()=>Ae,x:()=>yn});var D=z(4650);let J=null;function de(){return J}function De(P){J||(J=P)}class Ae{}const Ie=new D.OlP("DocumentToken");let ge=(()=>{class P{historyGo(x){throw new Error("Not implemented")}}return P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=D.Yz7({token:P,factory:function(){return function se(){return(0,D.LFG)(_e)}()},providedIn:"platform"}),P})();const Re=new D.OlP("Location Initialized");let _e=(()=>{class P extends ge{constructor(x){super(),this._doc=x,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return de().getBaseHref(this._doc)}onPopState(x){const te=de().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",x,!1),()=>te.removeEventListener("popstate",x)}onHashChange(x){const te=de().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",x,!1),()=>te.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,te,Te){Ee()?this._history.pushState(x,te,Te):this._location.hash=Te}replaceState(x,te,Te){Ee()?this._history.replaceState(x,te,Te):this._location.hash=Te}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return P.\u0275fac=function(x){return new(x||P)(D.LFG(Ie))},P.\u0275prov=D.Yz7({token:P,factory:function(){return function Ye(){return new _e((0,D.LFG)(Ie))}()},providedIn:"platform"}),P})();function Ee(){return!!window.history.pushState}function vt(P,H){if(0==P.length)return H;if(0==H.length)return P;let x=0;return P.endsWith("/")&&x++,H.startsWith("/")&&x++,2==x?P+H.substring(1):1==x?P+H:P+"/"+H}function Ue(P){const H=P.match(/#|\?|$/),x=H&&H.index||P.length;return P.slice(0,x-("/"===P[x-1]?1:0))+P.slice(x)}function Ft(P){return P&&"?"!==P[0]?"?"+P:P}let Rt=(()=>{class P{historyGo(x){throw new Error("Not implemented")}}return P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=D.Yz7({token:P,factory:function(){return(0,D.f3M)($t)},providedIn:"root"}),P})();const Pt=new D.OlP("appBaseHref");let $t=(()=>{class P extends Rt{constructor(x,te){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,D.f3M)(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return vt(this._baseHref,x)}path(x=!1){const te=this._platformLocation.pathname+Ft(this._platformLocation.search),Te=this._platformLocation.hash;return Te&&x?`${te}${Te}`:te}pushState(x,te,Te,it){const Dt=this.prepareExternalUrl(Te+Ft(it));this._platformLocation.pushState(x,te,Dt)}replaceState(x,te,Te,it){const Dt=this.prepareExternalUrl(Te+Ft(it));this._platformLocation.replaceState(x,te,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}}return P.\u0275fac=function(x){return new(x||P)(D.LFG(ge),D.LFG(Pt,8))},P.\u0275prov=D.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),Mt=(()=>{class P extends Rt{constructor(x,te){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(x){const te=vt(this._baseHref,x);return te.length>0?"#"+te:te}pushState(x,te,Te,it){let Dt=this.prepareExternalUrl(Te+Ft(it));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.pushState(x,te,Dt)}replaceState(x,te,Te,it){let Dt=this.prepareExternalUrl(Te+Ft(it));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.replaceState(x,te,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}}return P.\u0275fac=function(x){return new(x||P)(D.LFG(ge),D.LFG(Pt,8))},P.\u0275prov=D.Yz7({token:P,factory:P.\u0275fac}),P})(),un=(()=>{class P{constructor(x){this._subject=new D.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const te=this._locationStrategy.getBaseHref();this._basePath=function xt(P){if(new RegExp("^(https?:)?//").test(P)){const[,x]=P.split(/\/\/[^\/]+/);return x}return P}(Ue(at(te))),this._locationStrategy.onPopState(Te=>{this._subject.emit({url:this.path(!0),pop:!0,state:Te.state,type:Te.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,te=""){return this.path()==this.normalize(x+Ft(te))}normalize(x){return P.stripTrailingSlash(function We(P,H){if(!P||!H.startsWith(P))return H;const x=H.substring(P.length);return""===x||["/",";","?","#"].includes(x[0])?x:H}(this._basePath,at(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,te="",Te=null){this._locationStrategy.pushState(Te,"",x,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ft(te)),Te)}replaceState(x,te="",Te=null){this._locationStrategy.replaceState(Te,"",x,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ft(te)),Te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",te){this._urlChangeListeners.forEach(Te=>Te(x,te))}subscribe(x,te,Te){return this._subject.subscribe({next:x,error:te,complete:Te})}}return P.normalizeQueryParams=Ft,P.joinWithSlash=vt,P.stripTrailingSlash=Ue,P.\u0275fac=function(x){return new(x||P)(D.LFG(Rt))},P.\u0275prov=D.Yz7({token:P,factory:function(){return function _t(){return new un((0,D.LFG)(Rt))}()},providedIn:"root"}),P})();function at(P){return P.replace(/\/index.html$/,"")}var st=(()=>((st=st||{})[st.Decimal=0]="Decimal",st[st.Percent=1]="Percent",st[st.Currency=2]="Currency",st[st.Scientific=3]="Scientific",st))(),yn=(()=>((yn=yn||{})[yn.Format=0]="Format",yn[yn.Standalone=1]="Standalone",yn))(),ln=(()=>((ln=ln||{})[ln.Narrow=0]="Narrow",ln[ln.Abbreviated=1]="Abbreviated",ln[ln.Wide=2]="Wide",ln[ln.Short=3]="Short",ln))(),Vn=(()=>((Vn=Vn||{})[Vn.Short=0]="Short",Vn[Vn.Medium=1]="Medium",Vn[Vn.Long=2]="Long",Vn[Vn.Full=3]="Full",Vn))(),an=(()=>((an=an||{})[an.Decimal=0]="Decimal",an[an.Group=1]="Group",an[an.List=2]="List",an[an.PercentSign=3]="PercentSign",an[an.PlusSign=4]="PlusSign",an[an.MinusSign=5]="MinusSign",an[an.Exponential=6]="Exponential",an[an.SuperscriptingExponent=7]="SuperscriptingExponent",an[an.PerMille=8]="PerMille",an[an.Infinity=9]="Infinity",an[an.NaN=10]="NaN",an[an.TimeSeparator=11]="TimeSeparator",an[an.CurrencyDecimal=12]="CurrencyDecimal",an[an.CurrencyGroup=13]="CurrencyGroup",an))();function ir(P,H,x){const te=(0,D.cg1)(P),it=$r([te[D.wAp.DayPeriodsFormat],te[D.wAp.DayPeriodsStandalone]],H);return $r(it,x)}function Ht(P,H){return $r((0,D.cg1)(P)[D.wAp.DateFormat],H)}function Ot(P,H){return $r((0,D.cg1)(P)[D.wAp.TimeFormat],H)}function Cn(P,H){return $r((0,D.cg1)(P)[D.wAp.DateTimeFormat],H)}function In(P,H){const x=(0,D.cg1)(P),te=x[D.wAp.NumberSymbols][H];if(typeof te>"u"){if(H===an.CurrencyDecimal)return x[D.wAp.NumberSymbols][an.Decimal];if(H===an.CurrencyGroup)return x[D.wAp.NumberSymbols][an.Group]}return te}function Jn(P){if(!P[D.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[D.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $r(P,H){for(let x=H;x>-1;x--)if(typeof P[x]<"u")return P[x];throw new Error("Locale data API: locale data undefined")}function fn(P){const[H,x]=P.split(":");return{hours:+H,minutes:+x}}const $i=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ii={},Ar=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ar=(()=>((ar=ar||{})[ar.Short=0]="Short",ar[ar.ShortGMT=1]="ShortGMT",ar[ar.Long=2]="Long",ar[ar.Extended=3]="Extended",ar))(),Tn=(()=>((Tn=Tn||{})[Tn.FullYear=0]="FullYear",Tn[Tn.Month=1]="Month",Tn[Tn.Date=2]="Date",Tn[Tn.Hours=3]="Hours",Tn[Tn.Minutes=4]="Minutes",Tn[Tn.Seconds=5]="Seconds",Tn[Tn.FractionalSeconds=6]="FractionalSeconds",Tn[Tn.Day=7]="Day",Tn))(),tn=(()=>((tn=tn||{})[tn.DayPeriods=0]="DayPeriods",tn[tn.Days=1]="Days",tn[tn.Months=2]="Months",tn[tn.Eras=3]="Eras",tn))();function ei(P,H,x,te){let Te=function Qe(P){if(Le(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[Te,it=1,Dt=1]=P.split("-").map(wn=>+wn);return ti(Te,it-1,Dt)}const x=parseFloat(P);if(!isNaN(P-x))return new Date(x);let te;if(te=P.match($i))return function qt(P){const H=new Date(0);let x=0,te=0;const Te=P[8]?H.setUTCFullYear:H.setFullYear,it=P[8]?H.setUTCHours:H.setHours;P[9]&&(x=Number(P[9]+P[10]),te=Number(P[9]+P[11])),Te.call(H,Number(P[1]),Number(P[2])-1,Number(P[3]));const Dt=Number(P[4]||0)-x,wn=Number(P[5]||0)-te,vr=Number(P[6]||0),zr=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return it.call(H,Dt,wn,vr,zr),H}(te)}const H=new Date(P);if(!Le(H))throw new Error(`Unable to convert "${P}" into a date`);return H}(P);H=Fr(x,H)||H;let wn,Dt=[];for(;H;){if(wn=Ar.exec(H),!wn){Dt.push(H);break}{Dt=Dt.concat(wn.slice(1));const Pr=Dt.pop();if(!Pr)break;H=Pr}}let vr=Te.getTimezoneOffset();te&&(vr=ye(te,vr),Te=function rt(P,H,x){const te=x?-1:1,Te=P.getTimezoneOffset();return function Fe(P,H){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+H),P}(P,te*(ye(H,Te)-Te))}(Te,te,!0));let zr="";return Dt.forEach(Pr=>{const Qn=function ve(P){if(dt[P])return dt[P];let H;switch(P){case"G":case"GG":case"GGG":H=Vt(tn.Eras,ln.Abbreviated);break;case"GGGG":H=Vt(tn.Eras,ln.Wide);break;case"GGGGG":H=Vt(tn.Eras,ln.Narrow);break;case"y":H=wt(Tn.FullYear,1,0,!1,!0);break;case"yy":H=wt(Tn.FullYear,2,0,!0,!0);break;case"yyy":H=wt(Tn.FullYear,3,0,!1,!0);break;case"yyyy":H=wt(Tn.FullYear,4,0,!1,!0);break;case"Y":H=Je(1);break;case"YY":H=Je(2,!0);break;case"YYY":H=Je(3);break;case"YYYY":H=Je(4);break;case"M":case"L":H=wt(Tn.Month,1,1);break;case"MM":case"LL":H=wt(Tn.Month,2,1);break;case"MMM":H=Vt(tn.Months,ln.Abbreviated);break;case"MMMM":H=Vt(tn.Months,ln.Wide);break;case"MMMMM":H=Vt(tn.Months,ln.Narrow);break;case"LLL":H=Vt(tn.Months,ln.Abbreviated,yn.Standalone);break;case"LLLL":H=Vt(tn.Months,ln.Wide,yn.Standalone);break;case"LLLLL":H=Vt(tn.Months,ln.Narrow,yn.Standalone);break;case"w":H=me(1);break;case"ww":H=me(2);break;case"W":H=me(1,!0);break;case"d":H=wt(Tn.Date,1);break;case"dd":H=wt(Tn.Date,2);break;case"c":case"cc":H=wt(Tn.Day,1);break;case"ccc":H=Vt(tn.Days,ln.Abbreviated,yn.Standalone);break;case"cccc":H=Vt(tn.Days,ln.Wide,yn.Standalone);break;case"ccccc":H=Vt(tn.Days,ln.Narrow,yn.Standalone);break;case"cccccc":H=Vt(tn.Days,ln.Short,yn.Standalone);break;case"E":case"EE":case"EEE":H=Vt(tn.Days,ln.Abbreviated);break;case"EEEE":H=Vt(tn.Days,ln.Wide);break;case"EEEEE":H=Vt(tn.Days,ln.Narrow);break;case"EEEEEE":H=Vt(tn.Days,ln.Short);break;case"a":case"aa":case"aaa":H=Vt(tn.DayPeriods,ln.Abbreviated);break;case"aaaa":H=Vt(tn.DayPeriods,ln.Wide);break;case"aaaaa":H=Vt(tn.DayPeriods,ln.Narrow);break;case"b":case"bb":case"bbb":H=Vt(tn.DayPeriods,ln.Abbreviated,yn.Standalone,!0);break;case"bbbb":H=Vt(tn.DayPeriods,ln.Wide,yn.Standalone,!0);break;case"bbbbb":H=Vt(tn.DayPeriods,ln.Narrow,yn.Standalone,!0);break;case"B":case"BB":case"BBB":H=Vt(tn.DayPeriods,ln.Abbreviated,yn.Format,!0);break;case"BBBB":H=Vt(tn.DayPeriods,ln.Wide,yn.Format,!0);break;case"BBBBB":H=Vt(tn.DayPeriods,ln.Narrow,yn.Format,!0);break;case"h":H=wt(Tn.Hours,1,-12);break;case"hh":H=wt(Tn.Hours,2,-12);break;case"H":H=wt(Tn.Hours,1);break;case"HH":H=wt(Tn.Hours,2);break;case"m":H=wt(Tn.Minutes,1);break;case"mm":H=wt(Tn.Minutes,2);break;case"s":H=wt(Tn.Seconds,1);break;case"ss":H=wt(Tn.Seconds,2);break;case"S":H=wt(Tn.FractionalSeconds,1);break;case"SS":H=wt(Tn.FractionalSeconds,2);break;case"SSS":H=wt(Tn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":H=Rn(ar.Short);break;case"ZZZZZ":H=Rn(ar.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":H=Rn(ar.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":H=Rn(ar.Long);break;default:return null}return dt[P]=H,H}(Pr);zr+=Qn?Qn(Te,x,vr):"''"===Pr?"'":Pr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),zr}function ti(P,H,x){const te=new Date(0);return te.setFullYear(P,H,x),te.setHours(0,0,0),te}function Fr(P,H){const x=function Rr(P){return(0,D.cg1)(P)[D.wAp.LocaleId]}(P);if(ii[x]=ii[x]||{},ii[x][H])return ii[x][H];let te="";switch(H){case"shortDate":te=Ht(P,Vn.Short);break;case"mediumDate":te=Ht(P,Vn.Medium);break;case"longDate":te=Ht(P,Vn.Long);break;case"fullDate":te=Ht(P,Vn.Full);break;case"shortTime":te=Ot(P,Vn.Short);break;case"mediumTime":te=Ot(P,Vn.Medium);break;case"longTime":te=Ot(P,Vn.Long);break;case"fullTime":te=Ot(P,Vn.Full);break;case"short":const Te=Fr(P,"shortTime"),it=Fr(P,"shortDate");te=Br(Cn(P,Vn.Short),[Te,it]);break;case"medium":const Dt=Fr(P,"mediumTime"),wn=Fr(P,"mediumDate");te=Br(Cn(P,Vn.Medium),[Dt,wn]);break;case"long":const vr=Fr(P,"longTime"),zr=Fr(P,"longDate");te=Br(Cn(P,Vn.Long),[vr,zr]);break;case"full":const Pr=Fr(P,"fullTime"),Qn=Fr(P,"fullDate");te=Br(Cn(P,Vn.Full),[Pr,Qn])}return te&&(ii[x][H]=te),te}function Br(P,H){return H&&(P=P.replace(/\{([^}]+)}/g,function(x,te){return null!=H&&te in H?H[te]:x})),P}function Nn(P,H,x="-",te,Te){let it="";(P<0||Te&&P<=0)&&(Te?P=1-P:(P=-P,it=x));let Dt=String(P);for(;Dt.length<H;)Dt="0"+Dt;return te&&(Dt=Dt.slice(Dt.length-H)),it+Dt}function wt(P,H,x=0,te=!1,Te=!1){return function(it,Dt){let wn=function Gt(P,H){switch(P){case Tn.FullYear:return H.getFullYear();case Tn.Month:return H.getMonth();case Tn.Date:return H.getDate();case Tn.Hours:return H.getHours();case Tn.Minutes:return H.getMinutes();case Tn.Seconds:return H.getSeconds();case Tn.FractionalSeconds:return H.getMilliseconds();case Tn.Day:return H.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,it);if((x>0||wn>-x)&&(wn+=x),P===Tn.Hours)0===wn&&-12===x&&(wn=12);else if(P===Tn.FractionalSeconds)return function Ke(P,H){return Nn(P,3).substring(0,H)}(wn,H);const vr=In(Dt,an.MinusSign);return Nn(wn,H,vr,te,Te)}}function Vt(P,H,x=yn.Format,te=!1){return function(Te,it){return function Bn(P,H,x,te,Te,it){switch(x){case tn.Months:return function tt(P,H,x){const te=(0,D.cg1)(P),it=$r([te[D.wAp.MonthsFormat],te[D.wAp.MonthsStandalone]],H);return $r(it,x)}(H,Te,te)[P.getMonth()];case tn.Days:return function hr(P,H,x){const te=(0,D.cg1)(P),it=$r([te[D.wAp.DaysFormat],te[D.wAp.DaysStandalone]],H);return $r(it,x)}(H,Te,te)[P.getDay()];case tn.DayPeriods:const Dt=P.getHours(),wn=P.getMinutes();if(it){const zr=function Tr(P){const H=(0,D.cg1)(P);return Jn(H),(H[D.wAp.ExtraData][2]||[]).map(te=>"string"==typeof te?fn(te):[fn(te[0]),fn(te[1])])}(H),Pr=function li(P,H,x){const te=(0,D.cg1)(P);Jn(te);const it=$r([te[D.wAp.ExtraData][0],te[D.wAp.ExtraData][1]],H)||[];return $r(it,x)||[]}(H,Te,te),Qn=zr.findIndex(Ti=>{if(Array.isArray(Ti)){const[Mr,wi]=Ti,go=Dt>=Mr.hours&&wn>=Mr.minutes,ro=Dt<wi.hours||Dt===wi.hours&&wn<wi.minutes;if(Mr.hours<wi.hours){if(go&&ro)return!0}else if(go||ro)return!0}else if(Ti.hours===Dt&&Ti.minutes===wn)return!0;return!1});if(-1!==Qn)return Pr[Qn]}return ir(H,Te,te)[Dt<12?0:1];case tn.Eras:return function ut(P,H){return $r((0,D.cg1)(P)[D.wAp.Eras],H)}(H,te)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${x}`)}}(Te,it,P,H,x,te)}}function Rn(P){return function(H,x,te){const Te=-1*te,it=In(x,an.MinusSign),Dt=Te>0?Math.floor(Te/60):Math.ceil(Te/60);switch(P){case ar.Short:return(Te>=0?"+":"")+Nn(Dt,2,it)+Nn(Math.abs(Te%60),2,it);case ar.ShortGMT:return"GMT"+(Te>=0?"+":"")+Nn(Dt,1,it);case ar.Long:return"GMT"+(Te>=0?"+":"")+Nn(Dt,2,it)+":"+Nn(Math.abs(Te%60),2,it);case ar.Extended:return 0===te?"Z":(Te>=0?"+":"")+Nn(Dt,2,it)+":"+Nn(Math.abs(Te%60),2,it);default:throw new Error(`Unknown zone width "${P}"`)}}}const Tt=0,Ne=4;function fe(P){return ti(P.getFullYear(),P.getMonth(),P.getDate()+(Ne-P.getDay()))}function me(P,H=!1){return function(x,te){let Te;if(H){const it=new Date(x.getFullYear(),x.getMonth(),1).getDay()-1,Dt=x.getDate();Te=1+Math.floor((Dt+it)/7)}else{const it=fe(x),Dt=function be(P){const H=ti(P,Tt,1).getDay();return ti(P,0,1+(H<=Ne?Ne:Ne+7)-H)}(it.getFullYear()),wn=it.getTime()-Dt.getTime();Te=1+Math.round(wn/6048e5)}return Nn(Te,P,In(te,an.MinusSign))}}function Je(P,H=!1){return function(x,te){return Nn(fe(x).getFullYear(),P,In(te,an.MinusSign),H)}}const dt={};function ye(P,H){P=P.replace(/:/g,"");const x=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(x)?H:x}function Le(P){return P instanceof Date&&!isNaN(P.valueOf())}const Me=/^(\d+)?\.((\d+)(-(\d+))?)?$/,he=22,je=".",ft="0",Lt=";",en=",",tr="#";function cn(P){const H=parseInt(P);if(isNaN(H))throw new Error("Invalid integer literal when parsing "+P);return H}function Go(P,H,x){return(0,D.dwT)(P,H,x)}function Wo(P,H){H=encodeURIComponent(H);for(const x of P.split(";")){const te=x.indexOf("="),[Te,it]=-1==te?[x,""]:[x.slice(0,te),x.slice(te+1)];if(Te.trim()===H)return decodeURIComponent(it)}return null}const lr=/\s+/,Wt=[];let Ln=(()=>{class P{constructor(x,te,Te,it){this._iterableDiffers=x,this._keyValueDiffers=te,this._ngEl=Te,this._renderer=it,this.initialClasses=Wt,this.stateMap=new Map}set klass(x){this.initialClasses=null!=x?x.trim().split(lr):Wt}set ngClass(x){this.rawClass="string"==typeof x?x.trim().split(lr):x}ngDoCheck(){for(const te of this.initialClasses)this._updateState(te,!0);const x=this.rawClass;if(Array.isArray(x)||x instanceof Set)for(const te of x)this._updateState(te,!0);else if(null!=x)for(const te of Object.keys(x))this._updateState(te,Boolean(x[te]));this._applyStateDiff()}_updateState(x,te){const Te=this.stateMap.get(x);void 0!==Te?(Te.enabled!==te&&(Te.changed=!0,Te.enabled=te),Te.touched=!0):this.stateMap.set(x,{enabled:te,changed:!0,touched:!0})}_applyStateDiff(){for(const x of this.stateMap){const te=x[0],Te=x[1];Te.changed?(this._toggleClass(te,Te.enabled),Te.changed=!1):Te.touched||(Te.enabled&&this._toggleClass(te,!1),this.stateMap.delete(te)),Te.touched=!1}}_toggleClass(x,te){(x=x.trim()).length>0&&x.split(lr).forEach(Te=>{te?this._renderer.addClass(this._ngEl.nativeElement,Te):this._renderer.removeClass(this._ngEl.nativeElement,Te)})}}return P.\u0275fac=function(x){return new(x||P)(D.Y36(D.ZZ4),D.Y36(D.aQg),D.Y36(D.SBq),D.Y36(D.Qsj))},P.\u0275dir=D.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),P})();class nn{constructor(H,x,te,Te){this.$implicit=H,this.ngForOf=x,this.index=te,this.count=Te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let on=(()=>{class P{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,te,Te){this._viewContainer=x,this._template=te,this._differs=Te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const te=this._viewContainer;x.forEachOperation((Te,it,Dt)=>{if(null==Te.previousIndex)te.createEmbeddedView(this._template,new nn(Te.item,this._ngForOf,-1,-1),null===Dt?void 0:Dt);else if(null==Dt)te.remove(null===it?void 0:it);else if(null!==it){const wn=te.get(it);te.move(wn,Dt),Wn(wn,Te)}});for(let Te=0,it=te.length;Te<it;Te++){const wn=te.get(Te).context;wn.index=Te,wn.count=it,wn.ngForOf=this._ngForOf}x.forEachIdentityChange(Te=>{Wn(te.get(Te.currentIndex),Te)})}static ngTemplateContextGuard(x,te){return!0}}return P.\u0275fac=function(x){return new(x||P)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(D.ZZ4))},P.\u0275dir=D.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),P})();function Wn(P,H){P.context.$implicit=H.item}let Be=(()=>{class P{constructor(x,te){this._viewContainer=x,this._context=new Oe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){At("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){At("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,te){return!0}}return P.\u0275fac=function(x){return new(x||P)(D.Y36(D.s_b),D.Y36(D.Rgc))},P.\u0275dir=D.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),P})();class Oe{constructor(){this.$implicit=null,this.ngIf=null}}function At(P,H){if(H&&!H.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,D.AaK)(H)}'.`)}class Jt{constructor(H,x){this._viewContainerRef=H,this._templateRef=x,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(H){H&&!this._created?this.create():!H&&this._created&&this.destroy()}}let bn=(()=>{class P{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(x){this._ngSwitch=x,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(x){this._defaultViews.push(x)}_matchCase(x){const te=x==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||te,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),te}_updateDefaultCases(x){if(this._defaultViews.length>0&&x!==this._defaultUsed){this._defaultUsed=x;for(const te of this._defaultViews)te.enforceState(x)}}}return P.\u0275fac=function(x){return new(x||P)},P.\u0275dir=D.lG2({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),P})(),cr=(()=>{class P{constructor(x,te,Te){this.ngSwitch=Te,Te._addCase(),this._view=new Jt(x,te)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return P.\u0275fac=function(x){return new(x||P)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(bn,9))},P.\u0275dir=D.lG2({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),P})(),yr=(()=>{class P{constructor(x,te,Te){Te._addDefault(new Jt(x,te))}}return P.\u0275fac=function(x){return new(x||P)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(bn,9))},P.\u0275dir=D.lG2({type:P,selectors:[["","ngSwitchDefault",""]],standalone:!0}),P})(),br=(()=>{class P{constructor(x,te,Te){this._ngEl=x,this._differs=te,this._renderer=Te,this._ngStyle=null,this._differ=null}set ngStyle(x){this._ngStyle=x,!this._differ&&x&&(this._differ=this._differs.find(x).create())}ngDoCheck(){if(this._differ){const x=this._differ.diff(this._ngStyle);x&&this._applyChanges(x)}}_setStyle(x,te){const[Te,it]=x.split("."),Dt=-1===Te.indexOf("-")?void 0:D.JOm.DashCase;null!=te?this._renderer.setStyle(this._ngEl.nativeElement,Te,it?`${te}${it}`:te,Dt):this._renderer.removeStyle(this._ngEl.nativeElement,Te,Dt)}_applyChanges(x){x.forEachRemovedItem(te=>this._setStyle(te.key,null)),x.forEachAddedItem(te=>this._setStyle(te.key,te.currentValue)),x.forEachChangedItem(te=>this._setStyle(te.key,te.currentValue))}}return P.\u0275fac=function(x){return new(x||P)(D.Y36(D.SBq),D.Y36(D.aQg),D.Y36(D.Qsj))},P.\u0275dir=D.lG2({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),P})(),Wr=(()=>{class P{constructor(x){this._viewContainerRef=x,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(x){if(x.ngTemplateOutlet||x.ngTemplateOutletInjector){const te=this._viewContainerRef;if(this._viewRef&&te.remove(te.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Te,ngTemplateOutletContext:it,ngTemplateOutletInjector:Dt}=this;this._viewRef=te.createEmbeddedView(Te,it,Dt?{injector:Dt}:void 0)}else this._viewRef=null}else this._viewRef&&x.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return P.\u0275fac=function(x){return new(x||P)(D.Y36(D.s_b))},P.\u0275dir=D.lG2({type:P,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[D.TTD]}),P})();function Qi(P,H){return new D.vHH(2100,!1)}class No{createSubscription(H,x){return H.subscribe({next:x,error:te=>{throw te}})}dispose(H){H.unsubscribe()}}class _o{createSubscription(H,x){return H.then(x,te=>{throw te})}dispose(H){}}const ys=new _o,vs=new No;let To=(()=>{class P{constructor(x){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=x}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(x){return this._obj?x!==this._obj?(this._dispose(),this.transform(x)):this._latestValue:(x&&this._subscribe(x),this._latestValue)}_subscribe(x){this._obj=x,this._strategy=this._selectStrategy(x),this._subscription=this._strategy.createSubscription(x,te=>this._updateLatestValue(x,te))}_selectStrategy(x){if((0,D.QGY)(x))return ys;if((0,D.F4k)(x))return vs;throw Qi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(x,te){x===this._obj&&(this._latestValue=te,this._ref.markForCheck())}}return P.\u0275fac=function(x){return new(x||P)(D.Y36(D.sBO,16))},P.\u0275pipe=D.Yjl({name:"async",type:P,pure:!1,standalone:!0}),P})(),Ps=(()=>{class P{constructor(x){this._locale=x}transform(x,te,Te){if(!function ks(P){return!(null==P||""===P||P!=P)}(x))return null;Te=Te||this._locale;try{return function Zi(P,H,x){return function so(P,H,x,te,Te,it,Dt=!1){let wn="",vr=!1;if(isFinite(P)){let zr=function pr(P){let te,Te,it,Dt,wn,H=Math.abs(P)+"",x=0;for((Te=H.indexOf(je))>-1&&(H=H.replace(je,"")),(it=H.search(/e/i))>0?(Te<0&&(Te=it),Te+=+H.slice(it+1),H=H.substring(0,it)):Te<0&&(Te=H.length),it=0;H.charAt(it)===ft;it++);if(it===(wn=H.length))te=[0],Te=1;else{for(wn--;H.charAt(wn)===ft;)wn--;for(Te-=it,te=[],Dt=0;it<=wn;it++,Dt++)te[Dt]=Number(H.charAt(it))}return Te>he&&(te=te.splice(0,he-1),x=Te-1,Te=1),{digits:te,exponent:x,integerLen:Te}}(P);Dt&&(zr=function Ni(P){if(0===P.digits[0])return P;const H=P.digits.length-P.integerLen;return P.exponent?P.exponent+=2:(0===H?P.digits.push(0,0):1===H&&P.digits.push(0),P.integerLen+=2),P}(zr));let Pr=H.minInt,Qn=H.minFrac,Ti=H.maxFrac;if(it){const Uo=it.match(Me);if(null===Uo)throw new Error(`${it} is not a valid digit info`);const jo=Uo[1],kn=Uo[3],jn=Uo[5];null!=jo&&(Pr=cn(jo)),null!=kn&&(Qn=cn(kn)),null!=jn?Ti=cn(jn):null!=kn&&Qn>Ti&&(Ti=Qn)}!function Dr(P,H,x){if(H>x)throw new Error(`The minimum number of digits after fraction (${H}) is higher than the maximum (${x}).`);let te=P.digits,Te=te.length-P.integerLen;const it=Math.min(Math.max(H,Te),x);let Dt=it+P.integerLen,wn=te[Dt];if(Dt>0){te.splice(Math.max(P.integerLen,Dt));for(let Qn=Dt;Qn<te.length;Qn++)te[Qn]=0}else{Te=Math.max(0,Te),P.integerLen=1,te.length=Math.max(1,Dt=it+1),te[0]=0;for(let Qn=1;Qn<Dt;Qn++)te[Qn]=0}if(wn>=5)if(Dt-1<0){for(let Qn=0;Qn>Dt;Qn--)te.unshift(0),P.integerLen++;te.unshift(1),P.integerLen++}else te[Dt-1]++;for(;Te<Math.max(0,it);Te++)te.push(0);let vr=0!==it;const zr=H+P.integerLen,Pr=te.reduceRight(function(Qn,Ti,Mr,wi){return wi[Mr]=(Ti+=Qn)<10?Ti:Ti-10,vr&&(0===wi[Mr]&&Mr>=zr?wi.pop():vr=!1),Ti>=10?1:0},0);Pr&&(te.unshift(Pr),P.integerLen++)}(zr,Qn,Ti);let Mr=zr.digits,wi=zr.integerLen;const go=zr.exponent;let ro=[];for(vr=Mr.every(Uo=>!Uo);wi<Pr;wi++)Mr.unshift(0);for(;wi<0;wi++)Mr.unshift(0);wi>0?ro=Mr.splice(wi,Mr.length):(ro=Mr,Mr=[0]);const xo=[];for(Mr.length>=H.lgSize&&xo.unshift(Mr.splice(-H.lgSize,Mr.length).join(""));Mr.length>H.gSize;)xo.unshift(Mr.splice(-H.gSize,Mr.length).join(""));Mr.length&&xo.unshift(Mr.join("")),wn=xo.join(In(x,te)),ro.length&&(wn+=In(x,Te)+ro.join("")),go&&(wn+=In(x,an.Exponential)+"+"+go)}else wn=In(x,an.Infinity);return wn=P<0&&!vr?H.negPre+wn+H.negSuf:H.posPre+wn+H.posSuf,wn}(P,function Vi(P,H="-"){const x={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},te=P.split(Lt),Te=te[0],it=te[1],Dt=-1!==Te.indexOf(je)?Te.split(je):[Te.substring(0,Te.lastIndexOf(ft)+1),Te.substring(Te.lastIndexOf(ft)+1)],wn=Dt[0],vr=Dt[1]||"";x.posPre=wn.substring(0,wn.indexOf(tr));for(let Pr=0;Pr<vr.length;Pr++){const Qn=vr.charAt(Pr);Qn===ft?x.minFrac=x.maxFrac=Pr+1:Qn===tr?x.maxFrac=Pr+1:x.posSuf+=Qn}const zr=wn.split(en);if(x.gSize=zr[1]?zr[1].length:0,x.lgSize=zr[2]||zr[1]?(zr[2]||zr[1]).length:0,it){const Pr=Te.length-x.posPre.length-x.posSuf.length,Qn=it.indexOf(tr);x.negPre=it.substring(0,Qn).replace(/'/g,""),x.negSuf=it.slice(Qn+Pr).replace(/'/g,"")}else x.negPre=H+x.posPre,x.negSuf=x.posSuf;return x}(function ri(P,H){return(0,D.cg1)(P)[D.wAp.NumberFormats][H]}(H,st.Decimal),In(H,an.MinusSign)),H,an.Group,an.Decimal,x)}(function Fo(P){if("string"==typeof P&&!isNaN(Number(P)-parseFloat(P)))return Number(P);if("number"!=typeof P)throw new Error(`${P} is not a number`);return P}(x),Te,te)}catch(it){throw Qi()}}}return P.\u0275fac=function(x){return new(x||P)(D.Y36(D.soG,16))},P.\u0275pipe=D.Yjl({name:"number",type:P,pure:!0,standalone:!0}),P})();let qo=(()=>{class P{}return P.\u0275fac=function(x){return new(x||P)},P.\u0275mod=D.oAB({type:P}),P.\u0275inj=D.cJS({}),P})();const Ya="browser";function ta(P){return P===Ya}let Ts=(()=>{class P{}return P.\u0275prov=(0,D.Yz7)({token:P,providedIn:"root",factory:()=>new Da((0,D.LFG)(Ie),window)}),P})();class Da{constructor(H,x){this.document=H,this.window=x,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const x=function ws(P,H){const x=P.getElementById(H)||P.getElementsByName(H)[0];if(x)return x;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const te=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Te=te.currentNode;for(;Te;){const it=Te.shadowRoot;if(it){const Dt=it.getElementById(H)||it.querySelector(`[name="${H}"]`);if(Dt)return Dt}Te=te.nextNode()}}return null}(this.document,H);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(H){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=H)}}scrollToElement(H){const x=H.getBoundingClientRect(),te=x.left+this.window.pageXOffset,Te=x.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(te-it[0],Te-it[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const H=to(this.window.history)||to(Object.getPrototypeOf(this.window.history));return!(!H||!H.writable&&!H.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function to(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class na{}},529:(_n,nt,z)=>{z.d(nt,{eN:()=>Rr,h_:()=>ti,jN:()=>Re});var D=z(6895),J=z(4650),de=z(9646),De=z(9751),Ae=z(4351),Ie=z(9300),ge=z(4004);class se{}class Re{}class _e{constructor(fe){this.normalizedNames=new Map,this.lazyUpdate=null,fe?this.lazyInit="string"==typeof fe?()=>{this.headers=new Map,fe.split("\n").forEach(me=>{const Je=me.indexOf(":");if(Je>0){const dt=me.slice(0,Je),ve=dt.toLowerCase(),ye=me.slice(Je+1).trim();this.maybeSetNormalizedName(dt,ve),this.headers.has(ve)?this.headers.get(ve).push(ye):this.headers.set(ve,[ye])}})}:()=>{this.headers=new Map,Object.entries(fe).forEach(([me,Je])=>{let dt;if(dt="string"==typeof Je?[Je]:"number"==typeof Je?[Je.toString()]:Je.map(ve=>ve.toString()),dt.length>0){const ve=me.toLowerCase();this.headers.set(ve,dt),this.maybeSetNormalizedName(me,ve)}})}:this.headers=new Map}has(fe){return this.init(),this.headers.has(fe.toLowerCase())}get(fe){this.init();const me=this.headers.get(fe.toLowerCase());return me&&me.length>0?me[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(fe){return this.init(),this.headers.get(fe.toLowerCase())||null}append(fe,me){return this.clone({name:fe,value:me,op:"a"})}set(fe,me){return this.clone({name:fe,value:me,op:"s"})}delete(fe,me){return this.clone({name:fe,value:me,op:"d"})}maybeSetNormalizedName(fe,me){this.normalizedNames.has(me)||this.normalizedNames.set(me,fe)}init(){this.lazyInit&&(this.lazyInit instanceof _e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(fe=>this.applyUpdate(fe)),this.lazyUpdate=null))}copyFrom(fe){fe.init(),Array.from(fe.headers.keys()).forEach(me=>{this.headers.set(me,fe.headers.get(me)),this.normalizedNames.set(me,fe.normalizedNames.get(me))})}clone(fe){const me=new _e;return me.lazyInit=this.lazyInit&&this.lazyInit instanceof _e?this.lazyInit:this,me.lazyUpdate=(this.lazyUpdate||[]).concat([fe]),me}applyUpdate(fe){const me=fe.name.toLowerCase();switch(fe.op){case"a":case"s":let Je=fe.value;if("string"==typeof Je&&(Je=[Je]),0===Je.length)return;this.maybeSetNormalizedName(fe.name,me);const dt=("a"===fe.op?this.headers.get(me):void 0)||[];dt.push(...Je),this.headers.set(me,dt);break;case"d":const ve=fe.value;if(ve){let ye=this.headers.get(me);if(!ye)return;ye=ye.filter(Fe=>-1===ve.indexOf(Fe)),0===ye.length?(this.headers.delete(me),this.normalizedNames.delete(me)):this.headers.set(me,ye)}else this.headers.delete(me),this.normalizedNames.delete(me)}}forEach(fe){this.init(),Array.from(this.normalizedNames.keys()).forEach(me=>fe(this.normalizedNames.get(me),this.headers.get(me)))}}class Ye{encodeKey(fe){return Rt(fe)}encodeValue(fe){return Rt(fe)}decodeKey(fe){return decodeURIComponent(fe)}decodeValue(fe){return decodeURIComponent(fe)}}const Ue=/%(\d[a-f0-9])/gi,Ft={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Rt(be){return encodeURIComponent(be).replace(Ue,(fe,me)=>Ft[me]??fe)}function Pt(be){return`${be}`}class $t{constructor(fe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=fe.encoder||new Ye,fe.fromString){if(fe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vt(be,fe){const me=new Map;return be.length>0&&be.replace(/^\?/,"").split("&").forEach(dt=>{const ve=dt.indexOf("="),[ye,Fe]=-1==ve?[fe.decodeKey(dt),""]:[fe.decodeKey(dt.slice(0,ve)),fe.decodeValue(dt.slice(ve+1))],rt=me.get(ye)||[];rt.push(Fe),me.set(ye,rt)}),me}(fe.fromString,this.encoder)}else fe.fromObject?(this.map=new Map,Object.keys(fe.fromObject).forEach(me=>{const Je=fe.fromObject[me],dt=Array.isArray(Je)?Je.map(Pt):[Pt(Je)];this.map.set(me,dt)})):this.map=null}has(fe){return this.init(),this.map.has(fe)}get(fe){this.init();const me=this.map.get(fe);return me?me[0]:null}getAll(fe){return this.init(),this.map.get(fe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(fe,me){return this.clone({param:fe,value:me,op:"a"})}appendAll(fe){const me=[];return Object.keys(fe).forEach(Je=>{const dt=fe[Je];Array.isArray(dt)?dt.forEach(ve=>{me.push({param:Je,value:ve,op:"a"})}):me.push({param:Je,value:dt,op:"a"})}),this.clone(me)}set(fe,me){return this.clone({param:fe,value:me,op:"s"})}delete(fe,me){return this.clone({param:fe,value:me,op:"d"})}toString(){return this.init(),this.keys().map(fe=>{const me=this.encoder.encodeKey(fe);return this.map.get(fe).map(Je=>me+"="+this.encoder.encodeValue(Je)).join("&")}).filter(fe=>""!==fe).join("&")}clone(fe){const me=new $t({encoder:this.encoder});return me.cloneFrom=this.cloneFrom||this,me.updates=(this.updates||[]).concat(fe),me}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(fe=>this.map.set(fe,this.cloneFrom.map.get(fe))),this.updates.forEach(fe=>{switch(fe.op){case"a":case"s":const me=("a"===fe.op?this.map.get(fe.param):void 0)||[];me.push(Pt(fe.value)),this.map.set(fe.param,me);break;case"d":if(void 0===fe.value){this.map.delete(fe.param);break}{let Je=this.map.get(fe.param)||[];const dt=Je.indexOf(Pt(fe.value));-1!==dt&&Je.splice(dt,1),Je.length>0?this.map.set(fe.param,Je):this.map.delete(fe.param)}}}),this.cloneFrom=this.updates=null)}}class un{constructor(){this.map=new Map}set(fe,me){return this.map.set(fe,me),this}get(fe){return this.map.has(fe)||this.map.set(fe,fe.defaultValue()),this.map.get(fe)}delete(fe){return this.map.delete(fe),this}has(fe){return this.map.has(fe)}keys(){return this.map.keys()}}function We(be){return typeof ArrayBuffer<"u"&&be instanceof ArrayBuffer}function at(be){return typeof Blob<"u"&&be instanceof Blob}function xt(be){return typeof FormData<"u"&&be instanceof FormData}class st{constructor(fe,me,Je,dt){let ve;if(this.url=me,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=fe.toUpperCase(),function _t(be){switch(be){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||dt?(this.body=void 0!==Je?Je:null,ve=dt):ve=Je,ve&&(this.reportProgress=!!ve.reportProgress,this.withCredentials=!!ve.withCredentials,ve.responseType&&(this.responseType=ve.responseType),ve.headers&&(this.headers=ve.headers),ve.context&&(this.context=ve.context),ve.params&&(this.params=ve.params)),this.headers||(this.headers=new _e),this.context||(this.context=new un),this.params){const ye=this.params.toString();if(0===ye.length)this.urlWithParams=me;else{const Fe=me.indexOf("?");this.urlWithParams=me+(-1===Fe?"?":Fe<me.length-1?"&":"")+ye}}else this.params=new $t,this.urlWithParams=me}serializeBody(){return null===this.body?null:We(this.body)||at(this.body)||xt(this.body)||function pn(be){return typeof URLSearchParams<"u"&&be instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $t?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xt(this.body)?null:at(this.body)?this.body.type||null:We(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $t?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(fe={}){const me=fe.method||this.method,Je=fe.url||this.url,dt=fe.responseType||this.responseType,ve=void 0!==fe.body?fe.body:this.body,ye=void 0!==fe.withCredentials?fe.withCredentials:this.withCredentials,Fe=void 0!==fe.reportProgress?fe.reportProgress:this.reportProgress;let rt=fe.headers||this.headers,Qe=fe.params||this.params;const qt=fe.context??this.context;return void 0!==fe.setHeaders&&(rt=Object.keys(fe.setHeaders).reduce((Le,Me)=>Le.set(Me,fe.setHeaders[Me]),rt)),fe.setParams&&(Qe=Object.keys(fe.setParams).reduce((Le,Me)=>Le.set(Me,fe.setParams[Me]),Qe)),new st(me,Je,ve,{params:Qe,headers:rt,context:qt,reportProgress:Fe,responseType:dt,withCredentials:ye})}}var Et=(()=>((Et=Et||{})[Et.Sent=0]="Sent",Et[Et.UploadProgress=1]="UploadProgress",Et[Et.ResponseHeader=2]="ResponseHeader",Et[Et.DownloadProgress=3]="DownloadProgress",Et[Et.Response=4]="Response",Et[Et.User=5]="User",Et))();class yn{constructor(fe,me=200,Je="OK"){this.headers=fe.headers||new _e,this.status=void 0!==fe.status?fe.status:me,this.statusText=fe.statusText||Je,this.url=fe.url||null,this.ok=this.status>=200&&this.status<300}}class ln extends yn{constructor(fe={}){super(fe),this.type=Et.ResponseHeader}clone(fe={}){return new ln({headers:fe.headers||this.headers,status:void 0!==fe.status?fe.status:this.status,statusText:fe.statusText||this.statusText,url:fe.url||this.url||void 0})}}class Vn extends yn{constructor(fe={}){super(fe),this.type=Et.Response,this.body=void 0!==fe.body?fe.body:null}clone(fe={}){return new Vn({body:void 0!==fe.body?fe.body:this.body,headers:fe.headers||this.headers,status:void 0!==fe.status?fe.status:this.status,statusText:fe.statusText||this.statusText,url:fe.url||this.url||void 0})}}class an extends yn{constructor(fe){super(fe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${fe.url||"(unknown url)"}`:`Http failure response for ${fe.url||"(unknown url)"}: ${fe.status} ${fe.statusText}`,this.error=fe.error||null}}function hn(be,fe){return{body:fe,headers:be.headers,context:be.context,observe:be.observe,params:be.params,reportProgress:be.reportProgress,responseType:be.responseType,withCredentials:be.withCredentials}}let Rr=(()=>{class be{constructor(me){this.handler=me}request(me,Je,dt={}){let ve;if(me instanceof st)ve=me;else{let rt,Qe;rt=dt.headers instanceof _e?dt.headers:new _e(dt.headers),dt.params&&(Qe=dt.params instanceof $t?dt.params:new $t({fromObject:dt.params})),ve=new st(me,Je,void 0!==dt.body?dt.body:null,{headers:rt,context:dt.context,params:Qe,reportProgress:dt.reportProgress,responseType:dt.responseType||"json",withCredentials:dt.withCredentials})}const ye=(0,de.of)(ve).pipe((0,Ae.b)(rt=>this.handler.handle(rt)));if(me instanceof st||"events"===dt.observe)return ye;const Fe=ye.pipe((0,Ie.h)(rt=>rt instanceof Vn));switch(dt.observe||"body"){case"body":switch(ve.responseType){case"arraybuffer":return Fe.pipe((0,ge.U)(rt=>{if(null!==rt.body&&!(rt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return rt.body}));case"blob":return Fe.pipe((0,ge.U)(rt=>{if(null!==rt.body&&!(rt.body instanceof Blob))throw new Error("Response is not a Blob.");return rt.body}));case"text":return Fe.pipe((0,ge.U)(rt=>{if(null!==rt.body&&"string"!=typeof rt.body)throw new Error("Response is not a string.");return rt.body}));default:return Fe.pipe((0,ge.U)(rt=>rt.body))}case"response":return Fe;default:throw new Error(`Unreachable: unhandled observe type ${dt.observe}}`)}}delete(me,Je={}){return this.request("DELETE",me,Je)}get(me,Je={}){return this.request("GET",me,Je)}head(me,Je={}){return this.request("HEAD",me,Je)}jsonp(me,Je){return this.request("JSONP",me,{params:(new $t).append(Je,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(me,Je={}){return this.request("OPTIONS",me,Je)}patch(me,Je,dt={}){return this.request("PATCH",me,hn(dt,Je))}post(me,Je,dt={}){return this.request("POST",me,hn(dt,Je))}put(me,Je,dt={}){return this.request("PUT",me,hn(dt,Je))}}return be.\u0275fac=function(me){return new(me||be)(J.LFG(se))},be.\u0275prov=J.Yz7({token:be,factory:be.\u0275fac}),be})();function ir(be,fe){return fe(be)}const ht=new J.OlP("HTTP_INTERCEPTOR_FNS");let Ht=(()=>{class be extends se{constructor(me,Je){super(),this.backend=me,this.injector=Je,this.chain=null}handle(me){if(null===this.chain){const Je=Array.from(new Set(this.injector.get(ht)));this.chain=Je.reduceRight((dt,ve)=>function tt(be,fe,me){return(Je,dt)=>me.runInContext(()=>fe(Je,ve=>be(ve,dt)))}(dt,ve,this.injector),ir)}return this.chain(me,Je=>this.backend.handle(Je))}}return be.\u0275fac=function(me){return new(me||be)(J.LFG(Re),J.LFG(J.lqb))},be.\u0275prov=J.Yz7({token:be,factory:be.\u0275fac}),be})();const li=/^\)\]\}',?\n/;let $r=(()=>{class be{constructor(me){this.xhrFactory=me}handle(me){if("JSONP"===me.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new De.y(Je=>{const dt=this.xhrFactory.build();if(dt.open(me.method,me.urlWithParams),me.withCredentials&&(dt.withCredentials=!0),me.headers.forEach((he,je)=>dt.setRequestHeader(he,je.join(","))),me.headers.has("Accept")||dt.setRequestHeader("Accept","application/json, text/plain, */*"),!me.headers.has("Content-Type")){const he=me.detectContentTypeHeader();null!==he&&dt.setRequestHeader("Content-Type",he)}if(me.responseType){const he=me.responseType.toLowerCase();dt.responseType="json"!==he?he:"text"}const ve=me.serializeBody();let ye=null;const Fe=()=>{if(null!==ye)return ye;const he=dt.statusText||"OK",je=new _e(dt.getAllResponseHeaders()),ft=function Qr(be){return"responseURL"in be&&be.responseURL?be.responseURL:/^X-Request-URL:/m.test(be.getAllResponseHeaders())?be.getResponseHeader("X-Request-URL"):null}(dt)||me.url;return ye=new ln({headers:je,status:dt.status,statusText:he,url:ft}),ye},rt=()=>{let{headers:he,status:je,statusText:ft,url:Lt}=Fe(),en=null;204!==je&&(en=typeof dt.response>"u"?dt.responseText:dt.response),0===je&&(je=en?200:0);let tr=je>=200&&je<300;if("json"===me.responseType&&"string"==typeof en){const xr=en;en=en.replace(li,"");try{en=""!==en?JSON.parse(en):null}catch(yi){en=xr,tr&&(tr=!1,en={error:yi,text:en})}}tr?(Je.next(new Vn({body:en,headers:he,status:je,statusText:ft,url:Lt||void 0})),Je.complete()):Je.error(new an({error:en,headers:he,status:je,statusText:ft,url:Lt||void 0}))},Qe=he=>{const{url:je}=Fe(),ft=new an({error:he,status:dt.status||0,statusText:dt.statusText||"Unknown Error",url:je||void 0});Je.error(ft)};let qt=!1;const Le=he=>{qt||(Je.next(Fe()),qt=!0);let je={type:Et.DownloadProgress,loaded:he.loaded};he.lengthComputable&&(je.total=he.total),"text"===me.responseType&&dt.responseText&&(je.partialText=dt.responseText),Je.next(je)},Me=he=>{let je={type:Et.UploadProgress,loaded:he.loaded};he.lengthComputable&&(je.total=he.total),Je.next(je)};return dt.addEventListener("load",rt),dt.addEventListener("error",Qe),dt.addEventListener("timeout",Qe),dt.addEventListener("abort",Qe),me.reportProgress&&(dt.addEventListener("progress",Le),null!==ve&&dt.upload&&dt.upload.addEventListener("progress",Me)),dt.send(ve),Je.next({type:Et.Sent}),()=>{dt.removeEventListener("error",Qe),dt.removeEventListener("abort",Qe),dt.removeEventListener("load",rt),dt.removeEventListener("timeout",Qe),me.reportProgress&&(dt.removeEventListener("progress",Le),null!==ve&&dt.upload&&dt.upload.removeEventListener("progress",Me)),dt.readyState!==dt.DONE&&dt.abort()}})}}return be.\u0275fac=function(me){return new(me||be)(J.LFG(D.JF))},be.\u0275prov=J.Yz7({token:be,factory:be.\u0275fac}),be})();const fn=new J.OlP("XSRF_ENABLED"),Gr=new J.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),$i=new J.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ii{}let Ar=(()=>{class be{constructor(me,Je,dt){this.doc=me,this.platform=Je,this.cookieName=dt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const me=this.doc.cookie||"";return me!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,D.Mx)(me,this.cookieName),this.lastCookieString=me),this.lastToken}}return be.\u0275fac=function(me){return new(me||be)(J.LFG(D.K0),J.LFG(J.Lbi),J.LFG(Gr))},be.\u0275prov=J.Yz7({token:be,factory:be.\u0275fac}),be})();function ar(be,fe){const me=be.url.toLowerCase();if(!(0,J.f3M)(fn)||"GET"===be.method||"HEAD"===be.method||me.startsWith("http://")||me.startsWith("https://"))return fe(be);const Je=(0,J.f3M)(ii).getToken(),dt=(0,J.f3M)($i);return null!=Je&&!be.headers.has(dt)&&(be=be.clone({headers:be.headers.set(dt,Je)})),fe(be)}function ti(...be){const fe=[Rr,$r,Ht,{provide:se,useExisting:Ht},{provide:Re,useExisting:$r},{provide:ht,useValue:ar,multi:!0},{provide:fn,useValue:!0},{provide:ii,useClass:Ar}];for(const me of be)fe.push(...me.\u0275providers);return(0,J.MR2)(fe)}},4650:(_n,nt,z)=>{z.d(nt,{$8M:()=>yo,$WT:()=>Qt,$Z:()=>ng,AFp:()=>Rw,ALo:()=>o,AaK:()=>se,BQk:()=>Ld,CHM:()=>Za,CRH:()=>uw,CZH:()=>by,CqO:()=>xg,D6c:()=>x0,DdM:()=>N_,DyG:()=>Ei,EJc:()=>GE,EiD:()=>Se,EpF:()=>kg,F$t:()=>gf,F4k:()=>Ag,FYo:()=>Qf,FiY:()=>vl,Gf:()=>lw,GfV:()=>Um,Gpc:()=>Ee,Hsn:()=>Lg,JOm:()=>sl,JVY:()=>Cm,JZr:()=>Rt,KtG:()=>hs,L6k:()=>ic,LAX:()=>nl,LFG:()=>Rn,LSH:()=>gr,Lbi:()=>BE,Lck:()=>zT,MAs:()=>Pg,MMx:()=>_y,MR2:()=>nh,NdJ:()=>Hp,O4$:()=>F,OlP:()=>Pi,Oqu:()=>Jg,P3R:()=>Sl,PXZ:()=>l0,Q6J:()=>Yp,QGY:()=>Bp,QbO:()=>HE,Qsj:()=>Lm,R0b:()=>gc,RDi:()=>Yf,Rgc:()=>qr,SBq:()=>fd,Sil:()=>KE,Suo:()=>cw,TTD:()=>Hs,TgZ:()=>Fd,Udp:()=>wf,VKq:()=>F_,W1O:()=>pw,WLB:()=>L_,X6Q:()=>f0,XFs:()=>fn,Xpm:()=>tr,Xts:()=>jl,Y36:()=>Fc,YKP:()=>S_,YNc:()=>Lp,Yjl:()=>Ni,Yz7:()=>In,Z0I:()=>Un,ZZ4:()=>oT,_Bn:()=>D_,_UZ:()=>pf,_Vd:()=>xc,_c5:()=>k0,_uU:()=>Rv,aQg:()=>sT,c2e:()=>zE,cJS:()=>jt,cg1:()=>sy,d8E:()=>bf,dDg:()=>r0,dqk:()=>Ar,dwT:()=>zv,eBb:()=>Vf,eFA:()=>Gw,eJc:()=>H_,ekj:()=>Ef,eoX:()=>Bw,f3M:()=>Ne,g9A:()=>Nw,h0i:()=>Lh,hGG:()=>A0,hij:()=>im,iGM:()=>aw,ifc:()=>rt,ip1:()=>Mw,jDz:()=>C_,kL8:()=>Bd,kcU:()=>ue,lG2:()=>Vi,lcZ:()=>h,lqb:()=>cu,lri:()=>jw,mCW:()=>Xd,n5z:()=>Xo,oAB:()=>bo,oJD:()=>sr,oxw:()=>Fg,pB0:()=>Bf,q3G:()=>St,q4F:()=>pd,qLn:()=>md,qOj:()=>cc,qZA:()=>Uc,qzn:()=>ou,rWj:()=>Vw,sBO:()=>p0,s_b:()=>$o,soG:()=>Cy,tBr:()=>Hi,tb:()=>zw,tp0:()=>Xa,uIk:()=>Dh,vHH:()=>Pt,vpe:()=>Bt,wAp:()=>Vr,xi3:()=>I,xp6:()=>Km,ynx:()=>mf,z2F:()=>Py,z3N:()=>ml,zSh:()=>rh,zs3:()=>Oc});var D=z(7579),J=z(727),de=z(9751),De=z(6451),Ae=z(3099);function Ie(n){for(let r in n)if(n[r]===Ie)return r;throw Error("Could not find renamed property on target object.")}function ge(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function se(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(se).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Re(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const _e=Ie({__forward_ref__:Ie});function Ee(n){return n.__forward_ref__=Ee,n.toString=function(){return se(this())},n}function Ye(n){return vt(n)?n():n}function vt(n){return"function"==typeof n&&n.hasOwnProperty(_e)&&n.__forward_ref__===Ee}function Ue(n){return n&&!!n.\u0275providers}const Rt="https://g.co/ng/security#xss";class Pt extends Error{constructor(r,s){super($t(r,s)),this.code=r}}function $t(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function Mt(n){return"string"==typeof n?n:null==n?"":String(n)}function xt(n,r){throw new Pt(-201,!1)}function ht(n,r){null==n&&function Xe(n,r,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${r} <=Actual]`))}(r,n,null,"!=")}function In(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Kn(n){return fr(n,Tr)||fr(n,Qr)}function Un(n){return null!==Kn(n)}function fr(n,r){return n.hasOwnProperty(r)?n[r]:null}function Jn(n){return n&&(n.hasOwnProperty(li)||n.hasOwnProperty($r))?n[li]:null}const Tr=Ie({\u0275prov:Ie}),li=Ie({\u0275inj:Ie}),Qr=Ie({ngInjectableDef:Ie}),$r=Ie({ngInjectorDef:Ie});var fn=(()=>((fn=fn||{})[fn.Default=0]="Default",fn[fn.Host=1]="Host",fn[fn.Self=2]="Self",fn[fn.SkipSelf=4]="SkipSelf",fn[fn.Optional=8]="Optional",fn))();let Nr;function oi(n){const r=Nr;return Nr=n,r}function $i(n,r,s){const l=Kn(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&fn.Optional?null:void 0!==r?r:void xt(se(n))}const Ar=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ei={},ti="__NG_DI_FLAG__",Fr="ngTempTokenPath",Br="ngTokenPath",Nn=/\n/gm,Ke="\u0275",wt="__source";let Gt;function Vt(n){const r=Gt;return Gt=n,r}function Bn(n,r=fn.Default){if(void 0===Gt)throw new Pt(-203,!1);return null===Gt?$i(n,void 0,r):Gt.get(n,r&fn.Optional?null:void 0,r)}function Rn(n,r=fn.Default){return(function Gr(){return Nr}()||Bn)(Ye(n),r)}function Ne(n,r=fn.Default){return Rn(n,be(r))}function be(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function fe(n){const r=[];for(let s=0;s<n.length;s++){const l=Ye(n[s]);if(Array.isArray(l)){if(0===l.length)throw new Pt(900,!1);let c,d=fn.Default;for(let v=0;v<l.length;v++){const C=l[v],R=Je(C);"number"==typeof R?-1===R?c=C.token:d|=R:c=C}r.push(Rn(c,d))}else r.push(Rn(l))}return r}function me(n,r){return n[ti]=r,n.prototype[ti]=r,n}function Je(n){return n[ti]}function ye(n){return{toString:n}.toString()}var Fe=(()=>((Fe=Fe||{})[Fe.OnPush=0]="OnPush",Fe[Fe.Default=1]="Default",Fe))(),rt=(()=>{return(n=rt||(rt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",rt;var n})();const Qe={},qt=[],Le=Ie({\u0275cmp:Ie}),Me=Ie({\u0275dir:Ie}),he=Ie({\u0275pipe:Ie}),je=Ie({\u0275mod:Ie}),ft=Ie({\u0275fac:Ie}),Lt=Ie({__NG_ELEMENT_ID__:Ie});let en=0;function tr(n){return ye(()=>{const r=Gi(n),s={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Fe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||rt.Emulated,id:"c"+en++,styles:n.styles||qt,_:null,schemas:n.schemas||null,tView:null};Go(s);const l=n.dependencies;return s.directiveDefs=Wo(l,!1),s.pipeDefs=Wo(l,!0),s})}function yi(n){return pr(n)||Dr(n)}function so(n){return null!==n}function bo(n){return ye(()=>({type:n.type,bootstrap:n.bootstrap||qt,declarations:n.declarations||qt,imports:n.imports||qt,exports:n.exports||qt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Zi(n,r){if(null==n)return Qe;const s={};for(const l in n)if(n.hasOwnProperty(l)){let c=n[l],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=l,r&&(r[c]=d)}return s}function Vi(n){return ye(()=>{const r=Gi(n);return Go(r),r})}function Ni(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function pr(n){return n[Le]||null}function Dr(n){return n[Me]||null}function cn(n){return n[he]||null}function Qt(n){const r=pr(n)||Dr(n)||cn(n);return null!==r&&r.standalone}function Hn(n,r){const s=n[je]||null;if(!s&&!0===r)throw new Error(`Type ${se(n)} does not have '\u0275mod' property.`);return s}function Gi(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||qt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zi(n.inputs,r),outputs:Zi(n.outputs)}}function Go(n){n.features?.forEach(r=>r(n))}function Wo(n,r){if(!n)return null;const s=r?cn:yi;return()=>("function"==typeof n?n():n).map(l=>s(l)).filter(so)}const lr=0,Wt=1,Ln=2,_r=3,si=4,nr=5,nn=6,on=7,Wn=8,Ge=9,Be=10,Oe=11,At=12,Jt=13,bn=14,cr=15,yr=16,fi=17,Sr=18,Fi=19,br=20,Wr=21,wr=22,No=1,_o=2,ys=7,vs=8,To=9,Ji=10;function Er(n){return Array.isArray(n)&&"object"==typeof n[No]}function pi(n){return Array.isArray(n)&&!0===n[No]}function vi(n){return 0!=(4&n.flags)}function Lr(n){return n.componentOffset>-1}function Mi(n){return 1==(1&n.flags)}function Li(n){return!!n.template}function Hr(n){return 0!=(256&n[Ln])}function ao(n,r){return n.hasOwnProperty(ft)?n[ft]:null}class Wa{constructor(r,s,l){this.previousValue=r,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Hs(){return Ts}function Ts(n){return n.type.prototype.ngOnChanges&&(n.setInput=to),Da}function Da(){const n=xs(this),r=n?.current;if(r){const s=n.previous;if(s===Qe)n.previous=r;else for(let l in r)s[l]=r[l];n.current=null,this.ngOnChanges(r)}}function to(n,r,s,l){const c=this.declaredInputs[s],d=xs(n)||function na(n,r){return n[ws]=r}(n,{previous:Qe,current:null}),v=d.current||(d.current={}),C=d.previous,R=C[c];v[c]=new Wa(R&&R.currentValue,r,C===Qe),n[l]=r}Hs.ngInherit=!0;const ws="__ngSimpleChanges__";function xs(n){return n[ws]||null}const Xi=function(n,r,s){},Sa="svg";function Yr(n){for(;Array.isArray(n);)n=n[lr];return n}function is(n,r){return Yr(r[n])}function Bi(n,r){return Yr(r[n.index])}function lo(n,r){return n.data[r]}function Si(n,r){return n[r]}function Yi(n,r){const s=r[n];return Er(s)?s:s[lr]}function ai(n){return 64==(64&n[Ln])}function Es(n,r){return null==r?null:n[r]}function Rs(n){n[Sr]=0}function no(n,r){n[nr]+=r;let s=n,l=n[_r];for(;null!==l&&(1===r&&1===s[nr]||-1===r&&0===s[nr]);)l[nr]+=r,s=l,l=l[_r]}const er={lFrame:ya(null),bindingsEnabled:!0};function ba(){return er.bindingsEnabled}function kt(){return er.lFrame.lView}function mr(){return er.lFrame.tView}function Za(n){return er.lFrame.contextLView=n,n[Wn]}function hs(n){return er.lFrame.contextLView=null,n}function Ai(){let n=sa();for(;null!==n&&64===n.type;)n=n.parent;return n}function sa(){return er.lFrame.currentTNode}function co(n,r){const s=er.lFrame;s.currentTNode=n,s.isParent=r}function Ca(){return er.lFrame.isParent}function $s(){er.lFrame.isParent=!1}function Ui(){const n=er.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Pa(){return er.lFrame.bindingIndex++}function as(n,r){const s=er.lFrame;s.bindingIndex=s.bindingRootIndex=n,Qo(r)}function Qo(n){er.lFrame.currentDirectiveIndex=n}function po(n){const r=er.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Po(){return er.lFrame.currentQueryIndex}function mo(n){er.lFrame.currentQueryIndex=n}function ps(n){const r=n[Wt];return 2===r.type?r.declTNode:1===r.type?n[nn]:null}function la(n,r,s){if(s&fn.SkipSelf){let c=r,d=n;for(;!(c=c.parent,null!==c||s&fn.Host||(c=ps(d),null===c||(d=d[cr],10&c.type))););if(null===c)return!1;r=c,n=d}const l=er.lFrame=ko();return l.currentTNode=r,l.lView=n,!0}function Os(n){const r=ko(),s=n[Wt];er.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ko(){const n=er.lFrame,r=null===n?null:n.child;return null===r?ya(n):r}function ya(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function mi(){const n=er.lFrame;return er.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Jo=mi;function Ao(){const n=mi();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function K(){return er.lFrame.selectedIndex}function _(n){er.lFrame.selectedIndex=n}function T(){const n=er.lFrame;return lo(n.tView,n.selectedIndex)}function F(){er.lFrame.currentNamespace=Sa}function ue(){!function xe(){er.lFrame.currentNamespace=null}()}function Ct(n,r){for(let s=r.directiveStart,l=r.directiveEnd;s<l;s++){const d=n.data[s].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:R,ngAfterViewChecked:Z,ngOnDestroy:le}=d;v&&(n.contentHooks??(n.contentHooks=[])).push(-s,v),C&&((n.contentHooks??(n.contentHooks=[])).push(s,C),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(s,C)),R&&(n.viewHooks??(n.viewHooks=[])).push(-s,R),Z&&((n.viewHooks??(n.viewHooks=[])).push(s,Z),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(s,Z)),null!=le&&(n.destroyHooks??(n.destroyHooks=[])).push(s,le)}}function gn(n,r,s){H(n,r,3,s)}function Pn(n,r,s,l){(3&n[Ln])===s&&H(n,r,s,l)}function P(n,r){let s=n[Ln];(3&s)===r&&(s&=2047,s+=1,n[Ln]=s)}function H(n,r,s,l){const d=l??-1,v=r.length-1;let C=0;for(let R=void 0!==l?65535&n[Sr]:0;R<v;R++)if("number"==typeof r[R+1]){if(C=r[R],null!=l&&C>=l)break}else r[R]<0&&(n[Sr]+=65536),(C<d||-1==d)&&(x(n,s,r,R),n[Sr]=(4294901760&n[Sr])+R+2),R++}function x(n,r,s,l){const c=s[l]<0,d=s[l+1],C=n[c?-s[l]:s[l]];if(c){if(n[Ln]>>11<n[Sr]>>16&&(3&n[Ln])===r){n[Ln]+=2048,Xi(4,C,d);try{d.call(C)}finally{Xi(5,C,d)}}}else{Xi(4,C,d);try{d.call(C)}finally{Xi(5,C,d)}}}const te=-1;class Te{constructor(r,s,l){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Mr(n,r,s){let l=0;for(;l<s.length;){const c=s[l];if("number"==typeof c){if(0!==c)break;l++;const d=s[l++],v=s[l++],C=s[l++];n.setAttribute(r,v,C,d)}else{const d=c,v=s[++l];go(d)?n.setProperty(r,d,v):n.setAttribute(r,d,v),l++}}return l}function wi(n){return 3===n||4===n||6===n}function go(n){return 64===n.charCodeAt(0)}function ro(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let l=0;l<r.length;l++){const c=r[l];"number"==typeof c?s=c:0===s||xo(n,s,c,null,-1===s||2===s?r[++l]:null)}}return n}function xo(n,r,s,l,c){let d=0,v=n.length;if(-1===r)v=-1;else for(;d<n.length;){const C=n[d++];if("number"==typeof C){if(C===r){v=-1;break}if(C>r){v=d-1;break}}}for(;d<n.length;){const C=n[d];if("number"==typeof C)break;if(C===s){if(null===l)return void(null!==c&&(n[d+1]=c));if(l===n[d+1])return void(n[d+2]=c)}d++,null!==l&&d++,null!==c&&d++}-1!==v&&(n.splice(v,0,r),d=v+1),n.splice(d++,0,s),null!==l&&n.splice(d++,0,l),null!==c&&n.splice(d++,0,c)}function Uo(n){return n!==te}function jo(n){return 32767&n}function jn(n,r){let s=function kn(n){return n>>16}(n),l=r;for(;s>0;)l=l[cr],s--;return l}let or=!0;function ni(n){const r=or;return or=n,r}const Ns=255,ls=5;let ca=0;const ee={};function M(n,r){const s=A(n,r);if(-1!==s)return s;const l=r[Wt];l.firstCreatePass&&(n.injectorIndex=r.length,L(l.data,n),L(r,null),L(l.blueprint,null));const c=q(n,r),d=n.injectorIndex;if(Uo(c)){const v=jo(c),C=jn(c,r),R=C[Wt].data;for(let Z=0;Z<8;Z++)r[d+Z]=C[v+Z]|R[v+Z]}return r[d+8]=c,d}function L(n,r){n.push(0,0,0,0,0,0,0,0,r)}function A(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function q(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,c=r;for(;null!==c;){if(l=Fs(c),null===l)return te;if(s++,c=c[cr],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return te}function $(n,r,s){!function U(n,r,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Lt)&&(l=s[Lt]),null==l&&(l=s[Lt]=ca++);const c=l&Ns;r.data[n+(c>>ls)]|=1<<c}(n,r,s)}function mn(n,r,s){if(s&fn.Optional||void 0!==n)return n;xt()}function $n(n,r,s,l){if(s&fn.Optional&&void 0===l&&(l=null),!(s&(fn.Self|fn.Host))){const c=n[Ge],d=oi(void 0);try{return c?c.get(r,l,s&fn.Optional):$i(r,l,s&fn.Optional)}finally{oi(d)}}return mn(l,0,s)}function Ur(n,r,s,l=fn.Default,c){if(null!==n){if(1024&r[Ln]){const v=function Ds(n,r,s,l,c){let d=n,v=r;for(;null!==d&&null!==v&&1024&v[Ln]&&!(256&v[Ln]);){const C=kr(d,v,s,l|fn.Self,ee);if(C!==ee)return C;let R=d.parent;if(!R){const Z=v[Wr];if(Z){const le=Z.get(s,ee,l);if(le!==ee)return le}R=Fs(v),v=v[cr]}d=R}return c}(n,r,s,l,ee);if(v!==ee)return v}const d=kr(n,r,s,l,ee);if(d!==ee)return d}return $n(r,s,l,c)}function kr(n,r,s,l,c){const d=function Bo(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Lt)?n[Lt]:void 0;return"number"==typeof r?r>=0?r&Ns:io:r}(s);if("function"==typeof d){if(!la(r,n,l))return l&fn.Host?mn(c,0,l):$n(r,s,l,c);try{const v=d(l);if(null!=v||l&fn.Optional)return v;xt()}finally{Jo()}}else if("number"==typeof d){let v=null,C=A(n,r),R=te,Z=l&fn.Host?r[yr][nn]:null;for((-1===C||l&fn.SkipSelf)&&(R=-1===C?q(n,r):r[C+8],R!==te&&Mo(l,!1)?(v=r[Wt],C=jo(R),r=jn(R,r)):C=-1);-1!==C;){const le=r[Wt];if(ji(d,C,le.data)){const Ce=ci(C,r,s,v,l,Z);if(Ce!==ee)return Ce}R=r[C+8],R!==te&&Mo(l,r[Wt].data[C+8]===Z)&&ji(d,C,r)?(v=le,C=jo(R),r=jn(R,r)):C=-1}}return c}function ci(n,r,s,l,c,d){const v=r[Wt],C=v.data[n+8],le=Kr(C,v,s,null==l?Lr(C)&&or:l!=v&&0!=(3&C.type),c&fn.Host&&d===C);return null!==le?bi(r,v,le,C):ee}function Kr(n,r,s,l,c){const d=n.providerIndexes,v=r.data,C=1048575&d,R=n.directiveStart,le=d>>20,qe=c?C+le:n.directiveEnd;for(let mt=l?C:C+le;mt<qe;mt++){const zt=v[mt];if(mt<R&&s===zt||mt>=R&&zt.type===s)return mt}if(c){const mt=v[R];if(mt&&Li(mt)&&mt.type===s)return R}return null}function bi(n,r,s,l){let c=n[s];const d=r.data;if(function it(n){return n instanceof Te}(c)){const v=c;v.resolving&&function _t(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Pt(-200,`Circular dependency in DI detected for ${n}${s}`)}(function un(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Mt(n)}(d[s]));const C=ni(v.canSeeViewProviders);v.resolving=!0;const R=v.injectImpl?oi(v.injectImpl):null;la(n,l,fn.Default);try{c=n[s]=v.factory(void 0,d,n,l),r.firstCreatePass&&s>=l.directiveStart&&function lt(n,r,s){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(l){const v=Ts(r);(s.preOrderHooks??(s.preOrderHooks=[])).push(n,v),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,v)}c&&(s.preOrderHooks??(s.preOrderHooks=[])).push(0-n,c),d&&((s.preOrderHooks??(s.preOrderHooks=[])).push(n,d),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,d))}(s,d[s],r)}finally{null!==R&&oi(R),ni(C),v.resolving=!1,Jo()}}return c}function ji(n,r,s){return!!(s[r+(n>>ls)]&1<<n)}function Mo(n,r){return!(n&fn.Self||n&fn.Host&&r)}class Ro{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,l){return Ur(this._tNode,this._lView,r,be(l),s)}}function io(){return new Ro(Ai(),kt())}function Xo(n){return ye(()=>{const r=n.prototype.constructor,s=r[ft]||Ho(r),l=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==l;){const d=c[ft]||Ho(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Ho(n){return vt(n)?()=>{const r=Ho(Ye(n));return r&&r()}:ao(n)}function Fs(n){const r=n[Wt],s=r.type;return 2===s?r.declTNode:1===s?n[nn]:null}function yo(n){return function Nt(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const l=s.length;let c=0;for(;c<l;){const d=s[c];if(wi(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<l&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(Ai(),n)}const es="__parameters__";function Ss(n,r,s){return ye(()=>{const l=function qn(n){return function(...s){if(n){const l=n(...s);for(const c in l)this[c]=l[c]}}}(r);function c(...d){if(this instanceof c)return l.apply(this,d),this;const v=new c(...d);return C.annotation=v,C;function C(R,Z,le){const Ce=R.hasOwnProperty(es)?R[es]:Object.defineProperty(R,es,{value:[]})[es];for(;Ce.length<=le;)Ce.push(null);return(Ce[le]=Ce[le]||[]).push(v),R}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Pi{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=In({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ei=Function;function Va(n,r){n.forEach(s=>Array.isArray(s)?Va(s,r):r(s))}function il(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function _a(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Ja(n,r){const s=[];for(let l=0;l<n;l++)s.push(r);return s}function k(n,r,s){let l=re(n,r);return l>=0?n[1|l]=s:(l=~l,function E(n,r,s,l){let c=n.length;if(c==r)n.push(s,l);else if(1===c)n.push(l,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=l}}(n,l,r,s)),l}function V(n,r){const s=re(n,r);if(s>=0)return n[1|s]}function re(n,r){return function Ze(n,r,s){let l=0,c=n.length>>s;for(;c!==l;){const d=l+(c-l>>1),v=n[d<<s];if(r===v)return d<<s;v>r?c=d:l=d+1}return~(c<<s)}(n,r,1)}const Hi=me(Ss("Inject",n=>({token:n})),-1),vl=me(Ss("Optional"),8),Xa=me(Ss("SkipSelf"),4);var sl=(()=>((sl=sl||{})[sl.Important=1]="Important",sl[sl.DashCase=2]="DashCase",sl))();const wc=new Map;let Cu=0;const ke="__ngContext__";function He(n,r){Er(r)?(n[ke]=r[br],function tc(n){wc.set(n[br],n)}(r)):n[ke]=r}let Cr;function gs(n,r){return Cr(n,r)}function Cs(n){const r=n[_r];return pi(r)?r[_r]:r}function Ba(n){return $l(n[Jt])}function Ha(n){return $l(n[si])}function $l(n){for(;null!==n&&!pi(n);)n=n[si];return n}function za(n,r,s,l,c){if(null!=l){let d,v=!1;pi(l)?d=l:Er(l)&&(v=!0,l=l[lr]);const C=Yr(l);0===n&&null!==s?null==c?Xn(r,s,C):En(r,s,C,c||null,!0):1===n&&null!==s?En(r,s,C,c||null,!0):2===n?function rd(n,r,s){const l=Na(n,r);l&&function Ea(n,r,s,l){n.removeChild(r,s,l)}(n,l,r,s)}(r,C,v):3===n&&r.destroyNode(C),null!=d&&function Dm(n,r,s,l,c){const d=s[ys];d!==Yr(s)&&za(r,n,l,d,c);for(let C=Ji;C<s.length;C++){const R=s[C];Pu(R[Wt],R,n,r,l,d)}}(r,n,d,s,c)}}function Sc(n,r,s){return n.createElement(r,s)}function S(n,r){const s=n[To],l=s.indexOf(r),c=r[_r];512&r[Ln]&&(r[Ln]&=-513,no(c,-1)),s.splice(l,1)}function Q(n,r){if(n.length<=Ji)return;const s=Ji+r,l=n[s];if(l){const c=l[fi];null!==c&&c!==n&&S(c,l),r>0&&(n[s-1][si]=l[si]);const d=_a(n,Ji+r);!function Nl(n,r){Pu(n,r,r[Oe],2,null,null),r[lr]=null,r[nn]=null}(l[Wt],l);const v=d[Fi];null!==v&&v.detachView(d[Wt]),l[_r]=null,l[si]=null,l[Ln]&=-65}return l}function oe(n,r){if(!(128&r[Ln])){const s=r[Oe];s.destroyNode&&Pu(n,r,s,3,null,null),function j(n){let r=n[Jt];if(!r)return Pe(n[Wt],n);for(;r;){let s=null;if(Er(r))s=r[Jt];else{const l=r[Ji];l&&(s=l)}if(!s){for(;r&&!r[si]&&r!==n;)Er(r)&&Pe(r[Wt],r),r=r[_r];null===r&&(r=n),Er(r)&&Pe(r[Wt],r),s=r&&r[si]}r=s}}(r)}}function Pe(n,r){if(!(128&r[Ln])){r[Ln]&=-65,r[Ln]|=128,function It(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const c=r[s[l]];if(!(c instanceof Te)){const d=s[l+1];if(Array.isArray(d))for(let v=0;v<d.length;v+=2){const C=c[d[v]],R=d[v+1];Xi(4,C,R);try{R.call(C)}finally{Xi(5,C,R)}}else{Xi(4,c,d);try{d.call(c)}finally{Xi(5,c,d)}}}}}(n,r),function ze(n,r){const s=n.cleanup,l=r[on];let c=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const v=s[d+3];v>=0?l[c=v]():l[c=-v].unsubscribe(),d+=2}else{const v=l[c=s[d+1]];s[d].call(v)}if(null!==l){for(let d=c+1;d<l.length;d++)(0,l[d])();r[on]=null}}(n,r),1===r[Wt].type&&r[Oe].destroy();const s=r[fi];if(null!==s&&pi(r[_r])){s!==r[_r]&&S(s,r);const l=r[Fi];null!==l&&l.detachView(n)}!function nu(n){wc.delete(n[br])}(r)}}function Yt(n,r,s){return function rr(n,r,s){let l=r;for(;null!==l&&40&l.type;)l=(r=l).parent;if(null===l)return s[lr];{const{componentOffset:c}=l;if(c>-1){const{encapsulation:d}=n.data[l.directiveStart+c];if(d===rt.None||d===rt.Emulated)return null}return Bi(l,s)}}(n,r.parent,s)}function En(n,r,s,l,c){n.insertBefore(r,s,l,c)}function Xn(n,r,s){n.appendChild(r,s)}function Oi(n,r,s,l,c){null!==l?En(n,r,s,l,c):Xn(n,r,s)}function Na(n,r){return n.parentNode(r)}function Ii(n,r,s){return El(n,r,s)}let Il,ku,Yl,id,El=function Di(n,r,s){return 40&n.type?Bi(n,s):null};function bc(n,r,s,l){const c=Yt(n,l,r),d=r[Oe],C=Ii(l.parent||r[nn],l,r);if(null!=c)if(Array.isArray(s))for(let R=0;R<s.length;R++)Oi(d,c,s[R],C,!1);else Oi(d,c,s,C,!1);void 0!==Il&&Il(d,l,r,s,c)}function Fl(n,r){if(null!==r){const s=r.type;if(3&s)return Bi(r,n);if(4&s)return ru(-1,n[r.index]);if(8&s){const l=r.child;if(null!==l)return Fl(n,l);{const c=n[r.index];return pi(c)?ru(-1,c):Yr(c)}}if(32&s)return gs(r,n)()||Yr(n[r.index]);{const l=Cc(n,r);return null!==l?Array.isArray(l)?l[0]:Fl(Cs(n[yr]),l):Fl(n,r.next)}}return null}function Cc(n,r){return null!==r?n[yr][nn].projection[r.projection]:null}function ru(n,r){const s=Ji+n+1;if(s<r.length){const l=r[s],c=l[Wt].firstChild;if(null!==c)return Fl(l,c)}return r[ys]}function Wd(n,r,s,l,c,d,v){for(;null!=s;){const C=l[s.index],R=s.type;if(v&&0===r&&(C&&He(Yr(C),l),s.flags|=2),32!=(32&s.flags))if(8&R)Wd(n,r,s.child,l,c,d,!1),za(r,n,c,C,d);else if(32&R){const Z=gs(s,l);let le;for(;le=Z();)za(r,n,c,le,d);za(r,n,c,C,d)}else 16&R?Kd(n,r,l,s,c,d):za(r,n,c,C,d);s=v?s.projectionNext:s.next}}function Pu(n,r,s,l,c,d){Wd(s,l,n.firstChild,r,c,d,!1)}function Kd(n,r,s,l,c,d){const v=s[yr],R=v[nn].projection[l.projection];if(Array.isArray(R))for(let Z=0;Z<R.length;Z++)za(r,n,c,R[Z],d);else Wd(n,r,R,v[_r],c,d,!0)}function Ff(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function Lf(n,r,s){const{mergedAttrs:l,classes:c,styles:d}=s;null!==l&&Mr(n,r,l),null!==c&&Ff(n,r,c),null!==d&&function Sm(n,r,s){n.setAttribute(r,"style",s)}(n,r,d)}function Ll(n){return function rc(){if(void 0===ku&&(ku=null,Ar.trustedTypes))try{ku=Ar.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ku}()?.createHTML(n)||n}function Yf(n){Yl=n}function od(){if(void 0===id&&(id=null,Ar.trustedTypes))try{id=Ar.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return id}function sd(n){return od()?.createHTML(n)||n}function Pc(n){return od()?.createScriptURL(n)||n}class Ys{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rt})`}}class Vh extends Ys{getTypeName(){return"HTML"}}class Jd extends Ys{getTypeName(){return"Style"}}class ad extends Ys{getTypeName(){return"Script"}}class Uf extends Ys{getTypeName(){return"URL"}}class Bh extends Ys{getTypeName(){return"ResourceURL"}}function ml(n){return n instanceof Ys?n.changingThisBreaksApplicationSecurity:n}function ou(n,r){const s=function jf(n){return n instanceof Ys&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Rt})`)}return s===r}function Cm(n){return new Vh(n)}function ic(n){return new Jd(n)}function Vf(n){return new ad(n)}function nl(n){return new Uf(n)}function Bf(n){return new Bh(n)}class Hf{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Ll(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class ql{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=Ll(r),s}}const xu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Xd(n){return(n=String(n)).match(xu)?n:"unsafe:"+n}function oc(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Xr(...n){const r={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(r[l]=!0);return r}const $f=oc("area,br,col,hr,img,wbr"),eh=oc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hh=oc("rp,rt"),$h=Xr($f,Xr(eh,oc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xr(Hh,oc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xr(Hh,eh)),Gh=oc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kc=Xr(Gh,oc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),B=oc("script,style,template");class f{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!$h.hasOwnProperty(s))return this.sanitizedSomething=!0,!B.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=r.attributes;for(let c=0;c<l.length;c++){const d=l.item(c),v=d.name,C=v.toLowerCase();if(!kc.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let R=d.value;Gh[C]&&(R=Xd(R)),this.buf.push(" ",v,'="',ne(R),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();$h.hasOwnProperty(s)&&!$f.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(ne(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~ |!])/g;function ne(n){return n.replace(/&/g,"&amp;").replace(y,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(b,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ce;function Se(n,r){let s=null;try{ce=ce||function Au(n){const r=new ql(n);return function zf(){try{return!!(new window.DOMParser).parseFromString(Ll(""),"text/html")}catch{return!1}}()?new Hf(r):r}(n);let l=r?String(r):"";s=ce.getInertBodyElement(l);let c=5,d=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=d,d=s.innerHTML,s=ce.getInertBodyElement(l)}while(l!==d);return Ll((new f).sanitizeChildren($e(s)||s))}finally{if(s){const l=$e(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function $e(n){return"content"in n&&function ot(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var St=(()=>((St=St||{})[St.NONE=0]="NONE",St[St.HTML=1]="HTML",St[St.STYLE=2]="STYLE",St[St.SCRIPT=3]="SCRIPT",St[St.URL=4]="URL",St[St.RESOURCE_URL=5]="RESOURCE_URL",St))();function sr(n){const r=Ac();return r?sd(r.sanitize(St.HTML,n)||""):ou(n,"HTML")?sd(ml(n)):Se(function iu(){return void 0!==Yl?Yl:typeof document<"u"?document:void 0}(),Mt(n))}function gr(n){const r=Ac();return r?r.sanitize(St.URL,n)||"":ou(n,"URL")?ml(n):Xd(Mt(n))}function Ki(n){const r=Ac();if(r)return Pc(r.sanitize(St.RESOURCE_URL,n)||"");if(ou(n,"ResourceURL"))return Pc(ml(n));throw new Pt(904,!1)}function Sl(n,r,s){return function Dl(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Ki:gr}(r,s)(n)}function Ac(){const n=kt();return n&&n[At]}const jl=new Pi("ENVIRONMENT_INITIALIZER"),Mu=new Pi("INJECTOR",-1),cd=new Pi("INJECTOR_DEF_TYPES");class su{get(r,s=ei){if(s===ei){const l=new Error(`NullInjectorError: No provider for ${se(r)}!`);throw l.name="NullInjectorError",l}return s}}function nh(n){return{\u0275providers:n}}function My(...n){return{\u0275providers:xm(0,n),\u0275fromNgModule:!0}}function xm(n,...r){const s=[],l=new Set;let c;return Va(r,d=>{const v=d;zi(v,s,[],l)&&(c||(c=[]),c.push(v))}),void 0!==c&&Zs(c,s),s}function Zs(n,r){for(let s=0;s<n.length;s++){const{providers:c}=n[s];Kh(c,d=>{r.push(d)})}}function zi(n,r,s,l){if(!(n=Ye(n)))return!1;let c=null,d=Jn(n);const v=!d&&pr(n);if(d||v){if(v&&!v.standalone)return!1;c=n}else{const R=n.ngModule;if(d=Jn(R),!d)return!1;c=R}const C=l.has(c);if(v){if(C)return!1;if(l.add(c),v.dependencies){const R="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const Z of R)zi(Z,r,s,l)}}else{if(!d)return!1;{if(null!=d.imports&&!C){let Z;l.add(c);try{Va(d.imports,le=>{zi(le,r,s,l)&&(Z||(Z=[]),Z.push(le))})}finally{}void 0!==Z&&Zs(Z,r)}if(!C){const Z=ao(c)||(()=>new c);r.push({provide:c,useFactory:Z,deps:qt},{provide:cd,useValue:c,multi:!0},{provide:jl,useValue:()=>Rn(c),multi:!0})}const R=d.providers;null==R||C||Kh(R,le=>{r.push(le)})}}return c!==n&&void 0!==n.providers}function Kh(n,r){for(let s of n)Ue(s)&&(s=s.\u0275providers),Array.isArray(s)?Kh(s,r):r(s)}const Gf=Ie({provide:String,useValue:Ie});function ud(n){return null!==n&&"object"==typeof n&&Gf in n}function au(n){return"function"==typeof n}const rh=new Pi("Set Injector scope."),lu={},ih={};let Ru;function Ou(){return void 0===Ru&&(Ru=new su),Ru}class cu{}class Kf extends cu{get destroyed(){return this._destroyed}constructor(r,s,l,c){super(),this.parent=s,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oh(r,v=>this.processProvider(v)),this.records.set(Mu,dd(void 0,this)),c.has("environment")&&this.records.set(cu,dd(void 0,this));const d=this.records.get(rh);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(cd.multi,qt,fn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Vt(this),l=oi(void 0);try{return r()}finally{Vt(s),oi(l)}}get(r,s=ei,l=fn.Default){this.assertNotDestroyed(),l=be(l);const c=Vt(this),d=oi(void 0);try{if(!(l&fn.SkipSelf)){let C=this.records.get(r);if(void 0===C){const R=function Ly(n){return"function"==typeof n||"object"==typeof n&&n instanceof Pi}(r)&&Kn(r);C=R&&this.injectableDefInScope(R)?dd(qh(r),lu):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(l&fn.Self?Ou():this.parent).get(r,s=l&fn.Optional&&s===ei?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[Fr]=v[Fr]||[]).unshift(se(r)),c)throw v;return function dt(n,r,s,l){const c=n[Fr];throw r[wt]&&c.unshift(r[wt]),n.message=function ve(n,r,s,l=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Ke?n.slice(2):n;let c=se(r);if(Array.isArray(r))c=r.map(se).join(" -> ");else if("object"==typeof r){let d=[];for(let v in r)if(r.hasOwnProperty(v)){let C=r[v];d.push(v+":"+("string"==typeof C?JSON.stringify(C):se(C)))}c=`{${d.join(", ")}}`}return`${s}${l?"("+l+")":""}[${c}]: ${n.replace(Nn,"\n  ")}`}("\n"+n.message,c,s,l),n[Br]=c,n[Fr]=null,n}(v,r,"R3InjectorError",this.source)}throw v}finally{oi(d),Vt(c)}}resolveInjectorInitializers(){const r=Vt(this),s=oi(void 0);try{const l=this.get(jl.multi,qt,fn.Self);for(const c of l)c()}finally{Vt(r),oi(s)}}toString(){const r=[],s=this.records;for(const l of s.keys())r.push(se(l));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pt(205,!1)}processProvider(r){let s=au(r=Ye(r))?r:Ye(r&&r.provide);const l=function Om(n){return ud(n)?dd(void 0,n.useValue):dd(qf(n),lu)}(r);if(au(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=dd(void 0,lu,!0),c.factory=()=>fe(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,l)}hydrate(r,s){return s.value===lu&&(s.value=ih,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Fy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Ye(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function qh(n){const r=Kn(n),s=null!==r?r.factory:ao(n);if(null!==s)return s;if(n instanceof Pi)throw new Pt(204,!1);if(n instanceof Function)return function Oy(n){const r=n.length;if(r>0)throw Ja(r,"?"),new Pt(204,!1);const s=function Or(n){return n&&(n[Tr]||n[Qr])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Pt(204,!1)}function qf(n,r,s){let l;if(au(n)){const c=Ye(n);return ao(c)||qh(c)}if(ud(n))l=()=>Ye(n.useValue);else if(function Mm(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...fe(n.deps||[]));else if(function Wf(n){return!(!n||!n.useExisting)}(n))l=()=>Rn(Ye(n.useExisting));else{const c=Ye(n&&(n.useClass||n.provide));if(!function Ny(n){return!!n.deps}(n))return ao(c)||qh(c);l=()=>new c(...fe(n.deps))}return l}function dd(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function oh(n,r){for(const s of n)Array.isArray(s)?oh(s,r):s&&Ue(s)?oh(s.\u0275providers,r):r(s)}class hd{}class Zf{}class Fm{resolveComponentFactory(r){throw function Yy(n){const r=Error(`No component factory found for ${se(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let xc=(()=>{class n{}return n.NULL=new Fm,n})();function sc(){return uu(Ai(),kt())}function uu(n,r){return new fd(Bi(n,r))}let fd=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=sc,n})();function sh(n){return n instanceof fd?n.nativeElement:n}class Qf{}let Lm=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Ym(){const n=kt(),s=Yi(Ai().index,n);return(Er(s)?s:n)[Oe]}(),n})(),Uy=(()=>{class n{}return n.\u0275prov=In({token:n,providedIn:"root",factory:()=>null}),n})();class Um{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const pd=new Um("15.2.9"),ah={},Jf="ngOriginalError";function lh(n){return n[Jf]}class md{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&lh(r);for(;s&&lh(s);)s=lh(s);return s||null}}function Mc(n){return n instanceof Function?n():n}function hu(n,r,s){let l=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const d=r.length;if(c+d===l||n.charCodeAt(c+d)<=32)return c}s=c+1}}const fu="ng-template";function Fu(n,r,s){let l=0,c=!0;for(;l<n.length;){let d=n[l++];if("string"==typeof d&&c){const v=n[l++];if(s&&"class"===d&&-1!==hu(v.toLowerCase(),r,0))return!0}else{if(1===d){for(;l<n.length&&"string"==typeof(d=n[l++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function yd(n){return 4===n.type&&n.value!==fu}function Hm(n,r,s){return r===(4!==n.type||s?n.value:fu)}function tp(n,r,s){let l=4;const c=n.attrs||[],d=function $m(n){for(let r=0;r<n.length;r++)if(wi(n[r]))return r;return n.length}(c);let v=!1;for(let C=0;C<r.length;C++){const R=r[C];if("number"!=typeof R){if(!v)if(4&l){if(l=2|1&l,""!==R&&!Hm(n,R,s)||""===R&&1===r.length){if(bl(l))return!1;v=!0}}else{const Z=8&l?R:r[++C];if(8&l&&null!==n.attrs){if(!Fu(n.attrs,Z,s)){if(bl(l))return!1;v=!0}continue}const Ce=zm(8&l?"class":R,c,yd(n),s);if(-1===Ce){if(bl(l))return!1;v=!0;continue}if(""!==Z){let qe;qe=Ce>d?"":c[Ce+1].toLowerCase();const mt=8&l?qe:null;if(mt&&-1!==hu(mt,Z,0)||2&l&&Z!==qe){if(bl(l))return!1;v=!0}}}}else{if(!v&&!bl(l)&&!bl(R))return!1;if(v&&bl(R))continue;v=!1,l=R|1&l}}return bl(l)||v}function bl(n){return 0==(1&n)}function zm(n,r,s,l){if(null===r)return-1;let c=0;if(l||!s){let d=!1;for(;c<r.length;){const v=r[c];if(v===n)return c;if(3===v||6===v)d=!0;else{if(1===v||2===v){let C=r[++c];for(;"string"==typeof C;)C=r[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=d?1:2}return-1}return function Gm(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===r)return s;s++}return-1}(r,n)}function np(n,r,s=!1){for(let l=0;l<r.length;l++)if(tp(n,r[l],s))return!0;return!1}function Zh(n,r){e:for(let s=0;s<r.length;s++){const l=r[s];if(n.length===l.length){for(let c=0;c<n.length;c++)if(n[c]!==l[c])continue e;return!0}}return!1}function vd(n,r){return n?":not("+r.trim()+")":r}function Lu(n){let r=n[0],s=1,l=2,c="",d=!1;for(;s<n.length;){let v=n[s];if("string"==typeof v)if(2&l){const C=n[++s];c+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?c+="."+v:4&l&&(c+=" "+v);else""!==c&&!bl(v)&&(r+=vd(d,c),c=""),l=v,d=d||!bl(l);s++}return""!==c&&(r+=vd(d,c)),r}const ui={};function Km(n){qm(mr(),kt(),K()+n,!1)}function qm(n,r,s,l){if(!l)if(3==(3&r[Ln])){const d=n.preOrderCheckHooks;null!==d&&gn(r,d,s)}else{const d=n.preOrderHooks;null!==d&&Pn(r,d,0,s)}_(s)}function sp(n,r=null,s=null,l){const c=Qh(n,r,s,l);return c.resolveInjectorInitializers(),c}function Qh(n,r=null,s=null,l,c=new Set){const d=[s||qt,My(n)];return l=l||("object"==typeof n?void 0:se(n)),new Kf(d,r||Ou(),l||null,c)}let Oc=(()=>{class n{static create(s,l){if(Array.isArray(s))return sp({name:""},l,s,"");{const c=s.name??"";return sp({name:c},s.parent,s.providers,c)}}}return n.THROW_IF_NOT_FOUND=ei,n.NULL=new su,n.\u0275prov=In({token:n,providedIn:"any",factory:()=>Rn(Mu)}),n.__NG_ELEMENT_ID__=-1,n})();function Fc(n,r=fn.Default){const s=kt();return null===s?Rn(n,r):Ur(Ai(),s,Ye(n),r)}function ng(){throw new Error("invalid")}function mp(n,r){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const d=s[l+1];if(-1!==d){const v=n.data[d];mo(s[l]),v.contentQueries(2,r[d],d)}}}function ac(n,r,s,l,c,d,v,C,R,Z,le){const Ce=r.blueprint.slice();return Ce[lr]=c,Ce[Ln]=76|l,(null!==le||n&&1024&n[Ln])&&(Ce[Ln]|=1024),Rs(Ce),Ce[_r]=Ce[cr]=n,Ce[Wn]=s,Ce[Be]=v||n&&n[Be],Ce[Oe]=C||n&&n[Oe],Ce[At]=R||n&&n[At]||null,Ce[Ge]=Z||n&&n[Ge]||null,Ce[nn]=d,Ce[br]=function tu(){return Cu++}(),Ce[Wr]=le,Ce[yr]=2==r.type?n[yr]:Ce,Ce}function lc(n,r,s,l,c){let d=n.data[r];if(null===d)d=function ef(n,r,s,l,c){const d=sa(),v=Ca(),R=n.data[r]=function nv(n,r,s,l,c,d){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?d:d&&d.parent,s,r,l,c);return null===n.firstChild&&(n.firstChild=R),null!==d&&(v?null==d.child&&null!==R.parent&&(d.child=R):null===d.next&&(d.next=R,R.prev=d)),R}(n,r,s,l,c),function fs(){return er.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=l,d.attrs=c;const v=function ho(){const n=er.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();d.injectorIndex=null===v?-1:v.injectorIndex}return co(d,!0),d}function Ed(n,r,s,l){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(l),n.blueprint.push(l),n.data.push(null);return c}function gp(n,r,s){Os(r);try{const l=n.viewQuery;null!==l&&Dp(1,l,s);const c=n.template;null!==c&&ig(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&mp(n,r),n.staticViewQueries&&Dp(2,n.viewQuery,s);const d=n.components;null!==d&&function rg(n,r){for(let s=0;s<r.length;s++)yh(n,r[s])}(r,d)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{r[Ln]&=-5,Ao()}}function dh(n,r,s,l){const c=r[Ln];if(128!=(128&c)){Os(r);try{Rs(r),function ss(n){return er.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&ig(n,r,s,2,l);const v=3==(3&c);if(v){const Z=n.preOrderCheckHooks;null!==Z&&gn(r,Z,null)}else{const Z=n.preOrderHooks;null!==Z&&Pn(r,Z,0,null),P(r,0)}if(function pg(n){for(let r=Ba(n);null!==r;r=Ha(r)){if(!r[_o])continue;const s=r[To];for(let l=0;l<s.length;l++){const c=s[l];512&c[Ln]||no(c[_r],1),c[Ln]|=512}}}(r),function fg(n){for(let r=Ba(n);null!==r;r=Ha(r))for(let s=Ji;s<r.length;s++){const l=r[s],c=l[Wt];ai(l)&&dh(c,l,c.template,l[Wn])}}(r),null!==n.contentQueries&&mp(n,r),v){const Z=n.contentCheckHooks;null!==Z&&gn(r,Z)}else{const Z=n.contentHooks;null!==Z&&Pn(r,Z,1),P(r,1)}!function Jy(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const c=s[l];if(c<0)_(~c);else{const d=c,v=s[++l],C=s[++l];as(v,d),C(2,r[d])}}}finally{_(-1)}}(n,r);const C=n.components;null!==C&&function Xy(n,r){for(let s=0;s<r.length;s++)Ip(n,r[s])}(r,C);const R=n.viewQuery;if(null!==R&&Dp(2,R,l),v){const Z=n.viewCheckHooks;null!==Z&&gn(r,Z)}else{const Z=n.viewHooks;null!==Z&&Pn(r,Z,2),P(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[Ln]&=-41,512&r[Ln]&&(r[Ln]&=-513,no(r[_r],-1))}finally{Ao()}}}function ig(n,r,s,l,c){const d=K(),v=2&l;try{_(-1),v&&r.length>wr&&qm(n,r,wr,!1),Xi(v?2:0,c),s(l,c)}finally{_(d),Xi(v?3:1,c)}}function yp(n,r,s){if(vi(r)){const c=r.directiveEnd;for(let d=r.directiveStart;d<c;d++){const v=n.data[d];v.contentQueries&&v.contentQueries(1,s[d],d)}}}function hh(n,r,s){ba()&&(function lg(n,r,s,l){const c=s.directiveStart,d=s.directiveEnd;Lr(s)&&function rf(n,r,s){const l=Bi(r,n),c=og(s),d=n[Be],v=bd(n,ac(n,c,null,s.onPush?32:16,l,r,d,d.createRenderer(l,s),null,null,null));n[r.index]=v}(r,s,n.data[c+s.componentOffset]),n.firstCreatePass||M(s,r),He(l,r);const v=s.initialInputs;for(let C=c;C<d;C++){const R=n.data[C],Z=bi(r,n,C,s);He(Z,r),null!==v&&dg(0,C-c,Z,R,0,v),Li(R)&&(Yi(s.index,r)[Wn]=bi(r,n,C,s))}}(n,r,s,Bi(s,r)),64==(64&s.flags)&&wp(n,r,s))}function da(n,r,s=Bi){const l=r.localNames;if(null!==l){let c=r.index+1;for(let d=0;d<l.length;d+=2){const v=l[d+1],C=-1===v?s(r,n):n[v];n[c++]=C}}}function og(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=vp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function vp(n,r,s,l,c,d,v,C,R,Z){const le=wr+l,Ce=le+c,qe=function ev(n,r){const s=[];for(let l=0;l<r;l++)s.push(l<n?null:ui);return s}(le,Ce),mt="function"==typeof Z?Z():Z;return qe[Wt]={type:n,blueprint:qe,template:s,queries:null,viewQuery:C,declTNode:r,data:qe.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:R,consts:mt,incompleteFirstPass:!1}}function tf(n,r,s,l){const c=vh(r);null===s?c.push(l):(c.push(s),n.firstCreatePass&&lf(n).push(l,c.length-1))}function fh(n,r,s,l){for(let c in n)if(n.hasOwnProperty(c)){s=null===s?{}:s;const d=n[c];null===l?ph(s,r,c,d):l.hasOwnProperty(c)&&ph(s,r,l[c],d)}return s}function ph(n,r,s,l){n.hasOwnProperty(s)?n[s].push(r,l):n[s]=[r,l]}function cl(n,r,s,l,c,d,v,C){const R=Bi(r,s);let le,Z=r.inputs;!C&&null!=Z&&(le=Z[l])?(Fa(n,s,le,l,c),Lr(r)&&function _p(n,r){const s=Yi(r,n);16&s[Ln]||(s[Ln]|=32)}(s,r.index)):3&r.type&&(l=function sg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),c=null!=v?v(c,r.value||"",l):c,d.setProperty(R,l,c))}function gh(n,r,s,l){if(ba()){const c=null===l?null:{"":-1},d=function cg(n,r){const s=n.directiveRegistry;let l=null,c=null;if(s)for(let d=0;d<s.length;d++){const v=s[d];if(np(r,v.selectors,!1))if(l||(l=[]),Li(v))if(null!==v.findHostDirectiveDefs){const C=[];c=c||new Map,v.findHostDirectiveDefs(v,C,c),l.unshift(...C,v),Ep(n,r,C.length)}else l.unshift(v),Ep(n,r,0);else c=c||new Map,v.findHostDirectiveDefs?.(v,l,c),l.push(v)}return null===l?null:[l,c]}(n,s);let v,C;null===d?v=C=null:[v,C]=d,null!==v&&nf(n,r,s,v,c,C),c&&function ug(n,r,s){if(r){const l=n.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new Pt(-301,!1);l.push(r[c],d)}}}(s,l,c)}s.mergedAttrs=ro(s.mergedAttrs,s.attrs)}function nf(n,r,s,l,c,d){for(let Z=0;Z<l.length;Z++)$(M(s,r),n,l[Z].type);!function Id(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,l.length);for(let Z=0;Z<l.length;Z++){const le=l[Z];le.providersResolver&&le.providersResolver(le)}let v=!1,C=!1,R=Ed(n,r,l.length,null);for(let Z=0;Z<l.length;Z++){const le=l[Z];s.mergedAttrs=ro(s.mergedAttrs,le.hostAttrs),Dd(n,s,r,R,le),sv(R,le,c),null!==le.contentQueries&&(s.flags|=4),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(s.flags|=64);const Ce=le.type.prototype;!v&&(Ce.ngOnChanges||Ce.ngOnInit||Ce.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(s.index),v=!0),!C&&(Ce.ngOnChanges||Ce.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(s.index),C=!0),R++}!function rv(n,r,s){const c=r.directiveEnd,d=n.data,v=r.attrs,C=[];let R=null,Z=null;for(let le=r.directiveStart;le<c;le++){const Ce=d[le],qe=s?s.get(Ce):null,zt=qe?qe.outputs:null;R=fh(Ce.inputs,le,R,qe?qe.inputs:null),Z=fh(Ce.outputs,le,Z,zt);const Sn=null===R||null===v||yd(r)?null:av(R,le,v);C.push(Sn)}null!==R&&(R.hasOwnProperty("class")&&(r.flags|=8),R.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=C,r.inputs=R,r.outputs=Z}(n,s,d)}function wp(n,r,s){const l=s.directiveStart,c=s.directiveEnd,d=s.index,v=function ja(){return er.lFrame.currentDirectiveIndex}();try{_(d);for(let C=l;C<c;C++){const R=n.data[C],Z=r[C];Qo(C),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&ov(R,Z)}}finally{_(-1),Qo(v)}}function ov(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Ep(n,r,s){r.componentOffset=s,(n.components??(n.components=[])).push(r.index)}function sv(n,r,s){if(s){if(r.exportAs)for(let l=0;l<r.exportAs.length;l++)s[r.exportAs[l]]=n;Li(r)&&(s[""]=n)}}function Dd(n,r,s,l,c){n.data[l]=c;const d=c.factory||(c.factory=ao(c.type)),v=new Te(d,Li(c),Fc);n.blueprint[l]=v,s[l]=v,function ag(n,r,s,l,c){const d=c.hostBindings;if(d){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const C=~r.index;(function iv(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(v)!=C&&v.push(C),v.push(s,l,d)}}(n,r,l,Ed(n,s,c.hostVars,ui),c)}function Zl(n,r,s,l,c,d){const v=Bi(n,r);!function sf(n,r,s,l,c,d,v){if(null==d)n.removeAttribute(r,c,s);else{const C=null==v?Mt(d):v(d,l||"",c);n.setAttribute(r,c,C,s)}}(r[Oe],v,d,n.value,s,l,c)}function dg(n,r,s,l,c,d){const v=d[r];if(null!==v){const C=l.setInput;for(let R=0;R<v.length;){const Z=v[R++],le=v[R++],Ce=v[R++];null!==C?l.setInput(s,Ce,Z,le):s[le]=Ce}}}function av(n,r,s){let l=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(n.hasOwnProperty(d)){null===l&&(l=[]);const v=n[d];for(let C=0;C<v.length;C+=2)if(v[C]===r){l.push(d,v[C+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return l}function hg(n,r,s,l){return[n,!0,!1,r,null,0,l,s,null,null]}function Ip(n,r){const s=Yi(r,n);if(ai(s)){const l=s[Wt];48&s[Ln]?dh(l,s,l.template,s[Wn]):s[nr]>0&&Sd(s)}}function Sd(n){for(let l=Ba(n);null!==l;l=Ha(l))for(let c=Ji;c<l.length;c++){const d=l[c];if(ai(d))if(512&d[Ln]){const v=d[Wt];dh(v,d,v.template,d[Wn])}else d[nr]>0&&Sd(d)}const s=n[Wt].components;if(null!==s)for(let l=0;l<s.length;l++){const c=Yi(s[l],n);ai(c)&&c[nr]>0&&Sd(c)}}function yh(n,r){const s=Yi(r,n),l=s[Wt];(function af(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(l,s),gp(l,s,s[Wn])}function bd(n,r){return n[Jt]?n[bn][si]=r:n[Jt]=r,n[bn]=r,r}function Cd(n){for(;n;){n[Ln]|=32;const r=Cs(n);if(Hr(n)&&!r)return n;n=r}return null}function Pd(n,r,s,l=!0){const c=r[Be];c.begin&&c.begin();try{dh(n,r,n.template,s)}catch(v){throw l&&gg(r,v),v}finally{c.end&&c.end()}}function Dp(n,r,s){mo(0),r(n,s)}function vh(n){return n[on]||(n[on]=[])}function lf(n){return n.cleanup||(n.cleanup=[])}function gg(n,r){const s=n[Ge],l=s?s.get(md,null):null;l&&l.handleError(r)}function Fa(n,r,s,l,c){for(let d=0;d<s.length;){const v=s[d++],C=s[d++],R=r[v],Z=n.data[v];null!==Z.setInput?Z.setInput(R,c,l,C):R[C]=c}}function _h(n,r,s){let l=s?n.styles:null,c=s?n.classes:null,d=0;if(null!==r)for(let v=0;v<r.length;v++){const C=r[v];"number"==typeof C?d=C:1==d?c=Re(c,C):2==d&&(l=Re(l,C+": "+r[++v]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=c:n.classesWithoutHost=c}function Hu(n,r,s,l,c=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&l.push(Yr(d)),pi(d))for(let C=Ji;C<d.length;C++){const R=d[C],Z=R[Wt].firstChild;null!==Z&&Hu(R[Wt],R,Z,l)}const v=s.type;if(8&v)Hu(n,r,s.child,l);else if(32&v){const C=gs(s,r);let R;for(;R=C();)l.push(R)}else if(16&v){const C=Cc(r,s);if(Array.isArray(C))l.push(...C);else{const R=Cs(r[yr]);Hu(R[Wt],R,C,l,!0)}}s=c?s.projectionNext:s.next}return l}class Yc{get rootNodes(){const r=this._lView,s=r[Wt];return Hu(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wn]}set context(r){this._lView[Wn]=r}get destroyed(){return 128==(128&this._lView[Ln])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[_r];if(pi(r)){const s=r[vs],l=s?s.indexOf(this):-1;l>-1&&(Q(r,l),_a(s,l))}this._attachedToViewContainer=!1}oe(this._lView[Wt],this._lView)}onDestroy(r){tf(this._lView[Wt],this._lView,null,r)}markForCheck(){Cd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ln]&=-65}reattach(){this._lView[Ln]|=64}detectChanges(){Pd(this._lView[Wt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nc(n,r){Pu(n,r,r[Oe],2,null,null)}(this._lView[Wt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Pt(902,!1);this._appRef=r}}class Sp extends Yc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Pd(r[Wt],r,r[Wn],!1)}checkNoChanges(){}get context(){return null}}class bp extends xc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=pr(r);return new Th(s,this.ngModule)}}function yg(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class dv{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,l){l=be(l);const c=this.injector.get(r,ah,l);return c!==ah||s===ah?c:this.parentInjector.get(r,s,l)}}class Th extends Zf{get inputs(){return yg(this.componentDef.inputs)}get outputs(){return yg(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Gy(n){return n.map(Lu).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,l,c){let d=(c=c||this.ngModule)instanceof cu?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const v=d?new dv(r,d):r,C=v.get(Qf,null);if(null===C)throw new Pt(407,!1);const R=v.get(Uy,null),Z=C.createRenderer(null,this.componentDef),le=this.componentDef.selectors[0][0]||"div",Ce=l?function tv(n,r,s){return n.selectRootElement(r,s===rt.ShadowDom)}(Z,l,this.componentDef.encapsulation):Sc(Z,le,function uv(n){const r=n.toLowerCase();return"svg"===r?Sa:"math"===r?"math":null}(le)),qe=this.componentDef.onPush?288:272,mt=vp(0,null,null,1,0,null,null,null,null,null),zt=ac(null,mt,null,qe,null,null,C,Z,R,v,null);let Sn,zn;Os(zt);try{const ur=this.componentDef;let Zr,dn=null;ur.findHostDirectiveDefs?(Zr=[],dn=new Map,ur.findHostDirectiveDefs(ur,Zr,dn),Zr.push(ur)):Zr=[ur];const hi=function wh(n,r){const s=n[Wt],l=wr;return n[l]=r,lc(s,l,2,"#host",null)}(zt,Ce),js=function kd(n,r,s,l,c,d,v,C){const R=c[Wt];!function cf(n,r,s,l){for(const c of n)r.mergedAttrs=ro(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(_h(r,r.mergedAttrs,!0),null!==s&&Lf(l,s,r))}(l,n,r,v);const Z=d.createRenderer(r,s),le=ac(c,og(s),null,s.onPush?32:16,c[n.index],n,d,Z,C||null,null,null);return R.firstCreatePass&&Ep(R,n,l.length-1),bd(c,le),c[n.index]=le}(hi,Ce,ur,Zr,zt,C,Z);zn=lo(mt,wr),Ce&&function Cp(n,r,s,l){if(l)Mr(n,s,["ng-version",pd.full]);else{const{attrs:c,classes:d}=function Wm(n){const r=[],s=[];let l=1,c=2;for(;l<n.length;){let d=n[l];if("string"==typeof d)2===c?""!==d&&r.push(d,n[++l]):8===c&&s.push(d);else{if(!bl(c))break;c=d}l++}return{attrs:r,classes:s}}(r.selectors[0]);c&&Mr(n,s,c),d&&d.length>0&&Ff(n,s,d.join(" "))}}(Z,ur,Ce,l),void 0!==s&&function vg(n,r,s){const l=n.projection=[];for(let c=0;c<r.length;c++){const d=s[c];l.push(null!=d?Array.from(d):null)}}(zn,this.ngContentSelectors,s),Sn=function Eh(n,r,s,l,c,d){const v=Ai(),C=c[Wt],R=Bi(v,c);nf(C,c,v,s,null,l);for(let le=0;le<s.length;le++)He(bi(c,C,v.directiveStart+le,v),c);wp(C,c,v),R&&He(R,c);const Z=bi(c,C,v.directiveStart+v.componentOffset,v);if(n[Wn]=c[Wn]=Z,null!==d)for(const le of d)le(Z,r);return yp(C,v,n),Z}(js,ur,Zr,dn,zt,[Pp]),gp(mt,zt,null)}finally{Ao()}return new hv(this.componentType,Sn,uu(zn,zt),zt,zn)}}class hv extends hd{constructor(r,s,l,c,d){super(),this.location=l,this._rootLView=c,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new Sp(c),this.componentType=r}setInput(r,s){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[r])){const d=this._rootLView;Fa(d[Wt],d,c,r,s),Cd(Yi(this._tNode.index,d))}}get injector(){return new Ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Pp(){const n=Ai();Ct(kt()[Wt],n)}function cc(n){let r=function uf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;r;){let c;if(Li(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Pt(903,!1);c=r.\u0275dir}if(c){if(s){l.push(c);const v=n;v.inputs=kp(n.inputs),v.declaredInputs=kp(n.declaredInputs),v.outputs=kp(n.outputs);const C=c.hostBindings;C&&df(n,C);const R=c.viewQuery,Z=c.contentQueries;if(R&&fv(n,R),Z&&pv(n,Z),ge(n.inputs,c.inputs),ge(n.declaredInputs,c.declaredInputs),ge(n.outputs,c.outputs),Li(c)&&c.data.animation){const le=n.data;le.animation=(le.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let v=0;v<d.length;v++){const C=d[v];C&&C.ngInherit&&C(n),C===cc&&(s=!1)}}r=Object.getPrototypeOf(r)}!function _g(n){let r=0,s=null;for(let l=n.length-1;l>=0;l--){const c=n[l];c.hostVars=r+=c.hostVars,c.hostAttrs=ro(c.hostAttrs,s=ro(s,c.hostAttrs))}}(l)}function kp(n){return n===Qe?{}:n===qt?[]:n}function fv(n,r){const s=n.viewQuery;n.viewQuery=s?(l,c)=>{r(l,c),s(l,c)}:r}function pv(n,r){const s=n.contentQueries;n.contentQueries=s?(l,c,d)=>{r(l,c,d),s(l,c,d)}:r}function df(n,r){const s=n.hostBindings;n.hostBindings=s?(l,c)=>{r(l,c),s(l,c)}:r}function Ih(n){return!!uc(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function uc(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ul(n,r,s){return n[r]=s}function $a(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Dh(n,r,s,l){const c=kt();return $a(c,Pa(),r)&&(mr(),Zl(T(),c,n,r,s,l)),Dh}function Lp(n,r,s,l,c,d,v,C){const R=kt(),Z=mr(),le=n+wr,Ce=Z.firstCreatePass?function Cg(n,r,s,l,c,d,v,C,R){const Z=r.consts,le=lc(r,n,4,v||null,Es(Z,C));gh(r,s,le,Es(Z,R)),Ct(r,le);const Ce=le.tView=vp(2,le,l,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Z);return null!==r.queries&&(r.queries.template(r,le),Ce.queries=r.queries.embeddedTView(le)),le}(le,Z,R,r,s,l,c,d,v):Z.data[le];co(Ce,!1);const qe=R[Oe].createComment("");bc(Z,R,qe,Ce),He(qe,R),bd(R,R[le]=hg(qe,R,qe,Ce)),Mi(Ce)&&hh(Z,R,Ce),null!=v&&da(R,Ce,C)}function Pg(n){return Si(function Is(){return er.lFrame.contextLView}(),wr+n)}function Yp(n,r,s){const l=kt();return $a(l,Pa(),r)&&cl(mr(),T(),l,n,r,l[Oe],s,!1),Yp}function Up(n,r,s,l,c){const v=c?"class":"style";Fa(n,s,r.inputs[v],v,l)}function Fd(n,r,s,l){const c=kt(),d=mr(),v=wr+n,C=c[Oe],R=d.firstCreatePass?function jp(n,r,s,l,c,d){const v=r.consts,R=lc(r,n,2,l,Es(v,c));return gh(r,s,R,Es(v,d)),null!==R.attrs&&_h(R,R.attrs,!1),null!==R.mergedAttrs&&_h(R,R.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,R),R}(v,d,c,r,s,l):d.data[v],Z=c[v]=Sc(C,r,function Ve(){return er.lFrame.currentNamespace}()),le=Mi(R);return co(R,!0),Lf(C,Z,R),32!=(32&R.flags)&&bc(d,c,Z,R),0===function os(){return er.lFrame.elementDepthCount}()&&He(Z,c),function zs(){er.lFrame.elementDepthCount++}(),le&&(hh(d,c,R),yp(d,R,c)),null!==l&&da(c,R),Fd}function Uc(){let n=Ai();Ca()?$s():(n=n.parent,co(n,!1));const r=n;!function Ri(){er.lFrame.elementDepthCount--}();const s=mr();return s.firstCreatePass&&(Ct(s,n),vi(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function zr(n){return 0!=(8&n.flags)}(r)&&Up(s,r,kt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Pr(n){return 0!=(16&n.flags)}(r)&&Up(s,r,kt(),r.stylesWithoutHost,!1),Uc}function pf(n,r,s,l){return Fd(n,r,s,l),Uc(),pf}function mf(n,r,s){const l=kt(),c=mr(),d=n+wr,v=c.firstCreatePass?function Vp(n,r,s,l,c){const d=r.consts,v=Es(d,l),C=lc(r,n,8,"ng-container",v);return null!==v&&_h(C,v,!0),gh(r,s,C,Es(d,c)),null!==r.queries&&r.queries.elementStart(r,C),C}(d,c,l,r,s):c.data[d];co(v,!0);const C=l[d]=l[Oe].createComment("");return bc(c,l,C,v),He(C,l),Mi(v)&&(hh(c,l,v),yp(c,v,l)),null!=s&&da(l,v),mf}function Ld(){let n=Ai();const r=mr();return Ca()?$s():(n=n.parent,co(n,!1)),r.firstCreatePass&&(Ct(r,n),vi(n)&&r.queries.elementEnd(n)),Ld}function kg(){return kt()}function Bp(n){return!!n&&"function"==typeof n.then}function Ag(n){return!!n&&"function"==typeof n.subscribe}const xg=Ag;function Hp(n,r,s,l){const c=kt(),d=mr(),v=Ai();return function zp(n,r,s,l,c,d,v){const C=Mi(l),Z=n.firstCreatePass&&lf(n),le=r[Wn],Ce=vh(r);let qe=!0;if(3&l.type||v){const Sn=Bi(l,r),zn=v?v(Sn):Sn,ur=Ce.length,Zr=v?hi=>v(Yr(hi[l.index])):l.index;let dn=null;if(!v&&C&&(dn=function Rg(n,r,s,l){const c=n.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const v=c[d];if(v===s&&c[d+1]===l){const C=r[on],R=c[d+2];return C.length>R?C[R]:null}"string"==typeof v&&(d+=2)}return null}(n,r,c,l.index)),null!==dn)(dn.__ngLastListenerFn__||dn).__ngNextListenerFn__=d,dn.__ngLastListenerFn__=d,qe=!1;else{d=Ng(l,r,le,d,!1);const hi=s.listen(zn,c,d);Ce.push(d,hi),Z&&Z.push(c,Zr,ur,ur+1)}}else d=Ng(l,r,le,d,!1);const mt=l.outputs;let zt;if(qe&&null!==mt&&(zt=mt[c])){const Sn=zt.length;if(Sn)for(let zn=0;zn<Sn;zn+=2){const js=r[zt[zn]][zt[zn+1]].subscribe(d),Ia=Ce.length;Ce.push(d,js),Z&&Z.push(c,l.index,Ia,-(Ia+1))}}}(d,c,c[Oe],v,n,r,l),Hp}function Og(n,r,s,l){try{return Xi(6,r,s),!1!==s(l)}catch(c){return gg(n,c),!1}finally{Xi(7,r,s)}}function Ng(n,r,s,l,c){return function d(v){if(v===Function)return l;Cd(n.componentOffset>-1?Yi(n.index,r):r);let R=Og(r,s,l,v),Z=d.__ngNextListenerFn__;for(;Z;)R=Og(r,s,Z,v)&&R,Z=Z.__ngNextListenerFn__;return c&&!1===R&&(v.preventDefault(),v.returnValue=!1),R}}function Fg(n=1){return function Yo(n){return(er.lFrame.contextLView=function ka(n,r){for(;n>0;)r=r[cr],n--;return r}(n,er.lFrame.contextLView))[Wn]}(n)}function $p(n,r){let s=null;const l=function $y(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(n);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===l?np(n,d,!0):Zh(l,d))return c}else s=c}return s}function gf(n){const r=kt()[yr][nn];if(!r.projection){const l=r.projection=Ja(n?n.length:1,null),c=l.slice();let d=r.child;for(;null!==d;){const v=n?$p(d,n):0;null!==v&&(c[v]?c[v].projectionNext=d:l[v]=d,c[v]=d),d=d.next}}}function Lg(n,r=0,s){const l=kt(),c=mr(),d=lc(c,wr+n,16,null,s||null);null===d.projection&&(d.projection=r),$s(),32!=(32&d.flags)&&function Of(n,r,s){Kd(r[Oe],0,r,s,Yt(n,s,r),Ii(s.parent||r[nn],s,r))}(c,l,d)}function yf(n,r){return n<<17|r<<2}function Ql(n){return n>>17&32767}function Ch(n){return 2|n}function fc(n){return(131068&n)>>2}function vf(n,r){return-131069&n|r<<2}function Tf(n){return 1|n}function Hg(n,r,s,l,c){const d=n[s+1],v=null===r;let C=l?Ql(d):fc(d),R=!1;for(;0!==C&&(!1===R||v);){const le=n[C+1];Ev(n[C],r)&&(R=!0,n[C+1]=l?Tf(le):Ch(le)),C=l?Ql(le):fc(le)}R&&(n[s+1]=l?Ch(d):Tf(d))}function Ev(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&re(n,r)>=0}function wf(n,r,s){return fa(n,r,s,!1),wf}function Ef(n,r){return fa(n,r,null,!0),Ef}function fa(n,r,s,l){const c=kt(),d=mr(),v=function fo(n){const r=er.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);d.firstUpdatePass&&function qg(n,r,s,l){const c=n.data;if(null===c[s+1]){const d=c[K()],v=function Cv(n,r){return r>=n.expandoStartIndex}(n,s);(function Mv(n,r){return 0!=(n.flags&(r?8:16))})(d,l)&&null===r&&!v&&(r=!1),r=function fT(n,r,s,l){const c=po(n);let d=l?r.residualClasses:r.residualStyles;if(null===c)0===(l?r.classBindings:r.styleBindings)&&(s=If(s=tm(null,n,r,s,l),r.attrs,l),d=null);else{const v=r.directiveStylingLast;if(-1===v||n[v]!==c)if(s=tm(c,n,r,s,l),null===d){let R=function Zg(n,r,s){const l=s?r.classBindings:r.styleBindings;if(0!==fc(l))return n[Ql(l)]}(n,r,l);void 0!==R&&Array.isArray(R)&&(R=tm(null,n,r,R[1],l),R=If(R,r.attrs,l),function Pv(n,r,s,l){n[Ql(s?r.classBindings:r.styleBindings)]=l}(n,r,l,R))}else d=function em(n,r,s){let l;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)l=If(l,n[d].hostAttrs,s);return If(l,r.attrs,s)}(n,r,l)}return void 0!==d&&(l?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,l),function Yd(n,r,s,l,c,d){let v=d?r.classBindings:r.styleBindings,C=Ql(v),R=fc(v);n[l]=s;let le,Z=!1;if(Array.isArray(s)?(le=s[1],(null===le||re(s,le)>0)&&(Z=!0)):le=s,c)if(0!==R){const qe=Ql(n[C+1]);n[l+1]=yf(qe,C),0!==qe&&(n[qe+1]=vf(n[qe+1],l)),n[C+1]=function Vg(n,r){return 131071&n|r<<17}(n[C+1],l)}else n[l+1]=yf(C,0),0!==C&&(n[C+1]=vf(n[C+1],l)),C=l;else n[l+1]=yf(R,0),0===C?C=l:n[R+1]=vf(n[R+1],l),R=l;Z&&(n[l+1]=Ch(n[l+1])),Hg(n,le,l,!0),Hg(n,le,l,!1),function wv(n,r,s,l,c){const d=c?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof r&&re(d,r)>=0&&(s[l+1]=Tf(s[l+1]))}(r,le,n,l,d),v=yf(C,R),d?r.classBindings=v:r.styleBindings=v}(c,d,r,s,v,l)}}(d,n,v,l),r!==ui&&$a(c,v,r)&&function nm(n,r,s,l,c,d,v,C){if(!(3&r.type))return;const R=n.data,Z=R[C+1],le=function _f(n){return 1==(1&n)}(Z)?xv(R,r,s,c,fc(Z),v):void 0;rm(le)||(rm(d)||function Zp(n){return 2==(2&n)}(Z)&&(d=xv(R,null,s,c,C,v)),function Nf(n,r,s,l,c){if(r)c?n.addClass(s,l):n.removeClass(s,l);else{let d=-1===l.indexOf("-")?void 0:sl.DashCase;null==c?n.removeStyle(s,l,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=sl.Important),n.setStyle(s,l,c,d))}}(l,v,is(K(),s),c,d))}(d,d.data[K()],c,c[Oe],n,c[v+1]=function Qg(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=se(ml(n)))),n}(r,s),l,v)}function tm(n,r,s,l,c){let d=null;const v=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<v&&(d=r[C],l=If(l,d.hostAttrs,c),d!==n);)C++;return null!==n&&(s.directiveStylingLast=C),l}function If(n,r,s){const l=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const v=r[d];"number"==typeof v?c=v:c===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),k(n,v,!!s||r[++d]))}return void 0===n?null:n}function xv(n,r,s,l,c,d){const v=null===r;let C;for(;c>0;){const R=n[c],Z=Array.isArray(R),le=Z?R[1]:R,Ce=null===le;let qe=s[c+1];qe===ui&&(qe=Ce?qt:void 0);let mt=Ce?V(qe,l):le===l?qe:void 0;if(Z&&!rm(mt)&&(mt=V(R,l)),rm(mt)&&(C=mt,v))return C;const zt=n[c+1];c=v?Ql(zt):fc(zt)}if(null!==r){let R=d?r.residualClasses:r.residualStyles;null!=R&&(C=V(R,l))}return C}function rm(n){return void 0!==n}function Rv(n,r=""){const s=kt(),l=mr(),c=n+wr,d=l.firstCreatePass?lc(l,c,1,r,null):l.data[c],v=s[c]=function Ic(n,r){return n.createText(r)}(s[Oe],r);bc(l,s,v,d),co(d,!1)}function Jg(n){return im("",n,""),Jg}function im(n,r,s){const l=kt(),c=function Md(n,r,s,l){return $a(n,Pa(),s)?r+Mt(s)+l:ui}(l,n,r,s);return c!==ui&&function Lc(n,r,s){const l=is(r,n);!function Gl(n,r,s){n.setValue(r,s)}(n[Oe],l,s)}(l,K(),c),im}function bf(n,r,s){const l=kt();if($a(l,Pa(),r)){const d=mr(),v=T();cl(d,v,l,n,r,function mg(n,r,s){return(null===n||Li(n))&&(s=function Ms(n){for(;Array.isArray(n);){if("object"==typeof n[No])return n;n=n[lr]}return null}(s[r.index])),s[Oe]}(po(d.data),v,l),s,!0)}return bf}const jc=void 0;var Cf=["en",[["a","p"],["AM","PM"],jc],[["AM","PM"],jc,jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jc,"{1} 'at' {0}",jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Hv(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let qu={};function zv(n,r,s){"string"!=typeof r&&(s=r,r=n[Vr.LocaleId]),r=r.toLowerCase().replace(/_/g,"-"),qu[r]=n,s&&(qu[r][Vr.ExtraData]=s)}function sy(n){const r=function mT(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=$v(r);if(s)return s;const l=r.split("-")[0];if(s=$v(l),s)return s;if("en"===l)return Cf;throw new Pt(701,!1)}function Bd(n){return sy(n)[Vr.PluralCase]}function $v(n){return n in qu||(qu[n]=Ar.ng&&Ar.ng.common&&Ar.ng.common.locales&&Ar.ng.common.locales[n]),qu[n]}var Vr=(()=>((Vr=Vr||{})[Vr.LocaleId=0]="LocaleId",Vr[Vr.DayPeriodsFormat=1]="DayPeriodsFormat",Vr[Vr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Vr[Vr.DaysFormat=3]="DaysFormat",Vr[Vr.DaysStandalone=4]="DaysStandalone",Vr[Vr.MonthsFormat=5]="MonthsFormat",Vr[Vr.MonthsStandalone=6]="MonthsStandalone",Vr[Vr.Eras=7]="Eras",Vr[Vr.FirstDayOfWeek=8]="FirstDayOfWeek",Vr[Vr.WeekendRange=9]="WeekendRange",Vr[Vr.DateFormat=10]="DateFormat",Vr[Vr.TimeFormat=11]="TimeFormat",Vr[Vr.DateTimeFormat=12]="DateTimeFormat",Vr[Vr.NumberSymbols=13]="NumberSymbols",Vr[Vr.NumberFormats=14]="NumberFormats",Vr[Vr.CurrencyCode=15]="CurrencyCode",Vr[Vr.CurrencySymbol=16]="CurrencySymbol",Vr[Vr.CurrencyName=17]="CurrencyName",Vr[Vr.Currencies=18]="Currencies",Vr[Vr.Directionality=19]="Directionality",Vr[Vr.PluralCase=20]="PluralCase",Vr[Vr.ExtraData=21]="ExtraData",Vr))();const Vc="en-US";let Rh=Vc;function my(n,r,s,l,c){if(n=Ye(n),Array.isArray(n))for(let d=0;d<n.length;d++)my(n[d],r,s,l,c);else{const d=mr(),v=kt();let C=au(n)?n:Ye(n.provide),R=qf(n);const Z=Ai(),le=1048575&Z.providerIndexes,Ce=Z.directiveStart,qe=Z.providerIndexes>>20;if(au(n)||!n.multi){const mt=new Te(R,c,Fc),zt=gy(C,r,c?le:le+qe,Ce);-1===zt?($(M(Z,v),d,C),wm(d,n,r.length),r.push(C),Z.directiveStart++,Z.directiveEnd++,c&&(Z.providerIndexes+=1048576),s.push(mt),v.push(mt)):(s[zt]=mt,v[zt]=mt)}else{const mt=gy(C,r,le+qe,Ce),zt=gy(C,r,le,le+qe),zn=zt>=0&&s[zt];if(c&&!zn||!c&&!(mt>=0&&s[mt])){$(M(Z,v),d,C);const ur=function HT(n,r,s,l,c){const d=new Te(n,s,Fc);return d.multi=[],d.index=r,d.componentProviders=0,E_(d,c,l&&!s),d}(c?I_:BT,s.length,c,l,R);!c&&zn&&(s[zt].providerFactory=ur),wm(d,n,r.length,0),r.push(C),Z.directiveStart++,Z.directiveEnd++,c&&(Z.providerIndexes+=1048576),s.push(ur),v.push(ur)}else wm(d,n,mt>-1?mt:zt,E_(s[c?zt:mt],R,!c&&l));!c&&l&&zn&&s[zt].componentProviders++}}}function wm(n,r,s,l){const c=au(r),d=function Rm(n){return!!n.useClass}(r);if(c||d){const R=(d?Ye(r.useClass):r).prototype.ngOnDestroy;if(R){const Z=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const le=Z.indexOf(s);-1===le?Z.push(s,[l,R]):Z[le+1].push(l,R)}else Z.push(s,R)}}}function E_(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function gy(n,r,s,l){for(let c=s;c<l;c++)if(r[c]===n)return c;return-1}function BT(n,r,s,l){return yy(this.multi,[])}function I_(n,r,s,l){const c=this.multi;let d;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=bi(s,s[Wt],this.providerFactory.index,l);d=C.slice(0,v),yy(c,d);for(let R=v;R<C.length;R++)d.push(C[R])}else d=[],yy(c,d);return d}function yy(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function D_(n,r=[]){return s=>{s.providersResolver=(l,c)=>function VT(n,r,s){const l=mr();if(l.firstCreatePass){const c=Li(n);my(s,l.data,l.blueprint,c,!0),my(r,l.data,l.blueprint,c,!1)}}(l,c?c(n):n,r)}}class Lh{}class S_{}function zT(n,r){return new b_(n,r??null)}class b_ extends Lh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bp(this);const l=Hn(r);this._bootstrapComponents=Mc(l.bootstrap),this._r3Injector=Qh(r,s,[{provide:Lh,useValue:this},{provide:xc,useValue:this.componentFactoryResolver}],se(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class vy extends S_{constructor(r){super(),this.moduleType=r}create(r){return new b_(this.moduleType,r)}}class $T extends Lh{constructor(r,s,l){super(),this.componentFactoryResolver=new bp(this),this.instance=null;const c=new Kf([...r,{provide:Lh,useValue:this},{provide:xc,useValue:this.componentFactoryResolver}],s||Ou(),l,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function _y(n,r,s=null){return new $T(n,r,s).injector}let GT=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const l=xm(0,s.type),c=l.length>0?_y([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=In({token:n,providedIn:"environment",factory:()=>new n(Rn(cu))}),n})();function C_(n){n.getStandaloneInjector=r=>r.get(GT).getOrCreateStandaloneInjector(n)}function N_(n,r,s){const l=Ui()+n,c=kt();return c[l]===ui?ul(c,l,s?r.call(s):r()):function dc(n,r){return n[r]}(c,l)}function F_(n,r,s,l){return Y_(kt(),Ui(),n,r,s,l)}function L_(n,r,s,l,c){return U_(kt(),Ui(),n,r,s,l,c)}function kf(n,r){const s=n[r];return s===ui?void 0:s}function Y_(n,r,s,l,c,d){const v=r+s;return $a(n,v,c)?ul(n,v+1,d?l.call(d,c):l(c)):kf(n,v+1)}function U_(n,r,s,l,c,d,v){const C=r+s;return function Vl(n,r,s,l){const c=$a(n,r,s);return $a(n,r+1,l)||c}(n,C,c,d)?ul(n,C+2,v?l.call(v,c,d):l(c,d)):kf(n,C+2)}function o(n,r){const s=mr();let l;const c=n+wr;s.firstCreatePass?(l=function a(n,r){if(r)for(let s=r.length-1;s>=0;s--){const l=r[s];if(n===l.name)return l}}(r,s.pipeRegistry),s.data[c]=l,l.onDestroy&&(s.destroyHooks??(s.destroyHooks=[])).push(c,l.onDestroy)):l=s.data[c];const d=l.factory||(l.factory=ao(l.type)),v=oi(Fc);try{const C=ni(!1),R=d();return ni(C),function _v(n,r,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=l}(s,kt(),c,R),R}finally{oi(v)}}function h(n,r,s){const l=n+wr,c=kt(),d=Si(c,l);return we(c,l)?Y_(c,Ui(),r,d.transform,s,d):d.transform(s)}function I(n,r,s,l){const c=n+wr,d=kt(),v=Si(d,c);return we(d,c)?U_(d,Ui(),r,v.transform,s,l,v):v.transform(s,l)}function we(n,r){return n[Wt].data[r].pure}function ct(n){return r=>{setTimeout(n,void 0,r)}}const Bt=class et extends D.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,l){let c=r,d=s||(()=>null),v=l;if(r&&"object"==typeof r){const R=r;c=R.next?.bind(R),d=R.error?.bind(R),v=R.complete?.bind(R)}this.__isAsync&&(d=ct(d),c&&(c=ct(c)),v&&(v=ct(v)));const C=super.subscribe({next:c,error:d,complete:v});return r instanceof J.w0&&r.add(C),C}};function vn(){return this._results[Symbol.iterator]()}class An{get changes(){return this._changes||(this._changes=new Bt)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=An.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=vn)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const l=this;l.dirty=!1;const c=function Gs(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function hl(n,r,s){if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++){let c=n[l],d=r[l];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(l._results,c,s))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let qr=(()=>{class n{}return n.__NG_ELEMENT_ID__=ki,n})();const di=qr,Ir=class extends di{constructor(r,s,l){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(r,s){const l=this._declarationTContainer.tView,c=ac(this._declarationLView,l,r,16,null,l.declTNode,null,null,null,null,s||null);c[fi]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Fi];return null!==v&&(c[Fi]=v.createEmbeddedView(l)),gp(l,c,r),new Yc(c)}};function ki(){return eo(Ai(),kt())}function eo(n,r){return 4&n.type?new Ir(r,n,uu(n,r)):null}let $o=(()=>{class n{}return n.__NG_ELEMENT_ID__=dl,n})();function dl(){return Yh(Ai(),kt())}const Xl=$o,mc=class extends Xl{constructor(r,s,l){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=l}get element(){return uu(this._hostTNode,this._hostLView)}get injector(){return new Ro(this._hostTNode,this._hostLView)}get parentInjector(){const r=q(this._hostTNode,this._hostLView);if(Uo(r)){const s=jn(r,this._hostLView),l=jo(r);return new Ro(s[Wt].data[l+8],s)}return new Ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Ey(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Ji}createEmbeddedView(r,s,l){let c,d;"number"==typeof l?c=l:null!=l&&(c=l.index,d=l.injector);const v=r.createEmbeddedView(s||{},d);return this.insert(v,c),v}createComponent(r,s,l,c,d){const v=r&&!function zo(n){return"function"==typeof n}(r);let C;if(v)C=s;else{const Ce=s||{};C=Ce.index,l=Ce.injector,c=Ce.projectableNodes,d=Ce.environmentInjector||Ce.ngModuleRef}const R=v?r:new Th(pr(r)),Z=l||this.parentInjector;if(!d&&null==R.ngModule){const qe=(v?Z:this.parentInjector).get(cu,null);qe&&(d=qe)}const le=R.create(Z,c,void 0,d);return this.insert(le.hostView,C),le}insert(r,s){const l=r._lView,c=l[Wt];if(function oa(n){return pi(n[_r])}(l)){const le=this.indexOf(r);if(-1!==le)this.detach(le);else{const Ce=l[_r],qe=new mc(Ce,Ce[nn],Ce[_r]);qe.detach(qe.indexOf(r))}}const d=this._adjustIndex(s),v=this._lContainer;!function p(n,r,s,l){const c=Ji+l,d=s.length;l>0&&(s[c-1][si]=r),l<d-Ji?(r[si]=s[c],il(s,Ji+l,r)):(s.push(r),r[si]=null),r[_r]=s;const v=r[fi];null!==v&&s!==v&&function m(n,r){const s=n[To];r[yr]!==r[_r][_r][yr]&&(n[_o]=!0),null===s?n[To]=[r]:s.push(r)}(v,r);const C=r[Fi];null!==C&&C.insertView(n),r[Ln]|=64}(c,l,v,d);const C=ru(d,v),R=l[Oe],Z=Na(R,v[ys]);return null!==Z&&function nd(n,r,s,l,c,d){l[lr]=c,l[nn]=r,Pu(n,l,s,1,c,d)}(c,v[nn],R,l,Z,C),r.attachToViewContainerRef(),il(Af(v),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Ey(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),l=Q(this._lContainer,s);l&&(_a(Af(this._lContainer),s),oe(l[Wt],l))}detach(r){const s=this._adjustIndex(r,-1),l=Q(this._lContainer,s);return l&&null!=_a(Af(this._lContainer),s)?new Yc(l):null}_adjustIndex(r,s=0){return r??this.length+s}};function Ey(n){return n[vs]}function Af(n){return n[vs]||(n[vs]=[])}function Yh(n,r){let s;const l=r[n.index];if(pi(l))s=l;else{let c;if(8&n.type)c=Yr(l);else{const d=r[Oe];c=d.createComment("");const v=Bi(n,r);En(d,Na(d,v),c,function Wl(n,r){return n.nextSibling(r)}(d,v),!1)}r[n.index]=s=hg(l,r,c,n),bd(r,s)}return new mc(s,n,r)}class Em{constructor(r){this.queryList=r,this.matches=null}clone(){return new Em(this.queryList)}setDirty(){this.queryList.setDirty()}}class xf{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const l=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<l;d++){const v=s.getByIndex(d);c.push(this.queries[v.indexInDeclarationView].clone())}return new xf(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==fw(r,s).matches&&this.queries[s].setDirty()}}class Iy{constructor(r,s,l=null){this.predicate=r,this.flags=s,this.read=l}}class j_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let l=0;l<this.length;l++){const c=null!==s?s.length:0,d=this.getByIndex(l).embeddedTView(r,c);d&&(d.indexInDeclarationView=l,null!==s?s.push(d):s=[d])}return null!==s?new j_(s):null}template(r,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class V_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new V_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=r.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const d=l[c];this.matchTNodeWithReadOption(r,s,yE(s,d)),this.matchTNodeWithReadOption(r,s,Kr(s,r,d,!1,!1))}else l===qr?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Kr(s,r,l,!1,!1))}matchTNodeWithReadOption(r,s,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===fd||c===$o||c===qr&&4&s.type)this.addMatch(s.index,-2);else{const d=Kr(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,l)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function yE(n,r){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===r)return s[l+1];return null}function _E(n,r,s,l){return-1===s?function vE(n,r){return 11&n.type?uu(n,r):4&n.type?eo(n,r):null}(r,n):-2===s?function TE(n,r,s){return s===fd?uu(r,n):s===qr?eo(r,n):s===$o?Yh(r,n):void 0}(n,r,l):bi(n,n[Wt],s,r)}function sw(n,r,s,l){const c=r[Fi].queries[l];if(null===c.matches){const d=n.data,v=s.matches,C=[];for(let R=0;R<v.length;R+=2){const Z=v[R];C.push(Z<0?null:_E(r,d[Z],v[R+1],s.metadata.read))}c.matches=C}return c.matches}function B_(n,r,s,l){const c=n.queries.getByIndex(s),d=c.matches;if(null!==d){const v=sw(n,r,c,s);for(let C=0;C<d.length;C+=2){const R=d[C];if(R>0)l.push(v[C/2]);else{const Z=d[C+1],le=r[-R];for(let Ce=Ji;Ce<le.length;Ce++){const qe=le[Ce];qe[fi]===qe[_r]&&B_(qe[Wt],qe,Z,l)}if(null!==le[To]){const Ce=le[To];for(let qe=0;qe<Ce.length;qe++){const mt=Ce[qe];B_(mt[Wt],mt,Z,l)}}}}}return l}function aw(n){const r=kt(),s=mr(),l=Po();mo(l+1);const c=fw(s,l);if(n.dirty&&function Ua(n){return 4==(4&n[Ln])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const d=c.crossesNgTemplate?B_(s,r,l,[]):sw(s,r,c,l);n.reset(d,sh),n.notifyOnChanges()}return!0}return!1}function lw(n,r,s){const l=mr();l.firstCreatePass&&(hw(l,new Iy(n,r,s),-1),2==(2&r)&&(l.staticViewQueries=!0)),dw(l,kt(),r)}function cw(n,r,s,l){const c=mr();if(c.firstCreatePass){const d=Ai();hw(c,new Iy(r,s,l),d.index),function EE(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}dw(c,kt(),s)}function uw(){return function wE(n,r){return n[Fi].queries[r].queryList}(kt(),Po())}function dw(n,r,s){const l=new An(4==(4&s));tf(n,r,l,l.destroy),null===r[Fi]&&(r[Fi]=new xf),r[Fi].queries.push(new Em(l))}function hw(n,r,s){null===n.queries&&(n.queries=new j_),n.queries.track(new V_(r,s))}function fw(n,r){return n.queries.getByIndex(r)}function pw(n,r){return eo(n,r)}function H_(n){return!!Hn(n)}function Sy(...n){}const Mw=new Pi("Application Initializer");let by=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Sy,this.reject=Sy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(Bp(d))s.push(d);else if(xg(d)){const v=new Promise((C,R)=>{d.subscribe({complete:C,error:R})});s.push(v)}}Promise.all(s).then(()=>{l()}).catch(c=>{this.reject(c)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Rn(Mw,8))},n.\u0275prov=In({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rw=new Pi("AppId",{providedIn:"root",factory:function Ow(){return`${K_()}${K_()}${K_()}`}});function K_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Nw=new Pi("Platform Initializer"),BE=new Pi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),HE=new Pi("AnimationModuleType");let zE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=In({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Cy=new Pi("LocaleId",{providedIn:"root",factory:()=>Ne(Cy,fn.Optional|fn.SkipSelf)||function $E(){return typeof $localize<"u"&&$localize.locale||Vc}()}),GE=new Pi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WE{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let KE=(()=>{class n{compileModuleSync(s){return new vy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),d=Mc(Hn(s).declarations).reduce((v,C)=>{const R=pr(C);return R&&v.push(new Th(R)),v},[]);return new WE(l,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=In({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QE=(()=>Promise.resolve(0))();function q_(n){typeof Zone>"u"?QE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class gc{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bt(!1),this.onMicrotaskEmpty=new Bt(!1),this.onStable=new Bt(!1),this.onError=new Bt(!1),typeof Zone>"u")throw new Pt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&s,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function JE(){let n=Ar.requestAnimationFrame,r=Ar.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=r[Zone.__symbol__("OriginalDelegate")];l&&(r=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function t0(n){const r=()=>{!function e0(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ar,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Q_(n),n.isCheckStableRunning=!0,Z_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Q_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,c,d,v,C)=>{try{return Yw(n),s.invokeTask(c,d,v,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&r(),Uw(n)}},onInvoke:(s,l,c,d,v,C,R)=>{try{return Yw(n),s.invoke(c,d,v,C,R)}finally{n.shouldCoalesceRunChangeDetection&&r(),Uw(n)}},onHasTask:(s,l,c,d)=>{s.hasTask(c,d),l===c&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,Q_(n),Z_(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,l,c,d)=>(s.handleError(c,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gc.isInAngularZone())throw new Pt(909,!1)}static assertNotInAngularZone(){if(gc.isInAngularZone())throw new Pt(909,!1)}run(r,s,l){return this._inner.run(r,s,l)}runTask(r,s,l,c){const d=this._inner,v=d.scheduleEventTask("NgZoneEvent: "+c,r,XE,Sy,Sy);try{return d.runTask(v,s,l)}finally{d.cancelTask(v)}}runGuarded(r,s,l){return this._inner.runGuarded(r,s,l)}runOutsideAngular(r){return this._outer.run(r)}}const XE={};function Z_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Q_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Yw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Uw(n){n._nesting--,Z_(n)}class n0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bt,this.onMicrotaskEmpty=new Bt,this.onStable=new Bt,this.onError=new Bt}run(r,s,l){return r.apply(s,l)}runGuarded(r,s,l){return r.apply(s,l)}runOutsideAngular(r){return r()}runTask(r,s,l,c){return r.apply(s,l)}}const jw=new Pi(""),Vw=new Pi("");let J_,r0=(()=>{class n{constructor(s,l,c){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,J_||(function o0(n){J_=n}(c),c.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gc.assertNotInAngularZone(),q_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())q_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,c){let d=-1;l&&l>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==d),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(Rn(gc),Rn(Bw),Rn(Vw))},n.\u0275prov=In({token:n,factory:n.\u0275fac}),n})(),Bw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return J_?.findTestabilityInTree(this,s,l)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=In({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ju=!1;let $d=null;const Hw=new Pi("AllowMultipleToken"),X_=new Pi("PlatformDestroyListeners"),zw=new Pi("appBootstrapListener");class l0{constructor(r,s){this.name=r,this.token=s}}function Gw(n,r,s=[]){const l=`Platform: ${r}`,c=new Pi(l);return(d=[])=>{let v=eT();if(!v||v.injector.get(Hw,!1)){const C=[...s,...d,{provide:c,useValue:!0}];n?n(C):function c0(n){if($d&&!$d.get(Hw,!1))throw new Pt(400,!1);$d=n;const r=n.get(Kw);(function $w(n){const r=n.get(Nw,null);r&&r.forEach(s=>s())})(n)}(function Ww(n=[],r){return Oc.create({name:r,providers:[{provide:rh,useValue:"platform"},{provide:X_,useValue:new Set([()=>$d=null])},...n]})}(C,l))}return function d0(n){const r=eT();if(!r)throw new Pt(401,!1);return r}()}}function eT(){return $d?.get(Kw)??null}let Kw=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const c=function Zw(n,r){let s;return s="noop"===n?new n0:("zone.js"===n?void 0:n)||new gc(r),s}(l?.ngZone,function qw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(l)),d=[{provide:gc,useValue:c}];return c.run(()=>{const v=Oc.create({providers:d,parent:this.injector,name:s.moduleType.name}),C=s.create(v),R=C.injector.get(md,null);if(!R)throw new Pt(402,!1);return c.runOutsideAngular(()=>{const Z=c.onError.subscribe({next:le=>{R.handleError(le)}});C.onDestroy(()=>{ky(this._modules,C),Z.unsubscribe()})}),function Qw(n,r,s){try{const l=s();return Bp(l)?l.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):l}catch(l){throw r.runOutsideAngular(()=>n.handleError(l)),l}}(R,c,()=>{const Z=C.injector.get(by);return Z.runInitializers(),Z.donePromise.then(()=>(function Gv(n){ht(n,"Expected localeId to be defined"),"string"==typeof n&&(Rh=n.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Cy,Vc)||Vc),this._moduleDoBootstrap(C),C))})})}bootstrapModule(s,l=[]){const c=Jw({},l);return function s0(n,r,s){const l=new vy(s);return Promise.resolve(l)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const l=s.injector.get(Py);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Pt(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pt(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(X_,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Rn(Oc))},n.\u0275prov=In({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Jw(n,r){return Array.isArray(r)?r.reduce(Jw,n):{...n,...r}}let Py=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,l,c){this._zone=s,this._injector=l,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new de.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new de.y(C=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{gc.assertNotInAngularZone(),q_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const Z=this._zone.onUnstable.subscribe(()=>{gc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{R.unsubscribe(),Z.unsubscribe()}});this.isStable=(0,De.T)(d,v.pipe((0,Ae.B)()))}bootstrap(s,l){const c=s instanceof Zf;if(!this._injector.get(by).done){!c&&Qt(s);throw new Pt(405,Ju)}let v;v=c?s:this._injector.get(xc).resolveComponentFactory(s),this.componentTypes.push(v.componentType);const C=function a0(n){return n.isBoundToModule}(v)?void 0:this._injector.get(Lh),Z=v.create(Oc.NULL,[],l||v.selector,C),le=Z.location.nativeElement,Ce=Z.injector.get(jw,null);return Ce?.registerApplication(le),Z.onDestroy(()=>{this.detachView(Z.hostView),ky(this.components,Z),Ce?.unregisterApplication(le)}),this._loadComponent(Z),Z}tick(){if(this._runningTick)throw new Pt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;ky(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(zw,[]);l.push(...this._bootstrapListeners),l.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>ky(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Pt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(Rn(gc),Rn(cu),Rn(md))},n.\u0275prov=In({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ky(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}function f0(){return!1}let p0=(()=>{class n{}return n.__NG_ELEMENT_ID__=m0,n})();function m0(n){return function g0(n,r,s){if(Lr(n)&&!s){const l=Yi(n.index,r);return new Yc(l,l)}return 47&n.type?new Yc(r[yr],r):null}(Ai(),kt(),16==(16&n))}class rE{constructor(){}supports(r){return Ih(r)}create(r){return new E0(r)}}const w0=(n,r)=>r;class E0{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||w0}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,l=this._removalsHead,c=0,d=null;for(;s||l;){const v=!l||s&&s.currentIndex<oE(l,c,d)?s:l,C=oE(v,c,d),R=v.currentIndex;if(v===l)c--,l=l._nextRemoved;else if(s=s._next,null==v.previousIndex)c++;else{d||(d=[]);const Z=C-c,le=R-c;if(Z!=le){for(let qe=0;qe<Z;qe++){const mt=qe<d.length?d[qe]:d[qe]=0,zt=mt+qe;le<=zt&&zt<Z&&(d[qe]=mt+1)}d[v.previousIndex]=le-Z}}C!==R&&r(v,C,R)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Ih(r))throw new Pt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,v,s=this._itHead,l=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)d=r[C],v=this._trackByFn(C,d),null!==s&&Object.is(s.trackById,v)?(l&&(s=this._verifyReinsertion(s,d,v,C)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,v,C),l=!0),s=s._next}else c=0,function xd(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Symbol.iterator]();let l;for(;!(l=s.next()).done;)r(l.value)}}(r,C=>{v=this._trackByFn(c,C),null!==s&&Object.is(s.trackById,v)?(l&&(s=this._verifyReinsertion(s,C,v,c)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,v,c),l=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,l,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new I0(s,l),d,c),r}_verifyReinsertion(r,s,l,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,l),this._addToMoves(r,l),r}_moveAfter(r,s,l){return this._unlink(r),this._insertAfter(r,s,l),this._addToMoves(r,l),r}_addAfter(r,s,l){return this._insertAfter(r,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,l){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new iE),this._linkedRecords.put(r),r.currentIndex=l,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,l=r._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class I0{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class D0{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,r))return l;return null}remove(r){const s=r._prevDup,l=r._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class iE{constructor(){this.map=new Map}put(r){const s=r.trackById;let l=this.map.get(s);l||(l=new D0,this.map.set(s,l)),l.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oE(n,r,s){const l=n.previousIndex;if(null===l)return l;let c=0;return s&&l<s.length&&(c=s[l]),l+r+c}class sE{constructor(){}supports(r){return r instanceof Map||uc(r)}create(){return new S0}}class S0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||uc(r)))throw new Pt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(l,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,l);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const l=r._prev;return s._next=r,s._prev=l,r._prev=s,l&&(l._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,v=c._next;return d&&(d._next=v),v&&(v._prev=d),c._next=null,c._prev=null,c}const l=new b0(r);return this._records.set(r,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(l=>s(r[l],l))}}class b0{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aE(){return new oT([new rE])}let oT=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||aE()),deps:[[n,new Xa,new vl]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(null!=l)return l;throw new Pt(901,!1)}}return n.\u0275prov=In({token:n,providedIn:"root",factory:aE}),n})();function lE(){return new sT([new sE])}let sT=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const c=l.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||lE()),deps:[[n,new Xa,new vl]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(l)return l;throw new Pt(901,!1)}}return n.\u0275prov=In({token:n,providedIn:"root",factory:lE}),n})();const k0=Gw(null,"core",[]);let A0=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Rn(Py))},n.\u0275mod=bo({type:n}),n.\u0275inj=jt({}),n})();function x0(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},9752:(_n,nt,z)=>{z.d(nt,{C6:()=>fn,Jn:()=>li,KN:()=>Gr,Mq:()=>$r,Xd:()=>jt,ZF:()=>Qr,qX:()=>Kn}),z(5861);var J=z(4859),de=z(1877),De=z(2090);z(8766);const vt=new de.Yd("@firebase/app"),Xe="[DEFAULT]",Ht={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ot=new Map,Cn=new Map;function In(Tt,Ne){try{Tt.container.addComponent(Ne)}catch(be){vt.debug(`Component ${Ne.name} failed to register with FirebaseApp ${Tt.name}`,be)}}function jt(Tt){const Ne=Tt.name;if(Cn.has(Ne))return vt.debug(`There were multiple attempts to register component ${Ne}.`),!1;Cn.set(Ne,Tt);for(const be of Ot.values())In(be,Tt);return!0}function Kn(Tt,Ne){const be=Tt.container.getProvider("heartbeat").getImmediate({optional:!0});return be&&be.triggerHeartbeat(),Tt.container.getProvider(Ne)}const Jn=new De.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Tr{constructor(Ne,be,fe){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},be),this._name=be.name,this._automaticDataCollectionEnabled=be.automaticDataCollectionEnabled,this._container=fe,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}}const li="9.23.0";function Qr(Tt,Ne={}){let be=Tt;"object"!=typeof Ne&&(Ne={name:Ne});const fe=Object.assign({name:Xe,automaticDataCollectionEnabled:!1},Ne),me=fe.name;if("string"!=typeof me||!me)throw Jn.create("bad-app-name",{appName:String(me)});if(be||(be=(0,De.aH)()),!be)throw Jn.create("no-options");const Je=Ot.get(me);if(Je){if((0,De.vZ)(be,Je.options)&&(0,De.vZ)(fe,Je.config))return Je;throw Jn.create("duplicate-app",{appName:me})}const dt=new J.H0(me);for(const ye of Cn.values())dt.addComponent(ye);const ve=new Tr(be,fe,dt);return Ot.set(me,ve),ve}function $r(Tt=Xe){const Ne=Ot.get(Tt);if(!Ne&&Tt===Xe&&(0,De.aH)())return Qr();if(!Ne)throw Jn.create("no-app",{appName:Tt});return Ne}function fn(){return Array.from(Ot.values())}function Gr(Tt,Ne,be){var fe;let me=null!==(fe=Ht[Tt])&&void 0!==fe?fe:Tt;be&&(me+=`-${be}`);const Je=me.match(/\s|\//),dt=Ne.match(/\s|\//);if(Je||dt){const ve=[`Unable to register library "${me}" with version "${Ne}":`];return Je&&ve.push(`library name "${me}" contains illegal characters (whitespace or "/")`),Je&&dt&&ve.push("and"),dt&&ve.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void vt.warn(ve.join(" "))}jt(new J.wA(`${me}-version`,()=>({library:me,version:Ne}),"VERSION"))}},8140:(_n,nt,z)=>{z.d(nt,{C6:()=>D.C6,KN:()=>D.KN,Mq:()=>D.Mq,ZF:()=>D.ZF});var D=z(9752)},9678:(_n,nt,z)=>{z.d(nt,{hJ:()=>fo,Xb:()=>x,v0:()=>nc,w$:()=>zr,LS:()=>Ct,e5:()=>te,rh:()=>Xu});var ge,se,Re,_e,Ye,vt,Ue,Ft,Rt,Pt,Mt,un,We,xt,pn,st,Et,Vn,an,hn,ut,Ht,Cn,In,ri,Or,$r,$i,ei,ti,Fr,Vt,Bn,Ne,ve,Fe,rt,Qe,qt,D=z(5861),J=z(2090),de=z(9752),De=z(7582),Ae=z(1877);function en(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}z(4859);const xr=en,yi=new J.LL("auth","Firebase",en()),bo=new Ae.Yd("@firebase/auth");function Zi(j,...p){bo.logLevel<=Ae.in.ERROR&&bo.error(`Auth (${de.Jn}): ${j}`,...p)}function Vi(j,...p){throw cn(j,...p)}function Ni(j,...p){return cn(j,...p)}function pr(j,p,m){const S=Object.assign(Object.assign({},xr()),{[p]:m});return new J.LL("auth","Firebase",S).create(p,{appName:j.name})}function cn(j,...p){if("string"!=typeof j){const m=p[0],S=[...p.slice(1)];return S[0]&&(S[0].appName=j.name),j._errorFactory.create(m,...S)}return yi.create(j,...p)}function Qt(j,p,...m){if(!j)throw cn(p,...m)}function Hn(j){const p="INTERNAL ASSERTION FAILED: "+j;throw Zi(p),new Error(p)}function Gi(j,p){j||Hn(p)}function Go(){var j;return typeof self<"u"&&(null===(j=self.location)||void 0===j?void 0:j.href)||""}function lr(){var j;return typeof self<"u"&&(null===(j=self.location)||void 0===j?void 0:j.protocol)||null}class _r{constructor(p,m){this.shortDelay=p,this.longDelay=m,Gi(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Wo(){return"http:"===lr()||"https:"===lr()}()||(0,J.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function si(j,p){Gi(j.emulator,"Emulator should always be set here");const{url:m}=j.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class nr{static initialize(p,m,S){this.fetchImpl=p,m&&(this.headersImpl=m),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},on=new _r(3e4,6e4);function Wn(j,p){return j.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:j.tenantId}):p}function Ge(j,p,m,S){return(ge=ge||(0,D.Z)(function*(Q,oe,Pe,ze,It={}){return Be(Q,It,(0,D.Z)(function*(){let Yt={},rr={};ze&&("GET"===oe?rr=ze:Yt={body:JSON.stringify(ze)});const En=(0,J.xO)(Object.assign({key:Q.config.apiKey},rr)).slice(1),Xn=yield Q._getAdditionalHeaders();return Xn["Content-Type"]="application/json",Q.languageCode&&(Xn["X-Firebase-Locale"]=Q.languageCode),nr.fetch()(At(Q,Q.config.apiHost,Pe,En),Object.assign({method:oe,headers:Xn,referrerPolicy:"no-referrer"},Yt))}))})).apply(this,arguments)}function Be(j,p,m){return(se=se||(0,D.Z)(function*(S,Q,oe){S._canInitEmulator=!1;const Pe=Object.assign(Object.assign({},nn),Q);try{const ze=new Jt(S),It=yield Promise.race([oe(),ze.promise]);ze.clearNetworkTimeout();const Yt=yield It.json();if("needConfirmation"in Yt)throw bn(S,"account-exists-with-different-credential",Yt);if(It.ok&&!("errorMessage"in Yt))return Yt;{const rr=It.ok?Yt.errorMessage:Yt.error.message,[En,Xn]=rr.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===En)throw bn(S,"credential-already-in-use",Yt);if("EMAIL_EXISTS"===En)throw bn(S,"email-already-in-use",Yt);if("USER_DISABLED"===En)throw bn(S,"user-disabled",Yt);const Oi=Pe[En]||En.toLowerCase().replace(/[_\s]+/g,"-");if(Xn)throw pr(S,Oi,Xn);Vi(S,Oi)}}catch(ze){if(ze instanceof J.ZR)throw ze;Vi(S,"network-request-failed",{message:String(ze)})}})).apply(this,arguments)}function Oe(j,p,m,S){return(Re=Re||(0,D.Z)(function*(Q,oe,Pe,ze,It={}){const Yt=yield Ge(Q,oe,Pe,ze,It);return"mfaPendingCredential"in Yt&&Vi(Q,"multi-factor-auth-required",{_serverResponse:Yt}),Yt})).apply(this,arguments)}function At(j,p,m,S){const Q=`${p}${m}?${S}`;return j.config.emulator?si(j.config,Q):`${j.config.apiScheme}://${Q}`}class Jt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,S)=>{this.timer=setTimeout(()=>S(Ni(this.auth,"network-request-failed")),on.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bn(j,p,m){const S={appName:j.name};m.email&&(S.email=m.email),m.phoneNumber&&(S.phoneNumber=m.phoneNumber);const Q=Ni(j,p,S);return Q.customData._tokenResponse=m,Q}function Sr(j){if(j)try{const p=new Date(Number(j));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Wr(j){return 1e3*Number(j)}function wr(j){const[p,m,S]=j.split(".");if(void 0===p||void 0===m||void 0===S)return Zi("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,J.tV)(m);return Q?JSON.parse(Q):(Zi("Failed to decode base64 JWT payload"),null)}catch(Q){return Zi("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function No(j,p){return(Ue=Ue||(0,D.Z)(function*(m,S,Q=!1){if(Q)return S;try{return yield S}catch(oe){throw oe instanceof J.ZR&&function _o({code:j}){return"auth/user-disabled"===j||"auth/user-token-expired"===j}(oe)&&m.auth.currentUser===m&&(yield m.auth.signOut()),oe}})).apply(this,arguments)}class ys{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const Q=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const S=this.getInterval(p);this.timerId=setTimeout((0,D.Z)(function*(){yield m.iteration()}),S)}iteration(){var p=this;return(0,D.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class vs{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sr(this.lastLoginAt),this.creationTime=Sr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function To(j){return(Ft=Ft||(0,D.Z)(function*(p){var m;const S=p.auth,Q=yield p.getIdToken(),oe=yield No(p,function fi(j,p){return(Ye=Ye||(0,D.Z)(function*(m,S){return Ge(m,"POST","/v1/accounts:lookup",S)})).apply(this,arguments)}(S,{idToken:Q}));Qt(oe?.users.length,S,"internal-error");const Pe=oe.users[0];p._notifyReloadListener(Pe);const ze=null!==(m=Pe.providerUserInfo)&&void 0!==m&&m.length?function Er(j){return j.map(p=>{var{providerId:m}=p,S=(0,De._T)(p,["providerId"]);return{providerId:m,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}(Pe.providerUserInfo):[],It=function Xs(j,p){return[...j.filter(S=>!p.some(Q=>Q.providerId===S.providerId)),...p]}(p.providerData,ze),En=!!p.isAnonymous&&!(p.email&&Pe.passwordHash||It?.length),Xn={uid:Pe.localId,displayName:Pe.displayName||null,photoURL:Pe.photoUrl||null,email:Pe.email||null,emailVerified:Pe.emailVerified||!1,phoneNumber:Pe.phoneNumber||null,tenantId:Pe.tenantId||null,providerData:It,metadata:new vs(Pe.createdAt,Pe.lastLoginAt),isAnonymous:En};Object.assign(p,Xn)})).apply(this,arguments)}class vi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Qt(p.idToken,"internal-error"),Qt(typeof p.idToken<"u","internal-error"),Qt(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Qi(j){const p=wr(j);return Qt(p,"internal-error"),Qt(typeof p.exp<"u","internal-error"),Qt(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var S=this;return(0,D.Z)(function*(){return Qt(!S.accessToken||S.refreshToken,p,"user-token-expired"),m||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(p,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var S=this;return(0,D.Z)(function*(){const{accessToken:Q,refreshToken:oe,expiresIn:Pe}=yield function pi(j,p){return(Pt=Pt||(0,D.Z)(function*(m,S){const Q=yield Be(m,{},(0,D.Z)(function*(){const oe=(0,J.xO)({grant_type:"refresh_token",refresh_token:S}).slice(1),{tokenApiHost:Pe,apiKey:ze}=m.config,It=At(m,Pe,"/v1/token",`key=${ze}`),Yt=yield m._getAdditionalHeaders();return Yt["Content-Type"]="application/x-www-form-urlencoded",nr.fetch()(It,{method:"POST",headers:Yt,body:oe})}));return{accessToken:Q.access_token,expiresIn:Q.expires_in,refreshToken:Q.refresh_token}})).apply(this,arguments)}(p,m);S.updateTokensAndExpiration(Q,oe,Number(Pe))})()}updateTokensAndExpiration(p,m,S){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(p,m){const{refreshToken:S,accessToken:Q,expirationTime:oe}=m,Pe=new vi;return S&&(Qt("string"==typeof S,"internal-error",{appName:p}),Pe.refreshToken=S),Q&&(Qt("string"==typeof Q,"internal-error",{appName:p}),Pe.accessToken=Q),oe&&(Qt("number"==typeof oe,"internal-error",{appName:p}),Pe.expirationTime=oe),Pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new vi,this.toJSON())}_performRefresh(){return Hn("not implemented")}}function Lr(j,p){Qt("string"==typeof j||typeof j>"u","internal-error",{appName:p})}class Mi{constructor(p){var{uid:m,auth:S,stsTokenManager:Q}=p,oe=(0,De._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ys(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=S,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new vs(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,D.Z)(function*(){const S=yield No(m,m.stsTokenManager.getToken(m.auth,p));return Qt(S,m.auth,"internal-error"),m.accessToken!==S&&(m.accessToken=S,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),S})()}getIdTokenResult(p){return function br(j){return(vt=vt||(0,D.Z)(function*(p,m=!1){const S=(0,J.m9)(p),Q=yield S.getIdToken(m),oe=wr(Q);Qt(oe&&oe.exp&&oe.auth_time&&oe.iat,S.auth,"internal-error");const Pe="object"==typeof oe.firebase?oe.firebase:void 0,ze=Pe?.sign_in_provider;return{claims:oe,token:Q,authTime:Sr(Wr(oe.auth_time)),issuedAtTime:Sr(Wr(oe.iat)),expirationTime:Sr(Wr(oe.exp)),signInProvider:ze||null,signInSecondFactor:Pe?.sign_in_second_factor||null}})).apply(this,arguments)}(this,p)}reload(){return function Ji(j){return(Rt=Rt||(0,D.Z)(function*(p){const m=(0,J.m9)(p);yield To(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}(this)}_assign(p){this!==p&&(Qt(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Mi(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){Qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var S=this;return(0,D.Z)(function*(){let Q=!1;p.idToken&&p.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(p),Q=!0),m&&(yield To(S)),yield S.auth._persistUserIfCurrent(S),Q&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var p=this;return(0,D.Z)(function*(){const m=yield p.getIdToken();return yield No(p,function cr(j,p){return(_e=_e||(0,D.Z)(function*(m,S){return Ge(m,"POST","/v1/accounts:delete",S)})).apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var S,Q,oe,Pe,ze,It,Yt,rr;const En=null!==(S=m.displayName)&&void 0!==S?S:void 0,Xn=null!==(Q=m.email)&&void 0!==Q?Q:void 0,Oi=null!==(oe=m.phoneNumber)&&void 0!==oe?oe:void 0,Ea=null!==(Pe=m.photoURL)&&void 0!==Pe?Pe:void 0,Oa=null!==(ze=m.tenantId)&&void 0!==ze?ze:void 0,Na=null!==(It=m._redirectEventId)&&void 0!==It?It:void 0,Wl=null!==(Yt=m.createdAt)&&void 0!==Yt?Yt:void 0,Ii=null!==(rr=m.lastLoginAt)&&void 0!==rr?rr:void 0,{uid:Di,emailVerified:El,isAnonymous:Il,providerData:Kl,stsTokenManager:bc}=m;Qt(Di&&bc,p,"internal-error");const Fl=vi.fromJSON(this.name,bc);Qt("string"==typeof Di,p,"internal-error"),Lr(En,p.name),Lr(Xn,p.name),Qt("boolean"==typeof El,p,"internal-error"),Qt("boolean"==typeof Il,p,"internal-error"),Lr(Oi,p.name),Lr(Ea,p.name),Lr(Oa,p.name),Lr(Na,p.name),Lr(Wl,p.name),Lr(Ii,p.name);const Cc=new Mi({uid:Di,auth:p,email:Xn,emailVerified:El,displayName:En,isAnonymous:Il,photoURL:Ea,phoneNumber:Oi,tenantId:Oa,stsTokenManager:Fl,createdAt:Wl,lastLoginAt:Ii});return Kl&&Array.isArray(Kl)&&(Cc.providerData=Kl.map(ru=>Object.assign({},ru))),Na&&(Cc._redirectEventId=Na),Cc}static _fromIdTokenResponse(p,m,S=!1){return(0,D.Z)(function*(){const Q=new vi;Q.updateFromServerResponse(m);const oe=new Mi({uid:m.localId,auth:p,stsTokenManager:Q,isAnonymous:S});return yield To(oe),oe})()}}const Li=new Map;function Hr(j){Gi(j instanceof Function,"Expected a class definition");let p=Li.get(j);return p?(Gi(p instanceof j,"Instance stored in cache mismatched with class"),p):(p=new j,Li.set(j,p),p)}function Ps(j=(0,J.z$)()){const p=j.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function La(j=(0,J.z$)()){return/iphone|ipad|ipod/i.test(j)||/macintosh/i.test(j)&&/mobile/i.test(j)}function uo(j=(0,J.z$)()){return La(j)||function ks(j=(0,J.z$)()){return/android/i.test(j)}(j)||function As(j=(0,J.z$)()){return/webos/i.test(j)}(j)||function Fo(j=(0,J.z$)()){return/blackberry/i.test(j)}(j)||/windows phone/i.test(j)||function Vs(j=(0,J.z$)()){return/iemobile/i.test(j)}(j)}function Hs(j){return void 0!==j&&void 0!==j.enterprise}class Ts{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function to(j){return new Promise((p,m)=>{const S=document.createElement("script");S.setAttribute("src",j),S.onload=p,S.onerror=Q=>{const oe=Ni("internal-error");oe.customData=Q,m(oe)},S.type="text/javascript",S.charset="UTF-8",function Da(){var j,p;return null!==(p=null===(j=document.getElementsByTagName("head"))||void 0===j?void 0:j[0])&&void 0!==p?p:document}().appendChild(S)})}const Ka="NO_RECAPTCHA";class ra{constructor(p){this.type="recaptcha-enterprise",this.auth=Yr(p)}verify(p="verify",m=!1){var S=this;return(0,D.Z)(function*(){var Q;function Pe(ze,It,Yt){const rr=window.grecaptcha;Hs(rr)?rr.enterprise.ready(()=>{rr.enterprise.execute(ze,{action:p}).then(En=>{It(En)}).catch(()=>{It(Ka)})}):Yt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ze,It)=>{(function oe(ze){return(Q=Q||(0,D.Z)(function*(It){var Yt;if(!m){if(null==It.tenantId&&null!=It._agentRecaptchaConfig)return It._agentRecaptchaConfig.siteKey;if(null!=It.tenantId&&void 0!==It._tenantRecaptchaConfigs[It.tenantId])return It._tenantRecaptchaConfigs[It.tenantId].siteKey}return new Promise(function(rr,En){return(Yt=Yt||(0,D.Z)(function*(Xn,Oi){(function ao(j,p){return(Mt=Mt||(0,D.Z)(function*(m,S){return Ge(m,"GET","/v2/recaptchaConfig",Wn(m,S))})).apply(this,arguments)})(It,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ea=>{if(void 0!==Ea.recaptchaKey){const Oa=new Ts(Ea);return null==It.tenantId?It._agentRecaptchaConfig=Oa:It._tenantRecaptchaConfigs[It.tenantId]=Oa,Xn(Oa.siteKey)}Oi(new Error("recaptcha Enterprise site key undefined"))}).catch(Ea=>{Oi(Ea)})})).apply(this,arguments)})})).apply(this,arguments)})(S.auth).then(Yt=>{if(!m&&Hs(window.grecaptcha))Pe(Yt,ze,It);else{if(typeof window>"u")return void It(new Error("RecaptchaVerifier is only supported in browser"));to("https://www.google.com/recaptcha/enterprise.js?render="+Yt).then(()=>{Pe(Yt,ze,It)}).catch(rr=>{It(rr)})}}).catch(Yt=>{It(Yt)})})})()}}function Xi(j,p,m){return(un=un||(0,D.Z)(function*(S,Q,oe,Pe=!1){const ze=new ra(S);let It;try{It=yield ze.verify(oe)}catch{It=yield ze.verify(oe,!0)}const Yt=Object.assign({},Q);return Object.assign(Yt,Pe?{captchaResp:It}:{captchaResponse:It}),Object.assign(Yt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Yt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Yt})).apply(this,arguments)}function Yr(j){return(0,J.m9)(j)}function lo(j){const p=j.indexOf(":");return p<0?"":j.substr(0,p+1)}function Yi(j){if(!j)return null;const p=Number(j);return isNaN(p)?null:p}class ai{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Hn("not implemented")}_getIdTokenResponse(p){return Hn("not implemented")}_linkToIdToken(p,m){return Hn("not implemented")}_getReauthenticationResolver(p){return Hn("not implemented")}}function no(j,p){return(xt=xt||(0,D.Z)(function*(m,S){return Oe(m,"POST","/v1/accounts:signInWithPassword",Wn(m,S))})).apply(this,arguments)}function er(j,p){return(pn=pn||(0,D.Z)(function*(m,S){return Ge(m,"POST","/v1/accounts:sendOobCode",Wn(m,S))})).apply(this,arguments)}function qa(j,p){return(Et=Et||(0,D.Z)(function*(m,S){return er(m,S)})).apply(this,arguments)}class ma extends ai{constructor(p,m,S,Q=null){super("password",S),this._email=p,this._password=m,this._tenantId=Q}static _fromEmailAndPassword(p,m){return new ma(p,m,"password")}static _fromEmailAndCode(p,m,S=null){return new ma(p,m,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,D.Z)(function*(){var S;switch(m.signInMethod){case"password":const oe={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(S=p._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const Pe=yield Xi(p,oe,"signInWithPassword");return no(p,Pe)}var Q;return no(p,oe).catch(function(Pe){return(Q=Q||(0,D.Z)(function*(ze){if("auth/missing-recaptcha-token"===ze.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const It=yield Xi(p,oe,"signInWithPassword");return no(p,It)}return Promise.reject(ze)})).apply(this,arguments)});case"emailLink":return function Ri(j,p){return(Vn=Vn||(0,D.Z)(function*(m,S){return Oe(m,"POST","/v1/accounts:signInWithEmailLink",Wn(m,S))})).apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Vi(p,"internal-error")}})()}_linkToIdToken(p,m){var S=this;return(0,D.Z)(function*(){switch(S.signInMethod){case"password":return function Es(j,p){return(We=We||(0,D.Z)(function*(m,S){return Ge(m,"POST","/v1/accounts:update",S)})).apply(this,arguments)}(p,{idToken:m,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function ba(j,p){return(an=an||(0,D.Z)(function*(m,S){return Oe(m,"POST","/v1/accounts:signInWithEmailLink",Wn(m,S))})).apply(this,arguments)}(p,{idToken:m,email:S._email,oobCode:S._password});default:Vi(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Zo(j,p){return(hn=hn||(0,D.Z)(function*(m,S){return Oe(m,"POST","/v1/accounts:signInWithIdp",Wn(m,S))})).apply(this,arguments)}class mr extends ai{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new mr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Vi("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:S,signInMethod:Q}=m,oe=(0,De._T)(m,["providerId","signInMethod"]);if(!S||!Q)return null;const Pe=new mr(S,Q);return Pe.idToken=oe.idToken||void 0,Pe.accessToken=oe.accessToken||void 0,Pe.secret=oe.secret,Pe.nonce=oe.nonce,Pe.pendingToken=oe.pendingToken||null,Pe}_getIdTokenResponse(p){return Zo(p,this.buildRequest())}_linkToIdToken(p,m){const S=this.buildRequest();return S.idToken=m,Zo(p,S)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Zo(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,J.xO)(m)}return p}}class Is{constructor(p){var m,S,Q,oe,Pe,ze;const It=(0,J.zd)((0,J.pd)(p)),Yt=null!==(m=It.apiKey)&&void 0!==m?m:null,rr=null!==(S=It.oobCode)&&void 0!==S?S:null,En=function Ca(j){switch(j){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=It.mode)&&void 0!==Q?Q:null);Qt(Yt&&rr&&En,"argument-error"),this.apiKey=Yt,this.operation=En,this.code=rr,this.continueUrl=null!==(oe=It.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(Pe=It.languageCode)&&void 0!==Pe?Pe:null,this.tenantId=null!==(ze=It.tenantId)&&void 0!==ze?ze:null}static parseLink(p){const m=function $s(j){const p=(0,J.zd)((0,J.pd)(j)).link,m=p?(0,J.zd)((0,J.pd)(p)).deep_link_id:null,S=(0,J.zd)((0,J.pd)(j)).deep_link_id;return(S?(0,J.zd)((0,J.pd)(S)).link:null)||S||m||p||j}(p);try{return new Is(m)}catch{return null}}}let Io=(()=>{class j{constructor(){this.providerId=j.PROVIDER_ID}static credential(m,S){return ma._fromEmailAndPassword(m,S)}static credentialWithLink(m,S){const Q=Is.parseLink(S);return Qt(Q,"argument-error"),ma._fromEmailAndCode(m,Q.code,Q.tenantId)}}return j.PROVIDER_ID="password",j.EMAIL_PASSWORD_SIGN_IN_METHOD="password",j.EMAIL_LINK_SIGN_IN_METHOD="emailLink",j})();class Ui{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Do extends Ui{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}let fo=(()=>{class j extends Do{constructor(){super("google.com"),this.addScope("profile")}static credential(m,S){return mr._fromParams({providerId:j.PROVIDER_ID,signInMethod:j.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:S})}static credentialFromResult(m){return j.credentialFromTaggedObject(m)}static credentialFromError(m){return j.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:S,oauthAccessToken:Q}=m;if(!S&&!Q)return null;try{return j.credential(S,Q)}catch{return null}}}return j.GOOGLE_SIGN_IN_METHOD="google.com",j.PROVIDER_ID="google.com",j})();function Po(j,p){return(ut=ut||(0,D.Z)(function*(m,S){return Oe(m,"POST","/v1/accounts:signUp",Wn(m,S))})).apply(this,arguments)}class mo{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,S,Q=!1){return(0,D.Z)(function*(){const oe=yield Mi._fromIdTokenResponse(p,S,Q),Pe=ps(S);return new mo({user:oe,providerId:Pe,_tokenResponse:S,operationType:m})})()}static _forOperation(p,m,S){return(0,D.Z)(function*(){yield p._updateTokensIfNecessary(S,!0);const Q=ps(S);return new mo({user:p,providerId:Q,_tokenResponse:S,operationType:m})})()}}function ps(j){return j.providerId?j.providerId:"phoneNumber"in j?"phone":null}class Os extends J.ZR{constructor(p,m,S,Q){var oe;super(m.code,m.message),this.operationType=S,this.user=Q,Object.setPrototypeOf(this,Os.prototype),this.customData={appName:p.name,tenantId:null!==(oe=p.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:m.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(p,m,S,Q){return new Os(p,m,S,Q)}}function ko(j,p,m,S){return("reauthenticate"===p?m._getReauthenticationResolver(j):m._getIdTokenResponse(j)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?Os._fromErrorAndOperation(j,oe,p,S):oe})}function ka(j,p){return(In=In||(0,D.Z)(function*(m,S,Q=!1){const Pe=yield ko(m,"signIn",S),ze=yield mo._fromIdTokenResponse(m,"signIn",Pe);return Q||(yield m._updateCurrentUser(ze.user)),ze})).apply(this,arguments)}function lt(j,p,m){var S;Qt((null===(S=m.url)||void 0===S?void 0:S.length)>0,j,"invalid-continue-uri"),Qt(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,j,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Qt(m.iOS.bundleId.length>0,j,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Qt(m.android.packageName.length>0,j,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Ct(j,p,m){return(Or=Or||(0,D.Z)(function*(S,Q,oe){var Pe;const ze=Yr(S),It={requestType:"PASSWORD_RESET",email:Q,clientType:"CLIENT_TYPE_WEB"};if(null!==(Pe=ze._getRecaptchaConfig())&&void 0!==Pe&&Pe.emailPasswordEnabled){const rr=yield Xi(ze,It,"getOobCode",!0);oe&&lt(ze,rr,oe),yield qa(ze,rr)}else{var Yt;oe&&lt(ze,It,oe),yield qa(ze,It).catch(function(rr){return(Yt=Yt||(0,D.Z)(function*(En){if("auth/missing-recaptcha-token"!==En.code)return Promise.reject(En);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Xn=yield Xi(ze,It,"getOobCode",!0);oe&&lt(ze,Xn,oe),yield qa(ze,Xn)}})).apply(this,arguments)})}})).apply(this,arguments)}function x(j,p,m){return($r=$r||(0,D.Z)(function*(S,Q,oe){var Pe;const ze=Yr(S),It={returnSecureToken:!0,email:Q,password:oe,clientType:"CLIENT_TYPE_WEB"};let Yt;if(null!==(Pe=ze._getRecaptchaConfig())&&void 0!==Pe&&Pe.emailPasswordEnabled){const Oi=yield Xi(ze,It,"signUpPassword");Yt=Po(ze,Oi)}else{var rr;Yt=Po(ze,It).catch(function(Oi){return(rr=rr||(0,D.Z)(function*(Ea){if("auth/missing-recaptcha-token"===Ea.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Oa=yield Xi(ze,It,"signUpPassword");return Po(ze,Oa)}return Promise.reject(Ea)})).apply(this,arguments)})}const En=yield Yt.catch(Oi=>Promise.reject(Oi)),Xn=yield mo._fromIdTokenResponse(ze,"signIn",En);return yield ze._updateCurrentUser(Xn.user),Xn})).apply(this,arguments)}function te(j,p,m){return function K(j,p){return(ri=ri||(0,D.Z)(function*(m,S){return ka(Yr(m),S)})).apply(this,arguments)}((0,J.m9)(j),Io.credential(p,m))}function zr(j,p){return($i=$i||(0,D.Z)(function*(m,S){const Q=(0,J.m9)(m),Pe={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};S&&lt(Q.auth,Pe,S);const{email:ze}=yield function Co(j,p){return(st=st||(0,D.Z)(function*(m,S){return er(m,S)})).apply(this,arguments)}(Q.auth,Pe);ze!==m.email&&(yield m.reload())})).apply(this,arguments)}const ji="__sak";class Mo{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ji,"1"),this.storage.removeItem(ji),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ds=(()=>{class j extends Mo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,S)=>this.onStorageEvent(m,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ro(){const j=(0,J.z$)();return Ps(j)||La(j)}()&&function Bs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=uo(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const S of Object.keys(this.listeners)){const Q=this.storage.getItem(S),oe=this.localCache[S];Q!==oe&&m(S,oe,Q)}}onStorageEvent(m,S=!1){if(!m.key)return void this.forAllChangedKeys((ze,It,Yt)=>{this.notifyListeners(ze,Yt)});const Q=m.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ze=this.storage.getItem(Q);if(m.newValue!==ze)null!==m.newValue?this.storage.setItem(Q,m.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===m.newValue&&!S)return}const oe=()=>{const ze=this.storage.getItem(Q);!S&&this.localCache[Q]===ze||this.notifyListeners(Q,ze)},Pe=this.storage.getItem(Q);!function Lo(){return(0,J.w1)()&&10===document.documentMode}()||Pe===m.newValue||m.newValue===m.oldValue?oe():setTimeout(oe,10)}notifyListeners(m,S){this.localCache[m]=S;const Q=this.listeners[m];if(Q)for(const oe of Array.from(Q))oe(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,S,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:S,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(S)}_removeListener(m,S){this.listeners[m]&&(this.listeners[m].delete(S),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,S){var Q=()=>super._set,oe=this;return(0,D.Z)(function*(){yield Q().call(oe,m,S),oe.localCache[m]=JSON.stringify(S)})()}_get(m){var S=()=>super._get,Q=this;return(0,D.Z)(function*(){const oe=yield S().call(Q,m);return Q.localCache[m]=JSON.stringify(oe),oe})()}_remove(m){var S=()=>super._remove,Q=this;return(0,D.Z)(function*(){yield S().call(Q,m),delete Q.localCache[m]})()}}return j.type="LOCAL",j})(),yo=(()=>{class j extends Mo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,S){}_removeListener(m,S){}}return j.type="SESSION",j})();let es=(()=>{class j{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const S=this.receivers.find(oe=>oe.isListeningto(m));if(S)return S;const Q=new j(m);return this.receivers.push(Q),Q}isListeningto(m){return this.eventTarget===m}handleEvent(m){var S=this;return(0,D.Z)(function*(){var Q;const oe=m,{eventId:Pe,eventType:ze,data:It}=oe.data,Yt=S.handlersMap[ze];if(!Yt?.size)return;oe.ports[0].postMessage({status:"ack",eventId:Pe,eventType:ze});const rr=Array.from(Yt).map(function(Xn){return(Q=Q||(0,D.Z)(function*(Oi){return Oi(oe.origin,It)})).apply(this,arguments)}),En=yield function cs(j){var p;return Promise.all(j.map(function(m){return(p=p||(0,D.Z)(function*(S){try{return{fulfilled:!0,value:yield S}}catch(Q){return{fulfilled:!1,reason:Q}}})).apply(this,arguments)}))}(rr);oe.ports[0].postMessage({status:"done",eventId:Pe,eventType:ze,response:En})})()}_subscribe(m,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(S)}_unsubscribe(m,S){this.handlersMap[m]&&S&&this.handlersMap[m].delete(S),(!S||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return j.receivers=[],j})();function Ci(j="",p=10){let m="";for(let S=0;S<p;S++)m+=Math.floor(10*Math.random());return j+m}class Aa{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,S=50){var Q=this;return(0,D.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let Pe,ze;return new Promise((It,Yt)=>{const rr=Ci("",20);oe.port1.start();const En=setTimeout(()=>{Yt(new Error("unsupported_event"))},S);ze={messageChannel:oe,onMessage(Xn){const Oi=Xn;if(Oi.data.eventId===rr)switch(Oi.data.status){case"ack":clearTimeout(En),Pe=setTimeout(()=>{Yt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Pe),It(Oi.data.response);break;default:clearTimeout(En),clearTimeout(Pe),Yt(new Error("invalid_response"))}}},Q.handlers.add(ze),oe.port1.addEventListener("message",ze.onMessage),Q.target.postMessage({eventType:p,eventId:rr,data:m},[oe.port2])}).finally(()=>{ze&&Q.removeMessageHandler(ze)})})()}}function qn(){return window}function xi(){return typeof qn().WorkerGlobalScope<"u"&&"function"==typeof qn().importScripts}const oo="firebaseLocalStorageDb",va=1,Qa="firebaseLocalStorage",Yn="fbase_key";class Gn{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function xa(j,p){return j.transaction([Qa],p?"readwrite":"readonly").objectStore(Qa)}function gt(){const j=indexedDB.open(oo,va);return new Promise((p,m)=>{j.addEventListener("error",()=>{m(j.error)}),j.addEventListener("upgradeneeded",()=>{const S=j.result;try{S.createObjectStore(Qa,{keyPath:Yn})}catch(Q){m(Q)}}),j.addEventListener("success",(0,D.Z)(function*(){const S=j.result;S.objectStoreNames.contains(Qa)?p(S):(S.close(),yield function Dn(){const j=indexedDB.deleteDatabase(oo);return new Gn(j).toPromise()}(),p(yield gt()))}))})}function Zt(j,p,m){return(ti=ti||(0,D.Z)(function*(S,Q,oe){const Pe=xa(S,!0).put({[Yn]:Q,value:oe});return new Gn(Pe).toPromise()})).apply(this,arguments)}function Ei(j,p){const m=xa(j,!0).delete(p);return new Gn(m).toPromise()}const Va=(()=>{class j{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,D.Z)(function*(){return m.db||(m.db=yield gt()),m.db})()}_withRetries(m){var S=this;return(0,D.Z)(function*(){let Q=0;for(;;)try{const oe=yield S._openDb();return yield m(oe)}catch(oe){if(Q++>3)throw oe;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,D.Z)(function*(){return xi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,D.Z)(function*(){var S,Q;m.receiver=es._getInstance(function sn(){return xi()?self:null}()),m.receiver._subscribe("keyChanged",function(oe,Pe){return(S=S||(0,D.Z)(function*(ze,It){return{keyProcessed:(yield m._poll()).includes(It.key)}})).apply(this,arguments)}),m.receiver._subscribe("ping",function(oe,Pe){return(Q=Q||(0,D.Z)(function*(ze,It){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var m=this;return(0,D.Z)(function*(){var S,Q;if(m.activeServiceWorker=yield function ms(){return(ei=ei||(0,D.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Aa(m.activeServiceWorker);const oe=yield m.sender._send("ping",{},800);oe&&null!==(S=oe[0])&&void 0!==S&&S.fulfilled&&null!==(Q=oe[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var S=this;return(0,D.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function Pi(){var j;return(null===(j=navigator?.serviceWorker)||void 0===j?void 0:j.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:m},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,D.Z)(function*(){try{if(!indexedDB)return!1;const m=yield gt();return yield Zt(m,ji,"1"),yield Ei(m,ji),!0}catch{}return!1})()}_withPendingWrite(m){var S=this;return(0,D.Z)(function*(){S.pendingWrites++;try{yield m()}finally{S.pendingWrites--}})()}_set(m,S){var Q=this;return(0,D.Z)(function*(){return Q._withPendingWrite((0,D.Z)(function*(){return yield Q._withRetries(oe=>Zt(oe,m,S)),Q.localCache[m]=S,Q.notifyServiceWorker(m)}))})()}_get(m){var S=this;return(0,D.Z)(function*(){const Q=yield S._withRetries(oe=>function xn(j,p){return(Fr=Fr||(0,D.Z)(function*(m,S){const Q=xa(m,!1).get(S),oe=yield new Gn(Q).toPromise();return void 0===oe?null:oe.value})).apply(this,arguments)}(oe,m));return S.localCache[m]=Q,Q})()}_remove(m){var S=this;return(0,D.Z)(function*(){return S._withPendingWrite((0,D.Z)(function*(){return yield S._withRetries(Q=>Ei(Q,m)),delete S.localCache[m],S.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,D.Z)(function*(){const S=yield m._withRetries(Pe=>{const ze=xa(Pe,!1).getAll();return new Gn(ze).toPromise()});if(!S)return[];if(0!==m.pendingWrites)return[];const Q=[],oe=new Set;for(const{fbase_key:Pe,value:ze}of S)oe.add(Pe),JSON.stringify(m.localCache[Pe])!==JSON.stringify(ze)&&(m.notifyListeners(Pe,ze),Q.push(Pe));for(const Pe of Object.keys(m.localCache))m.localCache[Pe]&&!oe.has(Pe)&&(m.notifyListeners(Pe,null),Q.push(Pe));return Q})()}notifyListeners(m,S){this.localCache[m]=S;const Q=this.listeners[m];if(Q)for(const oe of Array.from(Q))oe(S)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,D.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(S)}_removeListener(m,S){this.listeners[m]&&(this.listeners[m].delete(S),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return j.type="LOCAL",j})();function Ta(j,p){return p?Hr(p):(Qt(j._popupRedirectResolver,j,"argument-error"),j._popupRedirectResolver)}class _l extends ai{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Zo(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Zo(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Zo(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Du(j){return ka(j.auth,new _l(j),j.bypassAuthState)}function Tl(j){const{auth:p,user:m}=j;return Qt(m,p,"internal-error"),function Yo(j,p){return(Cn=Cn||(0,D.Z)(function*(m,S,Q=!1){const{auth:oe}=m,Pe="reauthenticate";try{const ze=yield No(m,ko(oe,Pe,S,m),Q);Qt(ze.idToken,oe,"internal-error");const It=wr(ze.idToken);Qt(It,oe,"internal-error");const{sub:Yt}=It;return Qt(m.uid===Yt,oe,"user-mismatch"),mo._forOperation(m,Pe,ze)}catch(ze){throw"auth/user-not-found"===ze?.code&&Vi(oe,"user-mismatch"),ze}})).apply(this,arguments)}(m,new _l(j),j.bypassAuthState)}function pt(j){return(Vt=Vt||(0,D.Z)(function*(p){const{auth:m,user:S}=p;return Qt(S,m,"internal-error"),function Jo(j,p){return(Ht=Ht||(0,D.Z)(function*(m,S,Q=!1){const oe=yield No(m,S._linkToIdToken(m.auth,yield m.getIdToken()),Q);return mo._forOperation(m,"link",oe)})).apply(this,arguments)}(S,new _l(p),p.bypassAuthState)})).apply(this,arguments)}class ol{constructor(p,m,S,Q,oe=!1){this.auth=p,this.resolver=S,this.user=Q,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var m,p=this;return new Promise(function(S,Q){return(m=m||(0,D.Z)(function*(oe,Pe){p.pendingPromise={resolve:oe,reject:Pe};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(ze){p.reject(ze)}})).apply(this,arguments)})}onAuthEvent(p){var m=this;return(0,D.Z)(function*(){const{urlResponse:S,sessionId:Q,postBody:oe,tenantId:Pe,error:ze,type:It}=p;if(ze)return void m.reject(ze);const Yt={auth:m.auth,requestUri:S,sessionId:Q,tenantId:Pe||void 0,postBody:oe||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(It)(Yt))}catch(rr){m.reject(rr)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Du;case"linkViaPopup":case"linkViaRedirect":return pt;case"reauthViaPopup":case"reauthViaRedirect":return Tl;default:Vi(this.auth,"internal-error")}}resolve(p){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wa=new _r(2e3,1e4);function Xu(j,p,m){return(Bn=Bn||(0,D.Z)(function*(S,Q,oe){const Pe=Yr(S);!function Dr(j,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Vi(j,"argument-error"),pr(j,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(S,Q,Ui);const ze=Ta(Pe,oe);return new vc(Pe,"signInViaPopup",Q,ze).executeNotNull()})).apply(this,arguments)}let vc=(()=>{class j extends ol{constructor(m,S,Q,oe,Pe){super(m,S,oe,Pe),this.provider=Q,this.authWindow=null,this.pollId=null,j.currentPopupAction&&j.currentPopupAction.cancel(),j.currentPopupAction=this}executeNotNull(){var m=this;return(0,D.Z)(function*(){const S=yield m.execute();return Qt(S,m.auth,"internal-error"),S})()}onExecution(){var m=this;return(0,D.Z)(function*(){Gi(1===m.filter.length,"Popup operations only handle one event");const S=Ci();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],S),m.authWindow.associatedEvent=S,m.resolver._originValidation(m.auth).catch(Q=>{m.reject(Q)}),m.resolver._isIframeWebStorageSupported(m.auth,Q=>{Q||m.reject(Ni(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,j.currentPopupAction=null}pollUserCancellation(){const m=()=>{var S,Q;this.pollId=null!==(Q=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,wa.get())};m()}}return j.currentPopupAction=null,j})();const kl="pendingRedirect",pl=new Map;class $c extends ol{constructor(p,m,S=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,S),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,D.Z)(function*(){let S=pl.get(m.auth._key());if(!S){try{const oe=(yield function ed(j,p){return(Ne=Ne||(0,D.Z)(function*(m,S){const Q=function Gc(j){return function rs(j,p,m){return`firebase:${j}:${p}:${m}`}(kl,j.config.apiKey,j.name)}(S),oe=function Al(j){return Hr(j._redirectPersistence)}(m);if(!(yield oe._isAvailable()))return!1;const Pe="true"===(yield oe._get(Q));return yield oe._remove(Q),Pe})).apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;S=()=>Promise.resolve(oe)}catch(Q){S=()=>Promise.reject(Q)}pl.set(m.auth._key(),S)}return m.bypassAuthState||pl.set(m.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,S=this;return(0,D.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(S,p);if("unknown"!==p.type){if(p.eventId){const Q=yield S.auth._redirectUserForId(p.eventId);if(Q)return S.user=Q,m().call(S,p);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,D.Z)(function*(){})()}cleanUp(){}}function zl(j,p){pl.set(j._key(),p)}function tl(j,p){return(ve=ve||(0,D.Z)(function*(m,S,Q=!1){const oe=Yr(m),Pe=Ta(oe,S),It=yield new $c(oe,Pe,Q).execute();return It&&!Q&&(delete It.user._redirectEventId,yield oe._persistUserIfCurrent(It.user),yield oe._setRedirectUser(null,S)),It})).apply(this,arguments)}class ec{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(p,S)&&(m=!0,this.sendToConsumer(p,S),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function bu(j){switch(j.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return td(j);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var S;if(p.error&&!td(p)){const Q=(null===(S=p.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";m.onError(Ni(this.auth,Q))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const S=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&S}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zc(p))}saveEventToCache(p){this.cachedEventUids.add(Zc(p)),this.lastProcessedEventTime=Date.now()}}function Zc(j){return[j.type,j.eventId,j.sessionId,j.tenantId].filter(p=>p).join("-")}function td({type:j,error:p}){return"unknown"===j&&"auth/no-auth-event"===p?.code}const Jc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xc=/^https?/;function Tc(j){const p=Go(),{protocol:m,hostname:S}=new URL(p);if(j.startsWith("chrome-extension://")){const Pe=new URL(j);return""===Pe.hostname&&""===S?"chrome-extension:"===m&&j.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Pe.hostname===S}if(!Xc.test(m))return!1;if(Jc.test(j))return S===j;const Q=j.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(S)}const sl=new _r(3e4,6e4);function eu(){const j=qn().___jsl;if(j?.H)for(const p of Object.keys(j.H))if(j.H[p].r=j.H[p].r||[],j.H[p].L=j.H[p].L||[],j.H[p].r=[...j.H[p].L],j.CP)for(let m=0;m<j.CP.length;m++)j.CP[m]=null}let Rl=null;const wc=new _r(5e3,15e3),Cu="__/auth/iframe",tu="emulator/auth/iframe",tc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},us=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nu(j){const p=j.config;Qt(p.authDomain,j,"auth-domain-config-required");const m=p.emulator?si(p,tu):`https://${j.config.authDomain}/${Cu}`,S={apiKey:p.apiKey,appName:j.name,v:de.Jn},Q=us.get(j.config.apiHost);Q&&(S.eid=Q);const oe=j._getFrameworks();return oe.length&&(S.fw=oe.join(",")),`${m}?${(0,J.xO)(S).slice(1)}`}function N(j){return(Qe=Qe||(0,D.Z)(function*(p){const m=yield function al(j){return Rl=Rl||function Ml(j){return new Promise((p,m)=>{var S,Q,oe;function Pe(){eu(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{eu(),m(Ni(j,"network-request-failed"))},timeout:sl.get()})}if(null!==(Q=null===(S=qn().gapi)||void 0===S?void 0:S.iframes)&&void 0!==Q&&Q.Iframe)p(gapi.iframes.getContext());else{if(null===(oe=qn().gapi)||void 0===oe||!oe.load){const ze=function ws(j){return`__${j}${Math.floor(1e6*Math.random())}`}("iframefcb");return qn()[ze]=()=>{gapi.load?Pe():m(Ni(j,"network-request-failed"))},to(`https://apis.google.com/js/api.js?onload=${ze}`).catch(It=>m(It))}Pe()}}).catch(p=>{throw Rl=null,p})}(j),Rl}(p),S=qn().gapi;return Qt(S,p,"internal-error"),m.open({where:document.body,url:nu(p),messageHandlersFilter:S.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tc,dontclear:!0},Q=>{var oe;return new Promise(function(Pe,ze){return(oe=oe||(0,D.Z)(function*(It,Yt){yield Q.restyle({setHideOnLeave:!1});const rr=Ni(p,"network-request-failed"),En=qn().setTimeout(()=>{Yt(rr)},wc.get());function Xn(){qn().clearTimeout(En),It(Q)}Q.ping(Xn).then(Xn,()=>{Yt(rr)})})).apply(this,arguments)})})})).apply(this,arguments)}const Y={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G=500,pe=600,ke="_blank",He="http://localhost";class bt{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ut(j,p,m,S=G,Q=pe){const oe=Math.max((window.screen.availHeight-Q)/2,0).toString(),Pe=Math.max((window.screen.availWidth-S)/2,0).toString();let ze="";const It=Object.assign(Object.assign({},Y),{width:S.toString(),height:Q.toString(),top:oe,left:Pe}),Yt=(0,J.z$)().toLowerCase();m&&(ze=function ea(j=(0,J.z$)()){return/crios\//i.test(j)}(Yt)?ke:m),function _i(j=(0,J.z$)()){return/firefox\//i.test(j)}(Yt)&&(p=p||He,It.scrollbars="yes");const rr=Object.entries(It).reduce((Xn,[Oi,Ea])=>`${Xn}${Oi}=${Ea},`,"");if(function Ya(j=(0,J.z$)()){var p;return La(j)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Yt)&&"_self"!==ze)return function Xt(j,p){const m=document.createElement("a");m.href=j,m.target=p;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(S)}(p||"",ze),new bt(null);const En=window.open(p||"",ze,rr);Qt(En,j,"popup-blocked");try{En.focus()}catch{}return new bt(En)}const Fn="__/auth/handler",Zn="emulator/auth/handler",On=encodeURIComponent("fac");function gi(j,p,m,S,Q,oe){return(qt=qt||(0,D.Z)(function*(Pe,ze,It,Yt,rr,En){Qt(Pe.config.authDomain,Pe,"auth-domain-config-required"),Qt(Pe.config.apiKey,Pe,"invalid-api-key");const Xn={apiKey:Pe.config.apiKey,appName:Pe.name,authType:It,redirectUrl:Yt,v:de.Jn,eventId:rr};if(ze instanceof Ui){ze.setDefaultLanguage(Pe.languageCode),Xn.providerId=ze.providerId||"",(0,J.xb)(ze.getCustomParameters())||(Xn.customParameters=JSON.stringify(ze.getCustomParameters()));for(const[Na,Wl]of Object.entries(En||{}))Xn[Na]=Wl}if(ze instanceof Do){const Na=ze.getScopes().filter(Wl=>""!==Wl);Na.length>0&&(Xn.scopes=Na.join(","))}Pe.tenantId&&(Xn.tid=Pe.tenantId);const Oi=Xn;for(const Na of Object.keys(Oi))void 0===Oi[Na]&&delete Oi[Na];const Ea=yield Pe._getAppCheckToken(),Oa=Ea?`#${On}=${encodeURIComponent(Ea)}`:"";return`${function Wi({config:j}){return j.emulator?si(j,Zn):`https://${j.authDomain}/${Fn}`}(Pe)}?${(0,J.xO)(Oi).slice(1)}${Oa}`})).apply(this,arguments)}const jr="webStorageSupport",bs=class So{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yo,this._completeRedirectFn=tl,this._overrideRedirectResult=zl}_openPopup(p,m,S,Q){var oe=this;return(0,D.Z)(function*(){var Pe;Gi(null===(Pe=oe.eventManagers[p._key()])||void 0===Pe?void 0:Pe.manager,"_initialize() not called before _openPopup()");const ze=yield gi(p,m,S,Go(),Q);return Ut(p,ze,Ci())})()}_openRedirect(p,m,S,Q){var oe=this;return(0,D.Z)(function*(){return yield oe._originValidation(p),function Ss(j){qn().location.href=j}(yield gi(p,m,S,Go(),Q)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:Q,promise:oe}=this.eventManagers[m];return Q?Promise.resolve(Q):(Gi(oe,"If manager is not set, promise should be"),oe)}const S=this.initAndGetManager(p);return this.eventManagers[m]={promise:S},S.catch(()=>{delete this.eventManagers[m]}),S}initAndGetManager(p){var m=this;return(0,D.Z)(function*(){const S=yield N(p),Q=new ec(p);return S.register("authEvent",oe=>(Qt(oe?.authEvent,p,"invalid-auth-event"),{status:Q.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:Q},m.iframes[p._key()]=S,Q})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(jr,{type:jr},Q=>{var oe;const Pe=null===(oe=Q?.[0])||void 0===oe?void 0:oe[jr];void 0!==Pe&&m(!!Pe),Vi(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function xl(j){return(rt=rt||(0,D.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:m}=yield function Qc(j){return(Fe=Fe||(0,D.Z)(function*(p,m={}){return Ge(p,"GET","/v1/projects",m)})).apply(this,arguments)}(p);for(const S of m)try{if(Tc(S))return}catch{}Vi(p,"unauthorized-domain")})).apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return uo()||Ps()||La()}},Sc=(0,J.Pz)("authIdTokenMaxAge")||300;let Nl=null;const nd=j=>{var p;return function(m){return(p=p||(0,D.Z)(function*(S){const Q=S&&(yield S.getIdTokenResult()),oe=Q&&((new Date).getTime()-Date.parse(Q.issuedAtTime))/1e3;if(oe&&oe>Sc)return;const Pe=Q?.token;Nl!==Pe&&(Nl=Pe,yield fetch(j,{method:Pe?"POST":"DELETE",headers:Pe?{Authorization:`Bearer ${Pe}`}:{}}))})).apply(this,arguments)}};function nc(j=(0,de.Mq)()){const p=(0,de.qX)(j,"auth");if(p.isInitialized())return p.getImmediate();const m=function is(j,p){const m=(0,de.qX)(j,"auth");if(m.isInitialized()){const Q=m.getImmediate(),oe=m.getOptions();if((0,J.vZ)(oe,p??{}))return Q;Vi(Q,"already-initialized")}return m.initialize({options:p})}(j,{popupRedirectResolver:bs,persistence:[Va,Ds,yo]}),S=(0,J.Pz)("authTokenSyncURL");if(S){const oe=nd(S);(function ca(j,p,m){(0,J.m9)(j).beforeAuthStateChanged(p,m)})(m,oe,()=>oe(m.currentUser)),function ls(j,p,m,S){(0,J.m9)(j).onIdTokenChanged(p,m,S)}(m,Pe=>oe(Pe))}const Q=(0,J.q4)("auth");return Q&&function Jr(j,p,m){const S=Yr(j);Qt(S._canInitEmulator,S,"emulator-config-failed"),Qt(/^https?:\/\//.test(p),S,"invalid-emulator-scheme");const Q=!!m?.disableWarnings,oe=lo(p),{host:Pe,port:ze}=function Si(j){const p=lo(j),m=/(\/\/)?([^?#/]+)/.exec(j.substr(p.length));if(!m)return{host:"",port:null};const S=m[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(S);if(Q){const oe=Q[1];return{host:oe,port:Yi(S.substr(oe.length+1))}}{const[oe,Pe]=S.split(":");return{host:oe,port:Yi(Pe)}}}(p);S.config.emulator={url:`${oe}//${Pe}${null===ze?"":`:${ze}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Pe,port:ze,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function Ua(){function j(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",j):j())}()}(m,`http://${Q}`),m}},1481:(_n,nt,z)=>{z.d(nt,{Dx:()=>ar,H7:()=>Fe,b2:()=>Gr,q6:()=>Qr,se:()=>an});var D=z(6895),J=z(4650);class de extends D.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class De extends de{static makeCurrent(){(0,D.HT)(new De)}onAndCancel(Me,he,je){return Me.addEventListener(he,je,!1),()=>{Me.removeEventListener(he,je,!1)}}dispatchEvent(Me,he){Me.dispatchEvent(he)}remove(Me){Me.parentNode&&Me.parentNode.removeChild(Me)}createElement(Me,he){return(he=he||this.getDefaultDocument()).createElement(Me)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Me){return Me.nodeType===Node.ELEMENT_NODE}isShadowRoot(Me){return Me instanceof DocumentFragment}getGlobalEventTarget(Me,he){return"window"===he?window:"document"===he?Me:"body"===he?Me.body:null}getBaseHref(Me){const he=function Ie(){return Ae=Ae||document.querySelector("base"),Ae?Ae.getAttribute("href"):null}();return null==he?null:function se(Le){ge=ge||document.createElement("a"),ge.setAttribute("href",Le);const Me=ge.pathname;return"/"===Me.charAt(0)?Me:`/${Me}`}(he)}resetBaseElement(){Ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(Me){return(0,D.Mx)(document.cookie,Me)}}let ge,Ae=null;const Re=new J.OlP("TRANSITION_ID"),Ee=[{provide:J.ip1,useFactory:function _e(Le,Me,he){return()=>{he.get(J.CZH).donePromise.then(()=>{const je=(0,D.q)(),ft=Me.querySelectorAll(`style[ng-transition="${Le}"]`);for(let Lt=0;Lt<ft.length;Lt++)je.remove(ft[Lt])})}},deps:[Re,D.K0,J.zs3],multi:!0}];let vt=(()=>{class Le{build(){return new XMLHttpRequest}}return Le.\u0275fac=function(he){return new(he||Le)},Le.\u0275prov=J.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Ue=new J.OlP("EventManagerPlugins");let Ft=(()=>{class Le{constructor(he,je){this._zone=je,this._eventNameToPlugin=new Map,he.forEach(ft=>{ft.manager=this}),this._plugins=he.slice().reverse()}addEventListener(he,je,ft){return this._findPluginFor(je).addEventListener(he,je,ft)}addGlobalEventListener(he,je,ft){return this._findPluginFor(je).addGlobalEventListener(he,je,ft)}getZone(){return this._zone}_findPluginFor(he){const je=this._eventNameToPlugin.get(he);if(je)return je;const ft=this._plugins;for(let Lt=0;Lt<ft.length;Lt++){const en=ft[Lt];if(en.supports(he))return this._eventNameToPlugin.set(he,en),en}throw new Error(`No event manager plugin found for event ${he}`)}}return Le.\u0275fac=function(he){return new(he||Le)(J.LFG(Ue),J.LFG(J.R0b))},Le.\u0275prov=J.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class Rt{constructor(Me){this._doc=Me}addGlobalEventListener(Me,he,je){const ft=(0,D.q)().getGlobalEventTarget(this._doc,Me);if(!ft)throw new Error(`Unsupported event target ${ft} for event ${he}`);return this.addEventListener(ft,he,je)}}let Pt=(()=>{class Le{constructor(){this.usageCount=new Map}addStyles(he){for(const je of he)1===this.changeUsageCount(je,1)&&this.onStyleAdded(je)}removeStyles(he){for(const je of he)0===this.changeUsageCount(je,-1)&&this.onStyleRemoved(je)}onStyleRemoved(he){}onStyleAdded(he){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(he,je){const ft=this.usageCount;let Lt=ft.get(he)??0;return Lt+=je,Lt>0?ft.set(he,Lt):ft.delete(he),Lt}ngOnDestroy(){for(const he of this.getAllStyles())this.onStyleRemoved(he);this.usageCount.clear()}}return Le.\u0275fac=function(he){return new(he||Le)},Le.\u0275prov=J.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),$t=(()=>{class Le extends Pt{constructor(he){super(),this.doc=he,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(he){for(const je of this.hostNodes)this.addStyleToHost(je,he)}onStyleRemoved(he){const je=this.styleRef;je.get(he)?.forEach(Lt=>Lt.remove()),je.delete(he)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(he){this.hostNodes.add(he);for(const je of this.getAllStyles())this.addStyleToHost(he,je)}removeHost(he){this.hostNodes.delete(he)}addStyleToHost(he,je){const ft=this.doc.createElement("style");ft.textContent=je,he.appendChild(ft);const Lt=this.styleRef.get(je);Lt?Lt.push(ft):this.styleRef.set(je,[ft])}resetHostNodes(){const he=this.hostNodes;he.clear(),he.add(this.doc.head)}}return Le.\u0275fac=function(he){return new(he||Le)(J.LFG(D.K0))},Le.\u0275prov=J.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},un=/%COMP%/g,st=new J.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ln(Le,Me){return Me.flat(100).map(he=>he.replace(un,Le))}function Vn(Le){return Me=>{if("__ngUnwrap__"===Me)return Le;!1===Le(Me)&&(Me.preventDefault(),Me.returnValue=!1)}}let an=(()=>{class Le{constructor(he,je,ft,Lt){this.eventManager=he,this.sharedStylesHost=je,this.appId=ft,this.removeStylesOnCompDestory=Lt,this.rendererByCompId=new Map,this.defaultRenderer=new hn(he)}createRenderer(he,je){if(!he||!je)return this.defaultRenderer;const ft=this.getOrCreateRenderer(he,je);return ft instanceof ht?ft.applyToHost(he):ft instanceof ut&&ft.applyStyles(),ft}getOrCreateRenderer(he,je){const ft=this.rendererByCompId;let Lt=ft.get(je.id);if(!Lt){const en=this.eventManager,tr=this.sharedStylesHost,xr=this.removeStylesOnCompDestory;switch(je.encapsulation){case J.ifc.Emulated:Lt=new ht(en,tr,je,this.appId,xr);break;case J.ifc.ShadowDom:return new tt(en,tr,he,je);default:Lt=new ut(en,tr,je,xr)}Lt.onDestroy=()=>ft.delete(je.id),ft.set(je.id,Lt)}return Lt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Le.\u0275fac=function(he){return new(he||Le)(J.LFG(Ft),J.LFG($t),J.LFG(J.AFp),J.LFG(st))},Le.\u0275prov=J.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class hn{constructor(Me){this.eventManager=Me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Me,he){return he?document.createElementNS(Mt[he]||he,Me):document.createElement(Me)}createComment(Me){return document.createComment(Me)}createText(Me){return document.createTextNode(Me)}appendChild(Me,he){(hr(Me)?Me.content:Me).appendChild(he)}insertBefore(Me,he,je){Me&&(hr(Me)?Me.content:Me).insertBefore(he,je)}removeChild(Me,he){Me&&Me.removeChild(he)}selectRootElement(Me,he){let je="string"==typeof Me?document.querySelector(Me):Me;if(!je)throw new Error(`The selector "${Me}" did not match any elements`);return he||(je.textContent=""),je}parentNode(Me){return Me.parentNode}nextSibling(Me){return Me.nextSibling}setAttribute(Me,he,je,ft){if(ft){he=ft+":"+he;const Lt=Mt[ft];Lt?Me.setAttributeNS(Lt,he,je):Me.setAttribute(he,je)}else Me.setAttribute(he,je)}removeAttribute(Me,he,je){if(je){const ft=Mt[je];ft?Me.removeAttributeNS(ft,he):Me.removeAttribute(`${je}:${he}`)}else Me.removeAttribute(he)}addClass(Me,he){Me.classList.add(he)}removeClass(Me,he){Me.classList.remove(he)}setStyle(Me,he,je,ft){ft&(J.JOm.DashCase|J.JOm.Important)?Me.style.setProperty(he,je,ft&J.JOm.Important?"important":""):Me.style[he]=je}removeStyle(Me,he,je){je&J.JOm.DashCase?Me.style.removeProperty(he):Me.style[he]=""}setProperty(Me,he,je){Me[he]=je}setValue(Me,he){Me.nodeValue=he}listen(Me,he,je){return"string"==typeof Me?this.eventManager.addGlobalEventListener(Me,he,Vn(je)):this.eventManager.addEventListener(Me,he,Vn(je))}}function hr(Le){return"TEMPLATE"===Le.tagName&&void 0!==Le.content}class tt extends hn{constructor(Me,he,je,ft){super(Me),this.sharedStylesHost=he,this.hostEl=je,this.shadowRoot=je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Lt=ln(ft.id,ft.styles);for(const en of Lt){const tr=document.createElement("style");tr.textContent=en,this.shadowRoot.appendChild(tr)}}nodeOrShadowRoot(Me){return Me===this.hostEl?this.shadowRoot:Me}appendChild(Me,he){return super.appendChild(this.nodeOrShadowRoot(Me),he)}insertBefore(Me,he,je){return super.insertBefore(this.nodeOrShadowRoot(Me),he,je)}removeChild(Me,he){return super.removeChild(this.nodeOrShadowRoot(Me),he)}parentNode(Me){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Me)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ut extends hn{constructor(Me,he,je,ft,Lt=je.id){super(Me),this.sharedStylesHost=he,this.removeStylesOnCompDestory=ft,this.rendererUsageCount=0,this.styles=ln(Lt,je.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ht extends ut{constructor(Me,he,je,ft,Lt){const en=ft+"-"+je.id;super(Me,he,je,Lt,en),this.contentAttr=function Et(Le){return"_ngcontent-%COMP%".replace(un,Le)}(en),this.hostAttr=function yn(Le){return"_nghost-%COMP%".replace(un,Le)}(en)}applyToHost(Me){this.applyStyles(),this.setAttribute(Me,this.hostAttr,"")}createElement(Me,he){const je=super.createElement(Me,he);return super.setAttribute(je,this.contentAttr,""),je}}let Xe=(()=>{class Le extends Rt{constructor(he){super(he)}supports(he){return!0}addEventListener(he,je,ft){return he.addEventListener(je,ft,!1),()=>this.removeEventListener(he,je,ft)}removeEventListener(he,je,ft){return he.removeEventListener(je,ft)}}return Le.\u0275fac=function(he){return new(he||Le)(J.LFG(D.K0))},Le.\u0275prov=J.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Ht=["alt","control","meta","shift"],Ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cn={alt:Le=>Le.altKey,control:Le=>Le.ctrlKey,meta:Le=>Le.metaKey,shift:Le=>Le.shiftKey};let In=(()=>{class Le extends Rt{constructor(he){super(he)}supports(he){return null!=Le.parseEventName(he)}addEventListener(he,je,ft){const Lt=Le.parseEventName(je),en=Le.eventCallback(Lt.fullKey,ft,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.q)().onAndCancel(he,Lt.domEventName,en))}static parseEventName(he){const je=he.toLowerCase().split("."),ft=je.shift();if(0===je.length||"keydown"!==ft&&"keyup"!==ft)return null;const Lt=Le._normalizeKey(je.pop());let en="",tr=je.indexOf("code");if(tr>-1&&(je.splice(tr,1),en="code."),Ht.forEach(yi=>{const so=je.indexOf(yi);so>-1&&(je.splice(so,1),en+=yi+".")}),en+=Lt,0!=je.length||0===Lt.length)return null;const xr={};return xr.domEventName=ft,xr.fullKey=en,xr}static matchEventFullKeyCode(he,je){let ft=Ot[he.key]||he.key,Lt="";return je.indexOf("code.")>-1&&(ft=he.code,Lt="code."),!(null==ft||!ft)&&(ft=ft.toLowerCase()," "===ft?ft="space":"."===ft&&(ft="dot"),Ht.forEach(en=>{en!==ft&&(0,Cn[en])(he)&&(Lt+=en+".")}),Lt+=ft,Lt===je)}static eventCallback(he,je,ft){return Lt=>{Le.matchEventFullKeyCode(Lt,he)&&ft.runGuarded(()=>je(Lt))}}static _normalizeKey(he){return"esc"===he?"escape":he}}return Le.\u0275fac=function(he){return new(he||Le)(J.LFG(D.K0))},Le.\u0275prov=J.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Qr=(0,J.eFA)(J._c5,"browser",[{provide:J.Lbi,useValue:D.bD},{provide:J.g9A,useValue:function Or(){De.makeCurrent()},multi:!0},{provide:D.K0,useFactory:function Tr(){return(0,J.RDi)(document),document},deps:[]}]),$r=new J.OlP(""),fn=[{provide:J.rWj,useClass:class Ye{addToWindow(Me){J.dqk.getAngularTestability=(je,ft=!0)=>{const Lt=Me.findTestabilityInTree(je,ft);if(null==Lt)throw new Error("Could not find testability for element.");return Lt},J.dqk.getAllAngularTestabilities=()=>Me.getAllTestabilities(),J.dqk.getAllAngularRootElements=()=>Me.getAllRootElements(),J.dqk.frameworkStabilizers||(J.dqk.frameworkStabilizers=[]),J.dqk.frameworkStabilizers.push(je=>{const ft=J.dqk.getAllAngularTestabilities();let Lt=ft.length,en=!1;const tr=function(xr){en=en||xr,Lt--,0==Lt&&je(en)};ft.forEach(function(xr){xr.whenStable(tr)})})}findTestabilityInTree(Me,he,je){return null==he?null:Me.getTestability(he)??(je?(0,D.q)().isShadowRoot(he)?this.findTestabilityInTree(Me,he.host,!0):this.findTestabilityInTree(Me,he.parentElement,!0):null)}},deps:[]},{provide:J.lri,useClass:J.dDg,deps:[J.R0b,J.eoX,J.rWj]},{provide:J.dDg,useClass:J.dDg,deps:[J.R0b,J.eoX,J.rWj]}],Nr=[{provide:J.zSh,useValue:"root"},{provide:J.qLn,useFactory:function Jn(){return new J.qLn},deps:[]},{provide:Ue,useClass:Xe,multi:!0,deps:[D.K0,J.R0b,J.Lbi]},{provide:Ue,useClass:In,multi:!0,deps:[D.K0]},{provide:an,useClass:an,deps:[Ft,$t,J.AFp,st]},{provide:J.FYo,useExisting:an},{provide:Pt,useExisting:$t},{provide:$t,useClass:$t,deps:[D.K0]},{provide:Ft,useClass:Ft,deps:[Ue,J.R0b]},{provide:D.JF,useClass:vt,deps:[]},[]];let Gr=(()=>{class Le{constructor(he){}static withServerTransition(he){return{ngModule:Le,providers:[{provide:J.AFp,useValue:he.appId},{provide:Re,useExisting:J.AFp},Ee]}}}return Le.\u0275fac=function(he){return new(he||Le)(J.LFG($r,12))},Le.\u0275mod=J.oAB({type:Le}),Le.\u0275inj=J.cJS({providers:[...Nr,...fn],imports:[D.ez,J.hGG]}),Le})(),ar=(()=>{class Le{constructor(he){this._doc=he}getTitle(){return this._doc.title}setTitle(he){this._doc.title=he||""}}return Le.\u0275fac=function(he){return new(he||Le)(J.LFG(D.K0))},Le.\u0275prov=J.Yz7({token:Le,factory:function(he){let je=null;return je=he?new he:function Ar(){return new ar((0,J.LFG)(D.K0))}(),je},providedIn:"root"}),Le})();typeof window<"u"&&window;let Fe=(()=>{class Le{}return Le.\u0275fac=function(he){return new(he||Le)},Le.\u0275prov=J.Yz7({token:Le,factory:function(he){let je=null;return je=he?new(he||Le):J.LFG(Qe),je},providedIn:"root"}),Le})(),Qe=(()=>{class Le extends Fe{constructor(he){super(),this._doc=he}sanitize(he,je){if(null==je)return null;switch(he){case J.q3G.NONE:return je;case J.q3G.HTML:return(0,J.qzn)(je,"HTML")?(0,J.z3N)(je):(0,J.EiD)(this._doc,String(je)).toString();case J.q3G.STYLE:return(0,J.qzn)(je,"Style")?(0,J.z3N)(je):je;case J.q3G.SCRIPT:if((0,J.qzn)(je,"Script"))return(0,J.z3N)(je);throw new Error("unsafe value used in a script context");case J.q3G.URL:return(0,J.qzn)(je,"URL")?(0,J.z3N)(je):(0,J.mCW)(String(je));case J.q3G.RESOURCE_URL:if((0,J.qzn)(je,"ResourceURL"))return(0,J.z3N)(je);throw new Error(`unsafe value used in a resource URL context (see ${J.JZr})`);default:throw new Error(`Unexpected SecurityContext ${he} (see ${J.JZr})`)}}bypassSecurityTrustHtml(he){return(0,J.JVY)(he)}bypassSecurityTrustStyle(he){return(0,J.L6k)(he)}bypassSecurityTrustScript(he){return(0,J.eBb)(he)}bypassSecurityTrustUrl(he){return(0,J.LAX)(he)}bypassSecurityTrustResourceUrl(he){return(0,J.pB0)(he)}}return Le.\u0275fac=function(he){return new(he||Le)(J.LFG(D.K0))},Le.\u0275prov=J.Yz7({token:Le,factory:function(he){let je=null;return je=he?new he:function rt(Le){return new Qe(Le.get(D.K0))}(J.LFG(J.zs3)),je},providedIn:"root"}),Le})()},5263:(_n,nt,z)=>{z.d(nt,{m2:()=>At,F0:()=>mn,rH:()=>Ur,Bz:()=>Ei,lC:()=>Da});var D=z(4650),J=z(8996),de=z(9646),De=z(1135);const Ie=(0,z(3888).d)(w=>function(){w(this),this.name="EmptyError",this.message="no elements in sequence"});var ge=z(9841),se=z(7272),Re=z(9751),_e=z(8421);function Ee(w){return new Re.y(E=>{(0,_e.Xf)(w()).subscribe(E)})}var Ye=z(9635),vt=z(576);function Ue(w,E){const g=(0,vt.m)(w)?w:()=>w,k=V=>V.error(g());return new Re.y(E?V=>E.schedule(k,0,V):k)}var Ft=z(515),Rt=z(4033),Pt=z(7579),$t=z(6895),Mt=z(4004),un=z(3900),_t=z(5698),We=z(8675),at=z(9300),xt=z(5577),pn=z(4482),st=z(5403);function Et(w){return(0,pn.e)((E,g)=>{let k=!1;E.subscribe((0,st.x)(g,V=>{k=!0,g.next(V)},()=>{k||g.next(w),g.complete()}))})}function yn(w=ln){return(0,pn.e)((E,g)=>{let k=!1;E.subscribe((0,st.x)(g,V=>{k=!0,g.next(V)},()=>k?g.complete():g.error(w())))})}function ln(){return new Ie}var Vn=z(4671);function an(w,E){const g=arguments.length>=2;return k=>k.pipe(w?(0,at.h)((V,re)=>w(V,re,k)):Vn.y,(0,_t.q)(1),g?Et(E):yn(()=>new Ie))}var hn=z(4351),Rr=z(8505),ir=z(262);function tt(w,E){return(0,pn.e)(function hr(w,E,g,k,V){return(re,ie)=>{let Ze=g,yt=E,Mn=0;re.subscribe((0,st.x)(ie,rn=>{const Kt=Mn++;yt=Ze?w(yt,rn,Kt):(Ze=!0,rn),k&&ie.next(yt)},V&&(()=>{Ze&&ie.next(yt),ie.complete()})))}}(w,E,arguments.length>=2,!0))}function ut(w){return w<=0?()=>Ft.E:(0,pn.e)((E,g)=>{let k=[];E.subscribe((0,st.x)(g,V=>{k.push(V),w<k.length&&k.shift()},()=>{for(const V of k)g.next(V);g.complete()},void 0,()=>{k=null}))})}function ht(w,E){const g=arguments.length>=2;return k=>k.pipe(w?(0,at.h)((V,re)=>w(V,re,k)):Vn.y,ut(1),g?Et(E):yn(()=>new Ie))}var Xe=z(2529),Ht=z(9718),Ot=z(8746),Cn=z(8343),In=z(8189),ri=z(1481);const jt="primary",Kn=Symbol("RouteTitle");class Un{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const g=this.params[E];return Array.isArray(g)?g[0]:g}return null}getAll(E){if(this.has(E)){const g=this.params[E];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function fr(w){return new Un(w)}function Or(w,E,g){const k=g.path.split("/");if(k.length>w.length||"full"===g.pathMatch&&(E.hasChildren()||k.length<w.length))return null;const V={};for(let re=0;re<k.length;re++){const ie=k[re],Ze=w[re];if(ie.startsWith(":"))V[ie.substring(1)]=Ze;else if(ie!==Ze.path)return null}return{consumed:w.slice(0,k.length),posParams:V}}function Tr(w,E){const g=w?Object.keys(w):void 0,k=E?Object.keys(E):void 0;if(!g||!k||g.length!=k.length)return!1;let V;for(let re=0;re<g.length;re++)if(V=g[re],!li(w[V],E[V]))return!1;return!0}function li(w,E){if(Array.isArray(w)&&Array.isArray(E)){if(w.length!==E.length)return!1;const g=[...w].sort(),k=[...E].sort();return g.every((V,re)=>k[re]===V)}return w===E}function Qr(w){return Array.prototype.concat.apply([],w)}function $r(w){return w.length>0?w[w.length-1]:null}function Nr(w,E){for(const g in w)w.hasOwnProperty(g)&&E(w[g],g)}function Gr(w){return(0,D.CqO)(w)?w:(0,D.QGY)(w)?(0,J.D)(Promise.resolve(w)):(0,de.of)(w)}const oi=!1,$i={exact:function Tn(w,E,g){if(!Gt(w.segments,E.segments)||!Fr(w.segments,E.segments,g)||w.numberOfChildren!==E.numberOfChildren)return!1;for(const k in E.children)if(!w.children[k]||!Tn(w.children[k],E.children[k],g))return!1;return!0},subset:ei},ii={exact:function ar(w,E){return Tr(w,E)},subset:function tn(w,E){return Object.keys(E).length<=Object.keys(w).length&&Object.keys(E).every(g=>li(w[g],E[g]))},ignored:()=>!0};function Ar(w,E,g){return $i[g.paths](w.root,E.root,g.matrixParams)&&ii[g.queryParams](w.queryParams,E.queryParams)&&!("exact"===g.fragment&&w.fragment!==E.fragment)}function ei(w,E,g){return ti(w,E,E.segments,g)}function ti(w,E,g,k){if(w.segments.length>g.length){const V=w.segments.slice(0,g.length);return!(!Gt(V,g)||E.hasChildren()||!Fr(V,g,k))}if(w.segments.length===g.length){if(!Gt(w.segments,g)||!Fr(w.segments,g,k))return!1;for(const V in E.children)if(!w.children[V]||!ei(w.children[V],E.children[V],k))return!1;return!0}{const V=g.slice(0,w.segments.length),re=g.slice(w.segments.length);return!!(Gt(w.segments,V)&&Fr(w.segments,V,k)&&w.children[jt])&&ti(w.children[jt],E,re,k)}}function Fr(w,E,g){return E.every((k,V)=>ii[g](w[V].parameters,k.parameters))}class Br{constructor(E=new Nn([],{}),g={},k=null){this.root=E,this.queryParams=g,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return Tt.serialize(this)}}class Nn{constructor(E,g){this.segments=E,this.children=g,this.parent=null,Nr(g,(k,V)=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ne(this)}}class Ke{constructor(E,g){this.path=E,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=fr(this.parameters)),this._parameterMap}toString(){return Fe(this)}}function Gt(w,E){return w.length===E.length&&w.every((g,k)=>g.path===E[k].path)}let Bn=(()=>{class w{}return w.\u0275fac=function(g){return new(g||w)},w.\u0275prov=D.Yz7({token:w,factory:function(){return new Rn},providedIn:"root"}),w})();class Rn{parse(E){const g=new Lt(E);return new Br(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(E){const g=`/${be(E.root,!0)}`,k=function Qe(w){const E=Object.keys(w).map(g=>{const k=w[g];return Array.isArray(k)?k.map(V=>`${me(g)}=${me(V)}`).join("&"):`${me(g)}=${me(k)}`}).filter(g=>!!g);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${g}${k}${"string"==typeof E.fragment?`#${function Je(w){return encodeURI(w)}(E.fragment)}`:""}`}}const Tt=new Rn;function Ne(w){return w.segments.map(E=>Fe(E)).join("/")}function be(w,E){if(!w.hasChildren())return Ne(w);if(E){const g=w.children[jt]?be(w.children[jt],!1):"",k=[];return Nr(w.children,(V,re)=>{re!==jt&&k.push(`${re}:${be(V,!1)}`)}),k.length>0?`${g}(${k.join("//")})`:g}{const g=function Vt(w,E){let g=[];return Nr(w.children,(k,V)=>{V===jt&&(g=g.concat(E(k,V)))}),Nr(w.children,(k,V)=>{V!==jt&&(g=g.concat(E(k,V)))}),g}(w,(k,V)=>V===jt?[be(w.children[jt],!1)]:[`${V}:${be(k,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[jt]?`${Ne(w)}/${g[0]}`:`${Ne(w)}/(${g.join("//")})`}}function fe(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function me(w){return fe(w).replace(/%3B/gi,";")}function dt(w){return fe(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ve(w){return decodeURIComponent(w)}function ye(w){return ve(w.replace(/\+/g,"%20"))}function Fe(w){return`${dt(w.path)}${function rt(w){return Object.keys(w).map(E=>`;${dt(E)}=${dt(w[E])}`).join("")}(w.parameters)}`}const qt=/^[^\/()?;=#]+/;function Le(w){const E=w.match(qt);return E?E[0]:""}const Me=/^[^=?&#]+/,je=/^[^&#]+/;class Lt{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(E.length>0||Object.keys(g).length>0)&&(k[jt]=new Nn(E,g)),k}parseSegment(){const E=Le(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new D.vHH(4009,oi);return this.capture(E),new Ke(ve(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const g=Le(this.remaining);if(!g)return;this.capture(g);let k="";if(this.consumeOptional("=")){const V=Le(this.remaining);V&&(k=V,this.capture(k))}E[ve(g)]=ve(k)}parseQueryParam(E){const g=function he(w){const E=w.match(Me);return E?E[0]:""}(this.remaining);if(!g)return;this.capture(g);let k="";if(this.consumeOptional("=")){const ie=function ft(w){const E=w.match(je);return E?E[0]:""}(this.remaining);ie&&(k=ie,this.capture(k))}const V=ye(g),re=ye(k);if(E.hasOwnProperty(V)){let ie=E[V];Array.isArray(ie)||(ie=[ie],E[V]=ie),ie.push(re)}else E[V]=re}parseParens(E){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=Le(this.remaining),V=this.remaining[k.length];if("/"!==V&&")"!==V&&";"!==V)throw new D.vHH(4010,oi);let re;k.indexOf(":")>-1?(re=k.slice(0,k.indexOf(":")),this.capture(re),this.capture(":")):E&&(re=jt);const ie=this.parseChildren();g[re]=1===Object.keys(ie).length?ie[jt]:new Nn([],ie),this.consumeOptional("//")}return g}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new D.vHH(4011,oi)}}function en(w){return w.segments.length>0?new Nn([],{[jt]:w}):w}function tr(w){const E={};for(const k of Object.keys(w.children)){const re=tr(w.children[k]);(re.segments.length>0||re.hasChildren())&&(E[k]=re)}return function xr(w){if(1===w.numberOfChildren&&w.children[jt]){const E=w.children[jt];return new Nn(w.segments.concat(E.segments),E.children)}return w}(new Nn(w.segments,E))}function yi(w){return w instanceof Br}const so=!1;function Vi(w,E,g,k,V){if(0===g.length)return Dr(E.root,E.root,E.root,k,V);const re=function Hn(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Qt(!0,0,w);let E=0,g=!1;const k=w.reduce((V,re,ie)=>{if("object"==typeof re&&null!=re){if(re.outlets){const Ze={};return Nr(re.outlets,(yt,Mn)=>{Ze[Mn]="string"==typeof yt?yt.split("/"):yt}),[...V,{outlets:Ze}]}if(re.segmentPath)return[...V,re.segmentPath]}return"string"!=typeof re?[...V,re]:0===ie?(re.split("/").forEach((Ze,yt)=>{0==yt&&"."===Ze||(0==yt&&""===Ze?g=!0:".."===Ze?E++:""!=Ze&&V.push(Ze))}),V):[...V,re]},[]);return new Qt(g,E,k)}(g);return re.toRoot()?Dr(E.root,E.root,new Nn([],{}),k,V):function ie(yt){const Mn=function Wo(w,E,g,k){if(w.isAbsolute)return new Gi(E.root,!0,0);if(-1===k)return new Gi(g,g===E.root,0);return function lr(w,E,g){let k=w,V=E,re=g;for(;re>V;){if(re-=V,k=k.parent,!k)throw new D.vHH(4005,so&&"Invalid number of '../'");V=k.segments.length}return new Gi(k,!1,V-re)}(g,k+(Ni(w.commands[0])?0:1),w.numberOfDoubleDots)}(re,E,w.snapshot?._urlSegment,yt),rn=Mn.processChildren?_r(Mn.segmentGroup,Mn.index,re.commands):Ln(Mn.segmentGroup,Mn.index,re.commands);return Dr(E.root,Mn.segmentGroup,rn,k,V)}(w.snapshot?._lastPathIndex)}function Ni(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function pr(w){return"object"==typeof w&&null!=w&&w.outlets}function Dr(w,E,g,k,V){let ie,re={};k&&Nr(k,(yt,Mn)=>{re[Mn]=Array.isArray(yt)?yt.map(rn=>`${rn}`):`${yt}`}),ie=w===E?g:cn(w,E,g);const Ze=en(tr(ie));return new Br(Ze,re,V)}function cn(w,E,g){const k={};return Nr(w.children,(V,re)=>{k[re]=V===E?g:cn(V,E,g)}),new Nn(w.segments,k)}class Qt{constructor(E,g,k){if(this.isAbsolute=E,this.numberOfDoubleDots=g,this.commands=k,E&&k.length>0&&Ni(k[0]))throw new D.vHH(4003,so&&"Root segment cannot have matrix parameters");const V=k.find(pr);if(V&&V!==$r(k))throw new D.vHH(4004,so&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gi{constructor(E,g,k){this.segmentGroup=E,this.processChildren=g,this.index=k}}function Ln(w,E,g){if(w||(w=new Nn([],{})),0===w.segments.length&&w.hasChildren())return _r(w,E,g);const k=function si(w,E,g){let k=0,V=E;const re={match:!1,pathIndex:0,commandIndex:0};for(;V<w.segments.length;){if(k>=g.length)return re;const ie=w.segments[V],Ze=g[k];if(pr(Ze))break;const yt=`${Ze}`,Mn=k<g.length-1?g[k+1]:null;if(V>0&&void 0===yt)break;if(yt&&Mn&&"object"==typeof Mn&&void 0===Mn.outlets){if(!Wn(yt,Mn,ie))return re;k+=2}else{if(!Wn(yt,{},ie))return re;k++}V++}return{match:!0,pathIndex:V,commandIndex:k}}(w,E,g),V=g.slice(k.commandIndex);if(k.match&&k.pathIndex<w.segments.length){const re=new Nn(w.segments.slice(0,k.pathIndex),{});return re.children[jt]=new Nn(w.segments.slice(k.pathIndex),w.children),_r(re,0,V)}return k.match&&0===V.length?new Nn(w.segments,{}):k.match&&!w.hasChildren()?nr(w,E,g):k.match?_r(w,0,V):nr(w,E,g)}function _r(w,E,g){if(0===g.length)return new Nn(w.segments,{});{const k=function Wt(w){return pr(w[0])?w[0].outlets:{[jt]:w}}(g),V={};if(!k[jt]&&w.children[jt]&&1===w.numberOfChildren&&0===w.children[jt].segments.length){const re=_r(w.children[jt],E,g);return new Nn(w.segments,re.children)}return Nr(k,(re,ie)=>{"string"==typeof re&&(re=[re]),null!==re&&(V[ie]=Ln(w.children[ie],E,re))}),Nr(w.children,(re,ie)=>{void 0===k[ie]&&(V[ie]=re)}),new Nn(w.segments,V)}}function nr(w,E,g){const k=w.segments.slice(0,E);let V=0;for(;V<g.length;){const re=g[V];if(pr(re)){const yt=nn(re.outlets);return new Nn(k,yt)}if(0===V&&Ni(g[0])){k.push(new Ke(w.segments[E].path,on(g[0]))),V++;continue}const ie=pr(re)?re.outlets[jt]:`${re}`,Ze=V<g.length-1?g[V+1]:null;ie&&Ze&&Ni(Ze)?(k.push(new Ke(ie,on(Ze))),V+=2):(k.push(new Ke(ie,{})),V++)}return new Nn(k,{})}function nn(w){const E={};return Nr(w,(g,k)=>{"string"==typeof g&&(g=[g]),null!==g&&(E[k]=nr(new Nn([],{}),0,g))}),E}function on(w){const E={};return Nr(w,(g,k)=>E[k]=`${g}`),E}function Wn(w,E,g){return w==g.path&&Tr(E,g.parameters)}const Ge="imperative";class Be{constructor(E,g){this.id=E,this.url=g}}class Oe extends Be{constructor(E,g,k="imperative",V=null){super(E,g),this.type=0,this.navigationTrigger=k,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class At extends Be{constructor(E,g,k){super(E,g),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jt extends Be{constructor(E,g,k,V){super(E,g),this.reason=k,this.code=V,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bn extends Be{constructor(E,g,k,V){super(E,g),this.reason=k,this.code=V,this.type=16}}class cr extends Be{constructor(E,g,k,V){super(E,g),this.error=k,this.target=V,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yr extends Be{constructor(E,g,k,V){super(E,g),this.urlAfterRedirects=k,this.state=V,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fi extends Be{constructor(E,g,k,V){super(E,g),this.urlAfterRedirects=k,this.state=V,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sr extends Be{constructor(E,g,k,V,re){super(E,g),this.urlAfterRedirects=k,this.state=V,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fi extends Be{constructor(E,g,k,V){super(E,g),this.urlAfterRedirects=k,this.state=V,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class br extends Be{constructor(E,g,k,V){super(E,g),this.urlAfterRedirects=k,this.state=V,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wr{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qi{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class No{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _o{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ys{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(E,g,k){this.routerEvent=E,this.position=g,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Xs=(()=>{class w{createUrlTree(g,k,V,re,ie,Ze){return Vi(g||k.root,V,re,ie,Ze)}}return w.\u0275fac=function(g){return new(g||w)},w.\u0275prov=D.Yz7({token:w,factory:w.\u0275fac}),w})(),pi=(()=>{class w{}return w.\u0275fac=function(g){return new(g||w)},w.\u0275prov=D.Yz7({token:w,factory:function(E){return Xs.\u0275fac(E)},providedIn:"root"}),w})();class vi{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const g=this.pathFromRoot(E);return g.length>1?g[g.length-2]:null}children(E){const g=Lr(E,this._root);return g?g.children.map(k=>k.value):[]}firstChild(E){const g=Lr(E,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(E){const g=Mi(E,this._root);return g.length<2?[]:g[g.length-2].children.map(V=>V.value).filter(V=>V!==E)}pathFromRoot(E){return Mi(E,this._root).map(g=>g.value)}}function Lr(w,E){if(w===E.value)return E;for(const g of E.children){const k=Lr(w,g);if(k)return k}return null}function Mi(w,E){if(w===E.value)return[E];for(const g of E.children){const k=Mi(w,g);if(k.length)return k.unshift(E),k}return[]}class Li{constructor(E,g){this.value=E,this.children=g}toString(){return`TreeNode(${this.value})`}}function Hr(w){const E={};return w&&w.children.forEach(g=>E[g.value.outlet]=g),E}class wo extends vi{constructor(E,g){super(E),this.snapshot=g,Vs(this,E)}toString(){return this.snapshot.toString()}}function Ko(w,E){const g=function rs(w,E){const ie=new Ps([],{},{},"",{},jt,E,null,w.root,-1,{});return new ea("",new Li(ie,[]))}(w,E),k=new De.X([new Ke("",{})]),V=new De.X({}),re=new De.X({}),ie=new De.X({}),Ze=new De.X(""),yt=new Eo(k,V,ie,Ze,re,jt,E,g.root);return yt.snapshot=g.root,new wo(new Li(yt,[]),g)}class Eo{constructor(E,g,k,V,re,ie,Ze,yt){this.url=E,this.params=g,this.queryParams=k,this.fragment=V,this.data=re,this.outlet=ie,this.component=Ze,this.title=this.data?.pipe((0,Mt.U)(Mn=>Mn[Kn]))??(0,de.of)(void 0),this._futureSnapshot=yt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.U)(E=>fr(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.U)(E=>fr(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _s(w,E="emptyOnly"){const g=w.pathFromRoot;let k=0;if("always"!==E)for(k=g.length-1;k>=1;){const V=g[k],re=g[k-1];if(V.routeConfig&&""===V.routeConfig.path)k--;else{if(re.component)break;k--}}return function _i(w){return w.reduce((E,g)=>({params:{...E.params,...g.params},data:{...E.data,...g.data},resolve:{...g.data,...E.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(k))}class Ps{get title(){return this.data?.[Kn]}constructor(E,g,k,V,re,ie,Ze,yt,Mn,rn,Kt){this.url=E,this.params=g,this.queryParams=k,this.fragment=V,this.data=re,this.outlet=ie,this.component=Ze,this.routeConfig=yt,this._urlSegment=Mn,this._lastPathIndex=rn,this._resolve=Kt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ea extends vi{constructor(E,g){super(g),this.url=E,Vs(this,g)}toString(){return ks(this._root)}}function Vs(w,E){E.value._routerState=w,E.children.forEach(g=>Vs(w,g))}function ks(w){const E=w.children.length>0?` { ${w.children.map(ks).join(", ")} } `:"";return`${w.value}${E}`}function Fo(w){if(w.snapshot){const E=w.snapshot,g=w._futureSnapshot;w.snapshot=g,Tr(E.queryParams,g.queryParams)||w.queryParams.next(g.queryParams),E.fragment!==g.fragment&&w.fragment.next(g.fragment),Tr(E.params,g.params)||w.params.next(g.params),function Jn(w,E){if(w.length!==E.length)return!1;for(let g=0;g<w.length;++g)if(!Tr(w[g],E[g]))return!1;return!0}(E.url,g.url)||w.url.next(g.url),Tr(E.data,g.data)||w.data.next(g.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function As(w,E){const g=Tr(w.params,E.params)&&function wt(w,E){return Gt(w,E)&&w.every((g,k)=>Tr(g.parameters,E[k].parameters))}(w.url,E.url);return g&&!(!w.parent!=!E.parent)&&(!w.parent||As(w.parent,E.parent))}function qo(w,E,g){if(g&&w.shouldReuseRoute(E.value,g.value.snapshot)){const k=g.value;k._futureSnapshot=E.value;const V=function Ya(w,E,g){return E.children.map(k=>{for(const V of g.children)if(w.shouldReuseRoute(k.value,V.value.snapshot))return qo(w,k,V);return qo(w,k)})}(w,E,g);return new Li(k,V)}{if(w.shouldAttach(E.value)){const re=w.retrieve(E.value);if(null!==re){const ie=re.route;return ie.value._futureSnapshot=E.value,ie.children=E.children.map(Ze=>qo(w,Ze)),ie}}const k=function Lo(w){return new Eo(new De.X(w.url),new De.X(w.params),new De.X(w.queryParams),new De.X(w.fragment),new De.X(w.data),w.outlet,w.component,w)}(E.value),V=E.children.map(re=>qo(w,re));return new Li(k,V)}}const uo="ngNavigationCancelingError";function Bs(w,E){const{redirectTo:g,navigationBehaviorOptions:k}=yi(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,V=ta(!1,0,E);return V.url=g,V.navigationBehaviorOptions=k,V}function ta(w,E,g){const k=new Error("NavigationCancelingError: "+(w||""));return k[uo]=!0,k.cancellationCode=E,g&&(k.url=g),k}function Ga(w){return ao(w)&&yi(w.url)}function ao(w){return w&&w[uo]}class Wa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hs,this.attachRef=null}}let Hs=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(g,k){const V=this.getOrCreateContext(g);V.outlet=k,this.contexts.set(g,V)}onChildOutletDestroyed(g){const k=this.getContext(g);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let k=this.getContext(g);return k||(k=new Wa,this.contexts.set(g,k)),k}getContext(g){return this.contexts.get(g)||null}}return w.\u0275fac=function(g){return new(g||w)},w.\u0275prov=D.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Ts=!1;let Da=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new D.vpe,this.deactivateEvents=new D.vpe,this.attachEvents=new D.vpe,this.detachEvents=new D.vpe,this.parentContexts=(0,D.f3M)(Hs),this.location=(0,D.f3M)(D.s_b),this.changeDetector=(0,D.f3M)(D.sBO),this.environmentInjector=(0,D.f3M)(D.lqb)}ngOnChanges(g){if(g.name){const{firstChange:k,previousValue:V}=g.name;if(k)return;this.isTrackedInParentContexts(V)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(V)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(g){return this.parentContexts.getContext(g)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const g=this.parentContexts.getContext(this.name);g?.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D.vHH(4012,Ts);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D.vHH(4012,Ts);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D.vHH(4012,Ts);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,k){this.activated=g,this._activatedRoute=k,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,k){if(this.isActivated)throw new D.vHH(4013,Ts);this._activatedRoute=g;const V=this.location,ie=g.snapshot.component,Ze=this.parentContexts.getOrCreateContext(this.name).children,yt=new to(g,Ze,V.injector);if(k&&function ws(w){return!!w.resolveComponentFactory}(k)){const Mn=k.resolveComponentFactory(ie);this.activated=V.createComponent(Mn,V.length,yt)}else this.activated=V.createComponent(ie,{index:V.length,injector:yt,environmentInjector:k??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(g){return new(g||w)},w.\u0275dir=D.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[D.TTD]}),w})();class to{constructor(E,g,k){this.route=E,this.childContexts=g,this.parent=k}get(E,g){return E===Eo?this.route:E===Hs?this.childContexts:this.parent.get(E,g)}}let xs=(()=>{class w{}return w.\u0275fac=function(g){return new(g||w)},w.\u0275cmp=D.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[D.jDz],decls:1,vars:0,template:function(g,k){1&g&&D._UZ(0,"router-outlet")},dependencies:[Da],encapsulation:2}),w})();function na(w,E){return w.providers&&!w._injector&&(w._injector=(0,D.MMx)(w.providers,E,`Route: ${w.path}`)),w._injector??E}function Bi(w){const E=w.children&&w.children.map(Bi),g=E?{...w,children:E}:{...w};return!g.component&&!g.loadComponent&&(E||g.loadChildren)&&g.outlet&&g.outlet!==jt&&(g.component=xs),g}function Jr(w){return w.outlet||jt}function lo(w,E){const g=w.filter(k=>Jr(k)===E);return g.push(...w.filter(k=>Jr(k)!==E)),g}function Si(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let E=w.parent;E;E=E.parent){const g=E.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class Ua{constructor(E,g,k,V){this.routeReuseStrategy=E,this.futureState=g,this.currState=k,this.forwardEvent=V}activate(E){const g=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,k,E),Fo(this.futureState.root),this.activateChildRoutes(g,k,E)}deactivateChildRoutes(E,g,k){const V=Hr(g);E.children.forEach(re=>{const ie=re.value.outlet;this.deactivateRoutes(re,V[ie],k),delete V[ie]}),Nr(V,(re,ie)=>{this.deactivateRouteAndItsChildren(re,k)})}deactivateRoutes(E,g,k){const V=E.value,re=g?g.value:null;if(V===re)if(V.component){const ie=k.getContext(V.outlet);ie&&this.deactivateChildRoutes(E,g,ie.children)}else this.deactivateChildRoutes(E,g,k);else re&&this.deactivateRouteAndItsChildren(g,k)}deactivateRouteAndItsChildren(E,g){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,g):this.deactivateRouteAndOutlet(E,g)}detachAndStoreRouteSubtree(E,g){const k=g.getContext(E.value.outlet),V=k&&E.value.component?k.children:g,re=Hr(E);for(const ie of Object.keys(re))this.deactivateRouteAndItsChildren(re[ie],V);if(k&&k.outlet){const ie=k.outlet.detach(),Ze=k.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:ie,route:E,contexts:Ze})}}deactivateRouteAndOutlet(E,g){const k=g.getContext(E.value.outlet),V=k&&E.value.component?k.children:g,re=Hr(E);for(const ie of Object.keys(re))this.deactivateRouteAndItsChildren(re[ie],V);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.resolver=null,k.route=null)}activateChildRoutes(E,g,k){const V=Hr(g);E.children.forEach(re=>{this.activateRoutes(re,V[re.value.outlet],k),this.forwardEvent(new ys(re.value.snapshot))}),E.children.length&&this.forwardEvent(new No(E.value.snapshot))}activateRoutes(E,g,k){const V=E.value,re=g?g.value:null;if(Fo(V),V===re)if(V.component){const ie=k.getOrCreateContext(V.outlet);this.activateChildRoutes(E,g,ie.children)}else this.activateChildRoutes(E,g,k);else if(V.component){const ie=k.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const Ze=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),ie.children.onOutletReAttached(Ze.contexts),ie.attachRef=Ze.componentRef,ie.route=Ze.route.value,ie.outlet&&ie.outlet.attach(Ze.componentRef,Ze.route.value),Fo(Ze.route.value),this.activateChildRoutes(E,null,ie.children)}else{const Ze=Si(V.snapshot),yt=Ze?.get(D._Vd)??null;ie.attachRef=null,ie.route=V,ie.resolver=yt,ie.injector=Ze,ie.outlet&&ie.outlet.activateWith(V,ie.injector),this.activateChildRoutes(E,null,ie.children)}}else this.activateChildRoutes(E,null,k)}}class ai{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class oa{constructor(E,g){this.component=E,this.route=g}}function Es(w,E,g){const k=w._root;return er(k,E?E._root:null,g,[k.value])}function no(w,E){const g=Symbol(),k=E.get(w,g);return k===g?"function"!=typeof w||(0,D.Z0I)(w)?E.get(w):w:k}function er(w,E,g,k,V={canDeactivateChecks:[],canActivateChecks:[]}){const re=Hr(E);return w.children.forEach(ie=>{(function Co(w,E,g,k,V={canDeactivateChecks:[],canActivateChecks:[]}){const re=w.value,ie=E?E.value:null,Ze=g?g.getContext(w.value.outlet):null;if(ie&&re.routeConfig===ie.routeConfig){const yt=function qa(w,E,g){if("function"==typeof g)return g(w,E);switch(g){case"pathParamsChange":return!Gt(w.url,E.url);case"pathParamsOrQueryParamsChange":return!Gt(w.url,E.url)||!Tr(w.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!As(w,E)||!Tr(w.queryParams,E.queryParams);default:return!As(w,E)}}(ie,re,re.routeConfig.runGuardsAndResolvers);yt?V.canActivateChecks.push(new ai(k)):(re.data=ie.data,re._resolvedData=ie._resolvedData),er(w,E,re.component?Ze?Ze.children:null:g,k,V),yt&&Ze&&Ze.outlet&&Ze.outlet.isActivated&&V.canDeactivateChecks.push(new oa(Ze.outlet.component,ie))}else ie&&os(E,Ze,V),V.canActivateChecks.push(new ai(k)),er(w,null,re.component?Ze?Ze.children:null:g,k,V)})(ie,re[ie.value.outlet],g,k.concat([ie.value]),V),delete re[ie.value.outlet]}),Nr(re,(ie,Ze)=>os(ie,g.getContext(Ze),V)),V}function os(w,E,g){const k=Hr(w),V=w.value;Nr(k,(re,ie)=>{os(re,V.component?E?E.children.getContext(ie):null:E,g)}),g.canDeactivateChecks.push(new oa(V.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,V))}function zs(w){return"function"==typeof w}function Ai(w){return w instanceof Ie||"EmptyError"===w?.name}const sa=Symbol("INITIAL_VALUE");function ho(){return(0,un.w)(w=>(0,ge.a)(w.map(E=>E.pipe((0,_t.q)(1),(0,We.O)(sa)))).pipe((0,Mt.U)(E=>{for(const g of E)if(!0!==g){if(g===sa)return sa;if(!1===g||g instanceof Br)return g}return!0}),(0,at.h)(E=>E!==sa),(0,_t.q)(1)))}function Pa(w){return(0,Ye.z)((0,Rr.b)(E=>{if(yi(E))throw Bs(0,E)}),(0,Mt.U)(E=>!0===E))}const fs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ga(w,E,g,k,V){const re=as(w,E,g);return re.matched?function fo(w,E,g,k){const V=E.canMatch;if(!V||0===V.length)return(0,de.of)(!0);const re=V.map(ie=>{const Ze=no(ie,w);return Gr(function mr(w){return w&&zs(w.canMatch)}(Ze)?Ze.canMatch(E,g):w.runInContext(()=>Ze(E,g)))});return(0,de.of)(re).pipe(ho(),Pa())}(k=na(E,k),E,g).pipe((0,Mt.U)(ie=>!0===ie?re:{...fs})):(0,de.of)(re)}function as(w,E,g){if(""===E.path)return"full"===E.pathMatch&&(w.hasChildren()||g.length>0)?{...fs}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const V=(E.matcher||Or)(g,w,E);if(!V)return{...fs};const re={};Nr(V.posParams,(Ze,yt)=>{re[yt]=Ze.path});const ie=V.consumed.length>0?{...re,...V.consumed[V.consumed.length-1].parameters}:re;return{matched:!0,consumedSegments:V.consumed,remainingSegments:g.slice(V.consumed.length),parameters:ie,positionalParamSegments:V.posParams??{}}}function ja(w,E,g,k){if(g.length>0&&function Po(w,E,g){return g.some(k=>ps(w,E,k)&&Jr(k)!==jt)}(w,g,k)){const re=new Nn(E,function po(w,E,g,k){const V={};V[jt]=k,k._sourceSegment=w,k._segmentIndexShift=E.length;for(const re of g)if(""===re.path&&Jr(re)!==jt){const ie=new Nn([],{});ie._sourceSegment=w,ie._segmentIndexShift=E.length,V[Jr(re)]=ie}return V}(w,E,k,new Nn(g,w.children)));return re._sourceSegment=w,re._segmentIndexShift=E.length,{segmentGroup:re,slicedSegments:[]}}if(0===g.length&&function mo(w,E,g){return g.some(k=>ps(w,E,k))}(w,g,k)){const re=new Nn(w.segments,function Qo(w,E,g,k,V){const re={};for(const ie of k)if(ps(w,g,ie)&&!V[Jr(ie)]){const Ze=new Nn([],{});Ze._sourceSegment=w,Ze._segmentIndexShift=E.length,re[Jr(ie)]=Ze}return{...V,...re}}(w,E,g,k,w.children));return re._sourceSegment=w,re._segmentIndexShift=E.length,{segmentGroup:re,slicedSegments:g}}const V=new Nn(w.segments,w.children);return V._sourceSegment=w,V._segmentIndexShift=E.length,{segmentGroup:V,slicedSegments:g}}function ps(w,E,g){return(!(w.hasChildren()||E.length>0)||"full"!==g.pathMatch)&&""===g.path}function la(w,E,g,k){return!!(Jr(w)===k||k!==jt&&ps(E,g,w))&&("**"===w.path||as(E,w,g).matched)}function Os(w,E,g){return 0===E.length&&!w.children[g]}const ko=!1;class ya{constructor(E){this.segmentGroup=E||null}}class mi{constructor(E){this.urlTree=E}}function Jo(w){return Ue(new ya(w))}function Ao(w){return Ue(new mi(w))}class _{constructor(E,g,k,V,re){this.injector=E,this.configLoader=g,this.urlSerializer=k,this.urlTree=V,this.config=re,this.allowRedirects=!0}apply(){const E=ja(this.urlTree.root,[],[],this.config).segmentGroup,g=new Nn(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,g,jt).pipe((0,Mt.U)(re=>this.createUrlTree(tr(re),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ir.K)(re=>{if(re instanceof mi)return this.allowRedirects=!1,this.match(re.urlTree);throw re instanceof ya?this.noMatchError(re):re}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,jt).pipe((0,Mt.U)(V=>this.createUrlTree(tr(V),E.queryParams,E.fragment))).pipe((0,ir.K)(V=>{throw V instanceof ya?this.noMatchError(V):V}))}noMatchError(E){return new D.vHH(4002,ko)}createUrlTree(E,g,k){const V=en(E);return new Br(V,g,k)}expandSegmentGroup(E,g,k,V){return 0===k.segments.length&&k.hasChildren()?this.expandChildren(E,g,k).pipe((0,Mt.U)(re=>new Nn([],re))):this.expandSegment(E,k,g,k.segments,V,!0)}expandChildren(E,g,k){const V=[];for(const re of Object.keys(k.children))"primary"===re?V.unshift(re):V.push(re);return(0,J.D)(V).pipe((0,hn.b)(re=>{const ie=k.children[re],Ze=lo(g,re);return this.expandSegmentGroup(E,Ze,ie,re).pipe((0,Mt.U)(yt=>({segment:yt,outlet:re})))}),tt((re,ie)=>(re[ie.outlet]=ie.segment,re),{}),ht())}expandSegment(E,g,k,V,re,ie){return(0,J.D)(k).pipe((0,hn.b)(Ze=>this.expandSegmentAgainstRoute(E,g,k,Ze,V,re,ie).pipe((0,ir.K)(Mn=>{if(Mn instanceof ya)return(0,de.of)(null);throw Mn}))),an(Ze=>!!Ze),(0,ir.K)((Ze,yt)=>{if(Ai(Ze))return Os(g,V,re)?(0,de.of)(new Nn([],{})):Jo(g);throw Ze}))}expandSegmentAgainstRoute(E,g,k,V,re,ie,Ze){return la(V,g,re,ie)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(E,g,V,re,ie):Ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,g,k,V,re,ie):Jo(g):Jo(g)}expandSegmentAgainstRouteUsingRedirect(E,g,k,V,re,ie){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,k,V,ie):this.expandRegularSegmentAgainstRouteUsingRedirect(E,g,k,V,re,ie)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,g,k,V){const re=this.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?Ao(re):this.lineralizeSegments(k,re).pipe((0,xt.z)(ie=>{const Ze=new Nn(ie,{});return this.expandSegment(E,Ze,g,ie,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,g,k,V,re,ie){const{matched:Ze,consumedSegments:yt,remainingSegments:Mn,positionalParamSegments:rn}=as(g,V,re);if(!Ze)return Jo(g);const Kt=this.applyRedirectCommands(yt,V.redirectTo,rn);return V.redirectTo.startsWith("/")?Ao(Kt):this.lineralizeSegments(V,Kt).pipe((0,xt.z)(vo=>this.expandSegment(E,g,k,vo.concat(Mn),ie,!1)))}matchSegmentAgainstRoute(E,g,k,V,re){return"**"===k.path?(E=na(k,E),k.loadChildren?(k._loadedRoutes?(0,de.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):this.configLoader.loadChildren(E,k)).pipe((0,Mt.U)(Ze=>(k._loadedRoutes=Ze.routes,k._loadedInjector=Ze.injector,new Nn(V,{})))):(0,de.of)(new Nn(V,{}))):ga(g,k,V,E).pipe((0,un.w)(({matched:ie,consumedSegments:Ze,remainingSegments:yt})=>ie?this.getChildConfig(E=k._injector??E,k,V).pipe((0,xt.z)(rn=>{const Kt=rn.injector??E,vo=rn.routes,{segmentGroup:ua,slicedSegments:ts}=ja(g,Ze,yt,vo),Ws=new Nn(ua.segments,ua.children);if(0===ts.length&&Ws.hasChildren())return this.expandChildren(Kt,vo,Ws).pipe((0,Mt.U)(Xa=>new Nn(Ze,Xa)));if(0===vo.length&&0===ts.length)return(0,de.of)(new Nn(Ze,{}));const Hi=Jr(k)===re;return this.expandSegment(Kt,Ws,vo,ts,Hi?jt:re,!0).pipe((0,Mt.U)(fl=>new Nn(Ze.concat(fl.segments),fl.children)))})):Jo(g)))}getChildConfig(E,g,k){return g.children?(0,de.of)({routes:g.children,injector:E}):g.loadChildren?void 0!==g._loadedRoutes?(0,de.of)({routes:g._loadedRoutes,injector:g._loadedInjector}):function ss(w,E,g,k){const V=E.canLoad;if(void 0===V||0===V.length)return(0,de.of)(!0);const re=V.map(ie=>{const Ze=no(ie,w);return Gr(function ba(w){return w&&zs(w.canLoad)}(Ze)?Ze.canLoad(E,g):w.runInContext(()=>Ze(E,g)))});return(0,de.of)(re).pipe(ho(),Pa())}(E,g,k).pipe((0,xt.z)(V=>V?this.configLoader.loadChildren(E,g).pipe((0,Rr.b)(re=>{g._loadedRoutes=re.routes,g._loadedInjector=re.injector})):function ka(w){return Ue(ta(ko,3))}())):(0,de.of)({routes:[],injector:E})}lineralizeSegments(E,g){let k=[],V=g.root;for(;;){if(k=k.concat(V.segments),0===V.numberOfChildren)return(0,de.of)(k);if(V.numberOfChildren>1||!V.children[jt])return E.redirectTo,Ue(new D.vHH(4e3,ko));V=V.children[jt]}}applyRedirectCommands(E,g,k){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),E,k)}applyRedirectCreateUrlTree(E,g,k,V){const re=this.createSegmentGroup(E,g.root,k,V);return new Br(re,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(E,g){const k={};return Nr(E,(V,re)=>{if("string"==typeof V&&V.startsWith(":")){const Ze=V.substring(1);k[re]=g[Ze]}else k[re]=V}),k}createSegmentGroup(E,g,k,V){const re=this.createSegments(E,g.segments,k,V);let ie={};return Nr(g.children,(Ze,yt)=>{ie[yt]=this.createSegmentGroup(E,Ze,k,V)}),new Nn(re,ie)}createSegments(E,g,k,V){return g.map(re=>re.path.startsWith(":")?this.findPosParam(E,re,V):this.findOrReturn(re,k))}findPosParam(E,g,k){const V=k[g.path.substring(1)];if(!V)throw new D.vHH(4001,ko);return V}findOrReturn(E,g){let k=0;for(const V of g){if(V.path===E.path)return g.splice(k),V;k++}return E}}class X{}class Ve{constructor(E,g,k,V,re,ie,Ze){this.injector=E,this.rootComponentType=g,this.config=k,this.urlTree=V,this.url=re,this.paramsInheritanceStrategy=ie,this.urlSerializer=Ze}recognize(){const E=ja(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,jt).pipe((0,Mt.U)(g=>{if(null===g)return null;const k=new Ps([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new Li(k,g),re=new ea(this.url,V);return this.inheritParamsAndData(re._root),re}))}inheritParamsAndData(E){const g=E.value,k=_s(g,this.paramsInheritanceStrategy);g.params=Object.freeze(k.params),g.data=Object.freeze(k.data),E.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(E,g,k,V){return 0===k.segments.length&&k.hasChildren()?this.processChildren(E,g,k):this.processSegment(E,g,k,k.segments,V)}processChildren(E,g,k){return(0,J.D)(Object.keys(k.children)).pipe((0,hn.b)(V=>{const re=k.children[V],ie=lo(g,V);return this.processSegmentGroup(E,ie,re,V)}),tt((V,re)=>V&&re?(V.push(...re),V):null),(0,Xe.o)(V=>null!==V),Et(null),ht(),(0,Mt.U)(V=>{if(null===V)return null;const re=Pn(V);return function lt(w){w.sort((E,g)=>E.value.outlet===jt?-1:g.value.outlet===jt?1:E.value.outlet.localeCompare(g.value.outlet))}(re),re}))}processSegment(E,g,k,V,re){return(0,J.D)(g).pipe((0,hn.b)(ie=>this.processSegmentAgainstRoute(ie._injector??E,ie,k,V,re)),an(ie=>!!ie),(0,ir.K)(ie=>{if(Ai(ie))return Os(k,V,re)?(0,de.of)([]):(0,de.of)(null);throw ie}))}processSegmentAgainstRoute(E,g,k,V,re){if(g.redirectTo||!la(g,k,V,re))return(0,de.of)(null);let ie;if("**"===g.path){const Ze=V.length>0?$r(V).parameters:{},yt=x(k)+V.length,Mn=new Ps(V,Ze,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Te(g),Jr(g),g.component??g._loadedComponent??null,g,H(k),yt,it(g));ie=(0,de.of)({snapshot:Mn,consumedSegments:[],remainingSegments:[]})}else ie=ga(k,g,V,E).pipe((0,Mt.U)(({matched:Ze,consumedSegments:yt,remainingSegments:Mn,parameters:rn})=>{if(!Ze)return null;const Kt=x(k)+yt.length;return{snapshot:new Ps(yt,rn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Te(g),Jr(g),g.component??g._loadedComponent??null,g,H(k),Kt,it(g)),consumedSegments:yt,remainingSegments:Mn}}));return ie.pipe((0,un.w)(Ze=>{if(null===Ze)return(0,de.of)(null);const{snapshot:yt,consumedSegments:Mn,remainingSegments:rn}=Ze;E=g._injector??E;const Kt=g._loadedInjector??E,vo=function Ct(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(g),{segmentGroup:ua,slicedSegments:ts}=ja(k,Mn,rn,vo.filter(Hi=>void 0===Hi.redirectTo));if(0===ts.length&&ua.hasChildren())return this.processChildren(Kt,vo,ua).pipe((0,Mt.U)(Hi=>null===Hi?null:[new Li(yt,Hi)]));if(0===vo.length&&0===ts.length)return(0,de.of)([new Li(yt,[])]);const Ws=Jr(g)===re;return this.processSegment(Kt,vo,ua,ts,Ws?jt:re).pipe((0,Mt.U)(Hi=>null===Hi?null:[new Li(yt,Hi)]))}))}}function gn(w){const E=w.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function Pn(w){const E=[],g=new Set;for(const k of w){if(!gn(k)){E.push(k);continue}const V=E.find(re=>k.value.routeConfig===re.value.routeConfig);void 0!==V?(V.children.push(...k.children),g.add(V)):E.push(k)}for(const k of g){const V=Pn(k.children);E.push(new Li(k.value,V))}return E.filter(k=>!g.has(k))}function H(w){let E=w;for(;E._sourceSegment;)E=E._sourceSegment;return E}function x(w){let E=w,g=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,g+=E._segmentIndexShift??0;return g-1}function Te(w){return w.data||{}}function it(w){return w.resolve||{}}function Ti(w){return"string"==typeof w.title||null===w.title}function Mr(w){return(0,un.w)(E=>{const g=w(E);return g?(0,J.D)(g).pipe((0,Mt.U)(()=>E)):(0,de.of)(E)})}const go=new D.OlP("ROUTES");let ro=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,D.f3M)(D.Sil)}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return(0,de.of)(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const k=Gr(g.loadComponent()).pipe((0,Mt.U)(Uo),(0,Rr.b)(re=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=re}),(0,Ot.x)(()=>{this.componentLoaders.delete(g)})),V=new Rt.c(k,()=>new Pt.x).pipe((0,Cn.x)());return this.componentLoaders.set(g,V),V}loadChildren(g,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,de.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const re=this.loadModuleFactoryOrRoutes(k.loadChildren).pipe((0,Mt.U)(Ze=>{this.onLoadEndListener&&this.onLoadEndListener(k);let yt,Mn,rn=!1;Array.isArray(Ze)?Mn=Ze:(yt=Ze.create(g).injector,Mn=Qr(yt.get(go,[],D.XFs.Self|D.XFs.Optional)));return{routes:Mn.map(Bi),injector:yt}}),(0,Ot.x)(()=>{this.childrenLoaders.delete(k)})),ie=new Rt.c(re,()=>new Pt.x).pipe((0,Cn.x)());return this.childrenLoaders.set(k,ie),ie}loadModuleFactoryOrRoutes(g){return Gr(g()).pipe((0,Mt.U)(Uo),(0,xt.z)(k=>k instanceof D.YKP||Array.isArray(k)?(0,de.of)(k):(0,J.D)(this.compiler.compileModuleAsync(k))))}}return w.\u0275fac=function(g){return new(g||w)},w.\u0275prov=D.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Uo(w){return function xo(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let kn=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Pt.x,this.configLoader=(0,D.f3M)(ro),this.environmentInjector=(0,D.f3M)(D.lqb),this.urlSerializer=(0,D.f3M)(Bn),this.rootContexts=(0,D.f3M)(Hs),this.navigationId=0,this.afterPreactivation=()=>(0,de.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=V=>this.events.next(new wr(V)),this.configLoader.onLoadStartListener=V=>this.events.next(new Wr(V))}complete(){this.transitions?.complete()}handleNavigationRequest(g){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...g,id:k})}setupNavigations(g){return this.transitions=new De.X({id:0,targetPageId:0,currentUrlTree:g.currentUrlTree,currentRawUrl:g.currentUrlTree,extractedUrl:g.urlHandlingStrategy.extract(g.currentUrlTree),urlAfterRedirects:g.urlHandlingStrategy.extract(g.currentUrlTree),rawUrl:g.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ge,restoredState:null,currentSnapshot:g.routerState.snapshot,targetSnapshot:null,currentRouterState:g.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,at.h)(k=>0!==k.id),(0,Mt.U)(k=>({...k,extractedUrl:g.urlHandlingStrategy.extract(k.rawUrl)})),(0,un.w)(k=>{let V=!1,re=!1;return(0,de.of)(k).pipe((0,Rr.b)(ie=>{this.currentNavigation={id:ie.id,initialUrl:ie.rawUrl,extractedUrl:ie.extractedUrl,trigger:ie.source,extras:ie.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,un.w)(ie=>{const Ze=g.browserUrlTree.toString(),yt=!g.navigated||ie.extractedUrl.toString()!==Ze||Ze!==g.currentUrlTree.toString();if(!yt&&"reload"!==(ie.extras.onSameUrlNavigation??g.onSameUrlNavigation)){const rn="";return this.events.next(new bn(ie.id,g.serializeUrl(k.rawUrl),rn,0)),g.rawUrlTree=ie.rawUrl,ie.resolve(null),Ft.E}if(g.urlHandlingStrategy.shouldProcessUrl(ie.rawUrl))return jn(ie.source)&&(g.browserUrlTree=ie.extractedUrl),(0,de.of)(ie).pipe((0,un.w)(rn=>{const Kt=this.transitions?.getValue();return this.events.next(new Oe(rn.id,this.urlSerializer.serialize(rn.extractedUrl),rn.source,rn.restoredState)),Kt!==this.transitions?.getValue()?Ft.E:Promise.resolve(rn)}),function T(w,E,g,k){return(0,un.w)(V=>function K(w,E,g,k,V){return new _(w,E,g,k,V).apply()}(w,E,g,V.extractedUrl,k).pipe((0,Mt.U)(re=>({...V,urlAfterRedirects:re}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,g.config),(0,Rr.b)(rn=>{this.currentNavigation={...this.currentNavigation,finalUrl:rn.urlAfterRedirects},k.urlAfterRedirects=rn.urlAfterRedirects}),function Dt(w,E,g,k,V){return(0,xt.z)(re=>function xe(w,E,g,k,V,re,ie="emptyOnly"){return new Ve(w,E,g,k,V,ie,re).recognize().pipe((0,un.w)(Ze=>null===Ze?function ue(w){return new Re.y(E=>E.error(w))}(new X):(0,de.of)(Ze)))}(w,E,g,re.urlAfterRedirects,k.serialize(re.urlAfterRedirects),k,V).pipe((0,Mt.U)(ie=>({...re,targetSnapshot:ie}))))}(this.environmentInjector,this.rootComponentType,g.config,this.urlSerializer,g.paramsInheritanceStrategy),(0,Rr.b)(rn=>{if(k.targetSnapshot=rn.targetSnapshot,"eager"===g.urlUpdateStrategy){if(!rn.extras.skipLocationChange){const vo=g.urlHandlingStrategy.merge(rn.urlAfterRedirects,rn.rawUrl);g.setBrowserUrl(vo,rn)}g.browserUrlTree=rn.urlAfterRedirects}const Kt=new yr(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects),rn.targetSnapshot);this.events.next(Kt)}));if(yt&&g.urlHandlingStrategy.shouldProcessUrl(g.rawUrlTree)){const{id:rn,extractedUrl:Kt,source:vo,restoredState:ua,extras:ts}=ie,Ws=new Oe(rn,this.urlSerializer.serialize(Kt),vo,ua);this.events.next(Ws);const Hi=Ko(Kt,this.rootComponentType).snapshot;return k={...ie,targetSnapshot:Hi,urlAfterRedirects:Kt,extras:{...ts,skipLocationChange:!1,replaceUrl:!1}},(0,de.of)(k)}{const rn="";return this.events.next(new bn(ie.id,g.serializeUrl(k.extractedUrl),rn,1)),g.rawUrlTree=ie.rawUrl,ie.resolve(null),Ft.E}}),(0,Rr.b)(ie=>{const Ze=new fi(ie.id,this.urlSerializer.serialize(ie.extractedUrl),this.urlSerializer.serialize(ie.urlAfterRedirects),ie.targetSnapshot);this.events.next(Ze)}),(0,Mt.U)(ie=>k={...ie,guards:Es(ie.targetSnapshot,ie.currentSnapshot,this.rootContexts)}),function co(w,E){return(0,xt.z)(g=>{const{targetSnapshot:k,currentSnapshot:V,guards:{canActivateChecks:re,canDeactivateChecks:ie}}=g;return 0===ie.length&&0===re.length?(0,de.of)({...g,guardsResult:!0}):function Ca(w,E,g,k){return(0,J.D)(w).pipe((0,xt.z)(V=>function Do(w,E,g,k,V){const re=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,de.of)(!0);const ie=re.map(Ze=>{const yt=Si(E)??V,Mn=no(Ze,yt);return Gr(function kt(w){return w&&zs(w.canDeactivate)}(Mn)?Mn.canDeactivate(w,E,g,k):yt.runInContext(()=>Mn(w,E,g,k))).pipe(an())});return(0,de.of)(ie).pipe(ho())}(V.component,V.route,g,E,k)),an(V=>!0!==V,!0))}(ie,k,V,w).pipe((0,xt.z)(Ze=>Ze&&function Ri(w){return"boolean"==typeof w}(Ze)?function $s(w,E,g,k){return(0,J.D)(E).pipe((0,hn.b)(V=>(0,se.z)(function aa(w,E){return null!==w&&E&&E(new Qi(w)),(0,de.of)(!0)}(V.route.parent,k),function Is(w,E){return null!==w&&E&&E(new _o(w)),(0,de.of)(!0)}(V.route,k),function Ui(w,E,g){const k=E[E.length-1],re=E.slice(0,E.length-1).reverse().map(ie=>function Rs(w){const E=w.routeConfig?w.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:w,guards:E}:null}(ie)).filter(ie=>null!==ie).map(ie=>Ee(()=>{const Ze=ie.guards.map(yt=>{const Mn=Si(ie.node)??g,rn=no(yt,Mn);return Gr(function Zo(w){return w&&zs(w.canActivateChild)}(rn)?rn.canActivateChild(k,w):Mn.runInContext(()=>rn(k,w))).pipe(an())});return(0,de.of)(Ze).pipe(ho())}));return(0,de.of)(re).pipe(ho())}(w,V.path,g),function Io(w,E,g){const k=E.routeConfig?E.routeConfig.canActivate:null;if(!k||0===k.length)return(0,de.of)(!0);const V=k.map(re=>Ee(()=>{const ie=Si(E)??g,Ze=no(re,ie);return Gr(function ma(w){return w&&zs(w.canActivate)}(Ze)?Ze.canActivate(E,w):ie.runInContext(()=>Ze(E,w))).pipe(an())}));return(0,de.of)(V).pipe(ho())}(w,V.route,g))),an(V=>!0!==V,!0))}(k,re,w,E):(0,de.of)(Ze)),(0,Mt.U)(Ze=>({...g,guardsResult:Ze})))})}(this.environmentInjector,ie=>this.events.next(ie)),(0,Rr.b)(ie=>{if(k.guardsResult=ie.guardsResult,yi(ie.guardsResult))throw Bs(0,ie.guardsResult);const Ze=new Sr(ie.id,this.urlSerializer.serialize(ie.extractedUrl),this.urlSerializer.serialize(ie.urlAfterRedirects),ie.targetSnapshot,!!ie.guardsResult);this.events.next(Ze)}),(0,at.h)(ie=>!!ie.guardsResult||(g.restoreHistory(ie),this.cancelNavigationTransition(ie,"",3),!1)),Mr(ie=>{if(ie.guards.canActivateChecks.length)return(0,de.of)(ie).pipe((0,Rr.b)(Ze=>{const yt=new Fi(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot);this.events.next(yt)}),(0,un.w)(Ze=>{let yt=!1;return(0,de.of)(Ze).pipe(function wn(w,E){return(0,xt.z)(g=>{const{targetSnapshot:k,guards:{canActivateChecks:V}}=g;if(!V.length)return(0,de.of)(g);let re=0;return(0,J.D)(V).pipe((0,hn.b)(ie=>function vr(w,E,g,k){const V=w.routeConfig,re=w._resolve;return void 0!==V?.title&&!Ti(V)&&(re[Kn]=V.title),function zr(w,E,g,k){const V=function Pr(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===V.length)return(0,de.of)({});const re={};return(0,J.D)(V).pipe((0,xt.z)(ie=>function Qn(w,E,g,k){const V=Si(E)??k,re=no(w,V);return Gr(re.resolve?re.resolve(E,g):V.runInContext(()=>re(E,g)))}(w[ie],E,g,k).pipe(an(),(0,Rr.b)(Ze=>{re[ie]=Ze}))),ut(1),(0,Ht.h)(re),(0,ir.K)(ie=>Ai(ie)?Ft.E:Ue(ie)))}(re,w,E,k).pipe((0,Mt.U)(ie=>(w._resolvedData=ie,w.data=_s(w,g).resolve,V&&Ti(V)&&(w.data[Kn]=V.title),null)))}(ie.route,k,w,E)),(0,Rr.b)(()=>re++),ut(1),(0,xt.z)(ie=>re===V.length?(0,de.of)(g):Ft.E))})}(g.paramsInheritanceStrategy,this.environmentInjector),(0,Rr.b)({next:()=>yt=!0,complete:()=>{yt||(g.restoreHistory(Ze),this.cancelNavigationTransition(Ze,"",2))}}))}),(0,Rr.b)(Ze=>{const yt=new br(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot);this.events.next(yt)}))}),Mr(ie=>{const Ze=yt=>{const Mn=[];yt.routeConfig?.loadComponent&&!yt.routeConfig._loadedComponent&&Mn.push(this.configLoader.loadComponent(yt.routeConfig).pipe((0,Rr.b)(rn=>{yt.component=rn}),(0,Mt.U)(()=>{})));for(const rn of yt.children)Mn.push(...Ze(rn));return Mn};return(0,ge.a)(Ze(ie.targetSnapshot.root)).pipe(Et(),(0,_t.q)(1))}),Mr(()=>this.afterPreactivation()),(0,Mt.U)(ie=>{const Ze=function La(w,E,g){const k=qo(w,E._root,g?g._root:void 0);return new wo(k,E)}(g.routeReuseStrategy,ie.targetSnapshot,ie.currentRouterState);return k={...ie,targetRouterState:Ze}}),(0,Rr.b)(ie=>{g.currentUrlTree=ie.urlAfterRedirects,g.rawUrlTree=g.urlHandlingStrategy.merge(ie.urlAfterRedirects,ie.rawUrl),g.routerState=ie.targetRouterState,"deferred"===g.urlUpdateStrategy&&(ie.extras.skipLocationChange||g.setBrowserUrl(g.rawUrlTree,ie),g.browserUrlTree=ie.urlAfterRedirects)}),((w,E,g)=>(0,Mt.U)(k=>(new Ua(E,k.targetRouterState,k.currentRouterState,g).activate(w),k)))(this.rootContexts,g.routeReuseStrategy,ie=>this.events.next(ie)),(0,_t.q)(1),(0,Rr.b)({next:ie=>{V=!0,this.lastSuccessfulNavigation=this.currentNavigation,g.navigated=!0,this.events.next(new At(ie.id,this.urlSerializer.serialize(ie.extractedUrl),this.urlSerializer.serialize(g.currentUrlTree))),g.titleStrategy?.updateTitle(ie.targetRouterState.snapshot),ie.resolve(!0)},complete:()=>{V=!0}}),(0,Ot.x)(()=>{V||re||this.cancelNavigationTransition(k,"",1),this.currentNavigation?.id===k.id&&(this.currentNavigation=null)}),(0,ir.K)(ie=>{if(re=!0,ao(ie)){Ga(ie)||(g.navigated=!0,g.restoreHistory(k,!0));const Ze=new Jt(k.id,this.urlSerializer.serialize(k.extractedUrl),ie.message,ie.cancellationCode);if(this.events.next(Ze),Ga(ie)){const yt=g.urlHandlingStrategy.merge(ie.url,g.rawUrlTree),Mn={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===g.urlUpdateStrategy||jn(k.source)};g.scheduleNavigation(yt,Ge,null,Mn,{resolve:k.resolve,reject:k.reject,promise:k.promise})}else k.resolve(!1)}else{g.restoreHistory(k,!0);const Ze=new cr(k.id,this.urlSerializer.serialize(k.extractedUrl),ie,k.targetSnapshot??void 0);this.events.next(Ze);try{k.resolve(g.errorHandler(ie))}catch(yt){k.reject(yt)}}return Ft.E}))}))}cancelNavigationTransition(g,k,V){const re=new Jt(g.id,this.urlSerializer.serialize(g.extractedUrl),k,V);this.events.next(re),g.resolve(!1)}}return w.\u0275fac=function(g){return new(g||w)},w.\u0275prov=D.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function jn(w){return w!==Ge}let or=(()=>{class w{buildTitle(g){let k,V=g.root;for(;void 0!==V;)k=this.getResolvedTitleForRoute(V)??k,V=V.children.find(re=>re.outlet===jt);return k}getResolvedTitleForRoute(g){return g.data[Kn]}}return w.\u0275fac=function(g){return new(g||w)},w.\u0275prov=D.Yz7({token:w,factory:function(){return(0,D.f3M)(ni)},providedIn:"root"}),w})(),ni=(()=>{class w extends or{constructor(g){super(),this.title=g}updateTitle(g){const k=this.buildTitle(g);void 0!==k&&this.title.setTitle(k)}}return w.\u0275fac=function(g){return new(g||w)(D.LFG(ri.Dx))},w.\u0275prov=D.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Vo=(()=>{class w{}return w.\u0275fac=function(g){return new(g||w)},w.\u0275prov=D.Yz7({token:w,factory:function(){return(0,D.f3M)(ls)},providedIn:"root"}),w})();class Ns{shouldDetach(E){return!1}store(E,g){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,g){return E.routeConfig===g.routeConfig}}let ls=(()=>{class w extends Ns{}return w.\u0275fac=function(){let E;return function(k){return(E||(E=D.n5z(w)))(k||w)}}(),w.\u0275prov=D.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const ee=new D.OlP("",{providedIn:"root",factory:()=>({})});let U=(()=>{class w{}return w.\u0275fac=function(g){return new(g||w)},w.\u0275prov=D.Yz7({token:w,factory:function(){return(0,D.f3M)(M)},providedIn:"root"}),w})(),M=(()=>{class w{shouldProcessUrl(g){return!0}extract(g){return g}merge(g,k){return g}}return w.\u0275fac=function(g){return new(g||w)},w.\u0275prov=D.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const L=!1;function A(w){throw w}function q(w,E,g){return E.parse("/")}const $={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mn=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,D.f3M)(D.c2e),this.isNgZoneEnabled=!1,this.options=(0,D.f3M)(ee,{optional:!0})||{},this.errorHandler=this.options.errorHandler||A,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||q,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,D.f3M)(U),this.routeReuseStrategy=(0,D.f3M)(Vo),this.urlCreationStrategy=(0,D.f3M)(pi),this.titleStrategy=(0,D.f3M)(or),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Qr((0,D.f3M)(go,{optional:!0})??[]),this.navigationTransitions=(0,D.f3M)(kn),this.urlSerializer=(0,D.f3M)(Bn),this.location=(0,D.f3M)($t.Ye),this.isNgZoneEnabled=(0,D.f3M)(D.R0b)instanceof D.R0b&&D.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Br,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ko(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(g=>{this.lastSuccessfulId=g.id,this.currentPageId=this.browserPageId??0},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}resetRootComponentType(g){this.routerState.root.component=g,this.navigationTransitions.rootComponentType=g}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const g=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ge,g)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const k="popstate"===g.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(g.url,k,g.state)},0)}))}navigateToSyncWithBrowser(g,k,V){const re={replaceUrl:!0},ie=V?.navigationId?V:null;if(V){const yt={...V};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(re.state=yt)}const Ze=this.parseUrl(g);this.scheduleNavigation(Ze,k,ie,re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(g){this.config=g.map(Bi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,k={}){const{relativeTo:V,queryParams:re,fragment:ie,queryParamsHandling:Ze,preserveFragment:yt}=k,Mn=yt?this.currentUrlTree.fragment:ie;let rn=null;switch(Ze){case"merge":rn={...this.currentUrlTree.queryParams,...re};break;case"preserve":rn=this.currentUrlTree.queryParams;break;default:rn=re||null}return null!==rn&&(rn=this.removeEmptyProps(rn)),this.urlCreationStrategy.createUrlTree(V,this.routerState,this.currentUrlTree,g,rn,Mn??null)}navigateByUrl(g,k={skipLocationChange:!1}){const V=yi(g)?g:this.parseUrl(g),re=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(re,Ge,null,k)}navigate(g,k={skipLocationChange:!1}){return function $n(w){for(let E=0;E<w.length;E++){const g=w[E];if(null==g)throw new D.vHH(4008,L)}}(g),this.navigateByUrl(this.createUrlTree(g,k),k)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let k;try{k=this.urlSerializer.parse(g)}catch(V){k=this.malformedUriErrorHandler(V,this.urlSerializer,g)}return k}isActive(g,k){let V;if(V=!0===k?{...$}:!1===k?{...Nt}:k,yi(g))return Ar(this.currentUrlTree,g,V);const re=this.parseUrl(g);return Ar(this.currentUrlTree,re,V)}removeEmptyProps(g){return Object.keys(g).reduce((k,V)=>{const re=g[V];return null!=re&&(k[V]=re),k},{})}scheduleNavigation(g,k,V,re,ie){if(this.disposed)return Promise.resolve(!1);let Ze,yt,Mn,rn;return ie?(Ze=ie.resolve,yt=ie.reject,Mn=ie.promise):Mn=new Promise((Kt,vo)=>{Ze=Kt,yt=vo}),rn="computed"===this.canceledNavigationResolution?V&&V.\u0275routerPageId?V.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:rn,source:k,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:g,extras:re,resolve:Ze,reject:yt,promise:Mn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Mn.catch(Kt=>Promise.reject(Kt))}setBrowserUrl(g,k){const V=this.urlSerializer.serialize(g);if(this.location.isCurrentPathEqualTo(V)||k.extras.replaceUrl){const ie={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(V,"",ie)}else{const re={...k.extras.state,...this.generateNgRouterState(k.id,k.targetPageId)};this.location.go(V,"",re)}}restoreHistory(g,k=!1){if("computed"===this.canceledNavigationResolution){const re=this.currentPageId-(this.browserPageId??this.currentPageId);0!==re?this.location.historyGo(re):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===re&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(g,k){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:k}:{navigationId:g}}}return w.\u0275fac=function(g){return new(g||w)},w.\u0275prov=D.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Ur=(()=>{class w{constructor(g,k,V,re,ie,Ze){this.router=g,this.route=k,this.tabIndexAttribute=V,this.renderer=re,this.el=ie,this.locationStrategy=Ze,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Pt.x;const yt=ie.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===yt||"area"===yt,this.isAnchorElement?this.subscription=g.events.subscribe(Mn=>{Mn instanceof At&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(g){this._preserveFragment=(0,D.D6c)(g)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(g){this._skipLocationChange=(0,D.D6c)(g)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(g){this._replaceUrl=(0,D.D6c)(g)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(g){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",g)}ngOnChanges(g){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(g){null!=g?(this.commands=Array.isArray(g)?g:[g],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(g,k,V,re,ie){return!!(null===this.urlTree||this.isAnchorElement&&(0!==g||k||V||re||ie||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const g=null===this.href?null:(0,D.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",g)}applyAttributeValue(g,k){const V=this.renderer,re=this.el.nativeElement;null!==k?V.setAttribute(re,g,k):V.removeAttribute(re,g)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(g){return new(g||w)(D.Y36(mn),D.Y36(Eo),D.$8M("tabindex"),D.Y36(D.Qsj),D.Y36(D.SBq),D.Y36($t.S$))},w.\u0275dir=D.lG2({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(g,k){1&g&&D.NdJ("click",function(re){return k.onClick(re.button,re.ctrlKey,re.shiftKey,re.altKey,re.metaKey)}),2&g&&D.uIk("target",k.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[D.TTD]}),w})();class Kr{}let ji=(()=>{class w{constructor(g,k,V,re,ie){this.router=g,this.injector=V,this.preloadingStrategy=re,this.loader=ie}setUpPreloading(){this.subscription=this.router.events.pipe((0,at.h)(g=>g instanceof At),(0,hn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,k){const V=[];for(const re of k){re.providers&&!re._injector&&(re._injector=(0,D.MMx)(re.providers,g,`Route: ${re.path}`));const ie=re._injector??g,Ze=re._loadedInjector??ie;(re.loadChildren&&!re._loadedRoutes&&void 0===re.canLoad||re.loadComponent&&!re._loadedComponent)&&V.push(this.preloadConfig(ie,re)),(re.children||re._loadedRoutes)&&V.push(this.processRoutes(Ze,re.children??re._loadedRoutes))}return(0,J.D)(V).pipe((0,In.J)())}preloadConfig(g,k){return this.preloadingStrategy.preload(k,()=>{let V;V=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(g,k):(0,de.of)(null);const re=V.pipe((0,xt.z)(ie=>null===ie?(0,de.of)(void 0):(k._loadedRoutes=ie.routes,k._loadedInjector=ie.injector,this.processRoutes(ie.injector??g,ie.routes))));if(k.loadComponent&&!k._loadedComponent){const ie=this.loader.loadComponent(k);return(0,J.D)([re,ie]).pipe((0,In.J)())}return re})}}return w.\u0275fac=function(g){return new(g||w)(D.LFG(mn),D.LFG(D.Sil),D.LFG(D.lqb),D.LFG(Kr),D.LFG(ro))},w.\u0275prov=D.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Mo=new D.OlP("");let Ro=(()=>{class w{constructor(g,k,V,re,ie={}){this.urlSerializer=g,this.transitions=k,this.viewportScroller=V,this.zone=re,this.options=ie,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ie.scrollPositionRestoration=ie.scrollPositionRestoration||"disabled",ie.anchorScrolling=ie.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof Oe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof At&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.urlSerializer.parse(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof vs&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vs(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return w.\u0275fac=function(g){D.$Z()},w.\u0275prov=D.Yz7({token:w,factory:w.\u0275fac}),w})();var io=(()=>((io=io||{})[io.COMPLETE=0]="COMPLETE",io[io.FAILED=1]="FAILED",io[io.REDIRECTING=2]="REDIRECTING",io))();const Ho=!1;function yo(w,E){return{\u0275kind:w,\u0275providers:E}}const cs=new D.OlP("",{providedIn:"root",factory:()=>!1});function qn(){const w=(0,D.f3M)(D.zs3);return E=>{const g=w.get(D.z2F);if(E!==g.components[0])return;const k=w.get(mn),V=w.get(Ss);1===w.get(xi)&&k.initialNavigation(),w.get(oo,null,D.XFs.Optional)?.setUpPreloading(),w.get(Mo,null,D.XFs.Optional)?.init(),k.resetRootComponentType(g.componentTypes[0]),V.closed||(V.next(),V.complete(),V.unsubscribe())}}const Ss=new D.OlP(Ho?"bootstrap done indicator":"",{factory:()=>new Pt.x}),xi=new D.OlP(Ho?"initial navigation":"",{providedIn:"root",factory:()=>1});function sn(){let w=[];return w=Ho?[{provide:D.Xts,multi:!0,useFactory:()=>{const E=(0,D.f3M)(mn);return()=>E.events.subscribe(g=>{console.group?.(`Router Event: ${g.constructor.name}`),console.log(function To(w){if(!("type"in w))return`Unknown Router Event: ${w.constructor.name}`;switch(w.type){case 14:return`ActivationEnd(path: '${w.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${w.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${w.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${w.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state}, shouldActivate: ${w.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 2:return`NavigationCancel(id: ${w.id}, url: '${w.url}')`;case 16:return`NavigationSkipped(id: ${w.id}, url: '${w.url}')`;case 1:return`NavigationEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${w.id}, url: '${w.url}', error: ${w.error})`;case 0:return`NavigationStart(id: ${w.id}, url: '${w.url}')`;case 6:return`ResolveEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 5:return`ResolveStart(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 10:return`RouteConfigLoadEnd(path: ${w.route.path})`;case 9:return`RouteConfigLoadStart(path: ${w.route.path})`;case 4:return`RoutesRecognized(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 15:return`Scroll(anchor: '${w.anchor}', position: '${w.position?`${w.position[0]}, ${w.position[1]}`:null}')`}}(g)),console.log(g),console.groupEnd?.()})}}]:[],yo(1,w)}const oo=new D.OlP(Ho?"router preloader":"");function va(w){return yo(0,[{provide:oo,useExisting:ji},{provide:Kr,useExisting:w}])}const xa=!1,gt=new D.OlP(xa?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Zt=[$t.Ye,{provide:Bn,useClass:Rn},mn,Hs,{provide:Eo,useFactory:function Fs(w){return w.routerState.root},deps:[mn]},ro,xa?{provide:cs,useValue:!0}:[]];function xn(){return new D.PXZ("Router",mn)}let Ei=(()=>{class w{constructor(g){}static forRoot(g,k){return{ngModule:w,providers:[Zt,xa&&k?.enableTracing?sn().\u0275providers:[],{provide:go,multi:!0,useValue:g},{provide:gt,useFactory:Va,deps:[[mn,new D.FiY,new D.tp0]]},{provide:ee,useValue:k||{}},k?.useHash?{provide:$t.S$,useClass:$t.Do}:{provide:$t.S$,useClass:$t.b0},{provide:Mo,useFactory:()=>{const w=(0,D.f3M)($t.EM),E=(0,D.f3M)(D.R0b),g=(0,D.f3M)(ee),k=(0,D.f3M)(kn),V=(0,D.f3M)(Bn);return g.scrollOffset&&w.setOffset(g.scrollOffset),new Ro(V,k,w,E,g)}},k?.preloadingStrategy?va(k.preloadingStrategy).\u0275providers:[],{provide:D.PXZ,multi:!0,useFactory:xn},k?.initialNavigation?il(k):[],[{provide:_a,useFactory:qn},{provide:D.tb,multi:!0,useExisting:_a}]]}}static forChild(g){return{ngModule:w,providers:[{provide:go,multi:!0,useValue:g}]}}}return w.\u0275fac=function(g){return new(g||w)(D.LFG(gt,8))},w.\u0275mod=D.oAB({type:w}),w.\u0275inj=D.cJS({imports:[xs]}),w})();function Va(w){if(xa&&w)throw new D.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function il(w){return["disabled"===w.initialNavigation?yo(3,[{provide:D.ip1,multi:!0,useFactory:()=>{const E=(0,D.f3M)(mn);return()=>{E.setUpLocationChangeListener()}}},{provide:xi,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?yo(2,[{provide:xi,useValue:0},{provide:D.ip1,multi:!0,deps:[D.zs3],useFactory:E=>{const g=E.get($t.V_,Promise.resolve());return()=>g.then(()=>new Promise(k=>{const V=E.get(mn),re=E.get(Ss);(function Xo(w,E){w.events.pipe((0,at.h)(g=>g instanceof At||g instanceof Jt||g instanceof cr||g instanceof bn),(0,Mt.U)(g=>g instanceof At||g instanceof bn?io.COMPLETE:g instanceof Jt&&(0===g.code||1===g.code)?io.REDIRECTING:io.FAILED),(0,at.h)(g=>g!==io.REDIRECTING),(0,_t.q)(1)).subscribe(()=>{E()})})(V,()=>{k(!0)}),E.get(kn).afterPreactivation=()=>(k(!0),re.closed?(0,de.of)(void 0):re),V.initialNavigation()}))}}]).\u0275providers:[]]}const _a=new D.OlP(xa?"Router Initializer":"")},9681:(_n,nt,z)=>{z.d(nt,{Jn:()=>li,KN:()=>Gr,Xd:()=>jt,qX:()=>Kn});var ge,se,D=z(5861),J=z(4859),de=z(1877),De=z(2090),Ae=z(8766);class Re{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(be=>{if(function _e(Tt){return"VERSION"===Tt.getComponent()?.type}(be)){const fe=be.getImmediate();return`${fe.library}/${fe.version}`}return null}).filter(be=>be).join(" ")}}const Ee="@firebase/app",vt=new de.Yd("@firebase/app"),Ht={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ot=new Map,Cn=new Map;function In(Tt,Ne){try{Tt.container.addComponent(Ne)}catch(be){vt.debug(`Component ${Ne.name} failed to register with FirebaseApp ${Tt.name}`,be)}}function jt(Tt){const Ne=Tt.name;if(Cn.has(Ne))return vt.debug(`There were multiple attempts to register component ${Ne}.`),!1;Cn.set(Ne,Tt);for(const be of Ot.values())In(be,Tt);return!0}function Kn(Tt,Ne){const be=Tt.container.getProvider("heartbeat").getImmediate({optional:!0});return be&&be.triggerHeartbeat(),Tt.container.getProvider(Ne)}const Jn=new De.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),li="10.4.0";function Gr(Tt,Ne,be){var fe;let me=null!==(fe=Ht[Tt])&&void 0!==fe?fe:Tt;be&&(me+=`-${be}`);const Je=me.match(/\s|\//),dt=Ne.match(/\s|\//);if(Je||dt){const ve=[`Unable to register library "${me}" with version "${Ne}":`];return Je&&ve.push(`library name "${me}" contains illegal characters (whitespace or "/")`),Je&&dt&&ve.push("and"),dt&&ve.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void vt.warn(ve.join(" "))}jt(new J.wA(`${me}-version`,()=>({library:me,version:Ne}),"VERSION"))}const ii="firebase-heartbeat-database",Ar=1,ar="firebase-heartbeat-store";let Tn=null;function tn(){return Tn||(Tn=(0,Ae.X3)(ii,Ar,{upgrade:(Tt,Ne)=>{0===Ne&&Tt.createObjectStore(ar)}}).catch(Tt=>{throw Jn.create("idb-open",{originalErrorMessage:Tt.message})})),Tn}function ti(Tt,Ne){return(se=se||(0,D.Z)(function*(be,fe){try{const Je=(yield tn()).transaction(ar,"readwrite");yield Je.objectStore(ar).put(fe,Fr(be)),yield Je.done}catch(me){if(me instanceof De.ZR)vt.warn(me.message);else{const Je=Jn.create("idb-set",{originalErrorMessage:me?.message});vt.warn(Je.message)}}})).apply(this,arguments)}function Fr(Tt){return`${Tt.name}!${Tt.options.appId}`}class Ke{constructor(Ne){this.container=Ne,this._heartbeatsCache=null;const be=this.container.getProvider("app").getImmediate();this._storage=new Vt(be),this._heartbeatsCachePromise=this._storage.read().then(fe=>(this._heartbeatsCache=fe,fe))}triggerHeartbeat(){var Ne=this;return(0,D.Z)(function*(){const fe=Ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),me=wt();if(null===Ne._heartbeatsCache&&(Ne._heartbeatsCache=yield Ne._heartbeatsCachePromise),Ne._heartbeatsCache.lastSentHeartbeatDate!==me&&!Ne._heartbeatsCache.heartbeats.some(Je=>Je.date===me))return Ne._heartbeatsCache.heartbeats.push({date:me,agent:fe}),Ne._heartbeatsCache.heartbeats=Ne._heartbeatsCache.heartbeats.filter(Je=>{const dt=new Date(Je.date).valueOf();return Date.now()-dt<=2592e6}),Ne._storage.overwrite(Ne._heartbeatsCache)})()}getHeartbeatsHeader(){var Ne=this;return(0,D.Z)(function*(){if(null===Ne._heartbeatsCache&&(yield Ne._heartbeatsCachePromise),null===Ne._heartbeatsCache||0===Ne._heartbeatsCache.heartbeats.length)return"";const be=wt(),{heartbeatsToSend:fe,unsentEntries:me}=function Gt(Tt,Ne=1024){const be=[];let fe=Tt.slice();for(const me of Tt){const Je=be.find(dt=>dt.agent===me.agent);if(Je){if(Je.dates.push(me.date),Bn(be)>Ne){Je.dates.pop();break}}else if(be.push({agent:me.agent,dates:[me.date]}),Bn(be)>Ne){be.pop();break}fe=fe.slice(1)}return{heartbeatsToSend:be,unsentEntries:fe}}(Ne._heartbeatsCache.heartbeats),Je=(0,De.L)(JSON.stringify({version:2,heartbeats:fe}));return Ne._heartbeatsCache.lastSentHeartbeatDate=be,me.length>0?(Ne._heartbeatsCache.heartbeats=me,yield Ne._storage.overwrite(Ne._heartbeatsCache)):(Ne._heartbeatsCache.heartbeats=[],Ne._storage.overwrite(Ne._heartbeatsCache)),Je})()}}function wt(){return(new Date).toISOString().substring(0,10)}class Vt{constructor(Ne){this.app=Ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,D.Z)(function*(){return!!(0,De.hl)()&&(0,De.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ne=this;return(0,D.Z)(function*(){return(yield Ne._canUseIndexedDBPromise)&&(yield function ei(Tt){return(ge=ge||(0,D.Z)(function*(Ne){try{return yield(yield tn()).transaction(ar).objectStore(ar).get(Fr(Ne))}catch(be){if(be instanceof De.ZR)vt.warn(be.message);else{const fe=Jn.create("idb-get",{originalErrorMessage:be?.message});vt.warn(fe.message)}}})).apply(this,arguments)}(Ne.app))||{heartbeats:[]}})()}overwrite(Ne){var be=this;return(0,D.Z)(function*(){var fe;if(yield be._canUseIndexedDBPromise){const Je=yield be.read();return ti(be.app,{lastSentHeartbeatDate:null!==(fe=Ne.lastSentHeartbeatDate)&&void 0!==fe?fe:Je.lastSentHeartbeatDate,heartbeats:Ne.heartbeats})}})()}add(Ne){var be=this;return(0,D.Z)(function*(){var fe;if(yield be._canUseIndexedDBPromise){const Je=yield be.read();return ti(be.app,{lastSentHeartbeatDate:null!==(fe=Ne.lastSentHeartbeatDate)&&void 0!==fe?fe:Je.lastSentHeartbeatDate,heartbeats:[...Je.heartbeats,...Ne.heartbeats]})}})()}}function Bn(Tt){return(0,De.L)(JSON.stringify({version:2,heartbeats:Tt})).length}!function Rn(Tt){jt(new J.wA("platform-logger",Ne=>new Re(Ne),"PRIVATE")),jt(new J.wA("heartbeat",Ne=>new Ke(Ne),"PRIVATE")),Gr(Ee,"0.9.19",Tt),Gr(Ee,"0.9.19","esm2017"),Gr("fire-js","")}("")},4859:(_n,nt,z)=>{z.d(nt,{H0:()=>se,wA:()=>de});var D=z(5861),J=z(2090);class de{constructor(_e,Ee,Ye){this.name=_e,this.instanceFactory=Ee,this.type=Ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}const De="[DEFAULT]";class Ae{constructor(_e,Ee){this.name=_e,this.container=Ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const Ee=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(Ee)){const Ye=new J.BH;if(this.instancesDeferred.set(Ee,Ye),this.isInitialized(Ee)||this.shouldAutoInitialize())try{const vt=this.getOrInitializeService({instanceIdentifier:Ee});vt&&Ye.resolve(vt)}catch{}}return this.instancesDeferred.get(Ee).promise}getImmediate(_e){var Ee;const Ye=this.normalizeInstanceIdentifier(_e?.identifier),vt=null!==(Ee=_e?.optional)&&void 0!==Ee&&Ee;if(!this.isInitialized(Ye)&&!this.shouldAutoInitialize()){if(vt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ye})}catch(Ue){if(vt)return null;throw Ue}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,this.shouldAutoInitialize()){if(function ge(Re){return"EAGER"===Re.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:De})}catch{}for(const[Ee,Ye]of this.instancesDeferred.entries()){const vt=this.normalizeInstanceIdentifier(Ee);try{const Ue=this.getOrInitializeService({instanceIdentifier:vt});Ye.resolve(Ue)}catch{}}}}clearInstance(_e=De){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}delete(){var _e=this;return(0,D.Z)(function*(){const Ee=Array.from(_e.instances.values());yield Promise.all([...Ee.filter(Ye=>"INTERNAL"in Ye).map(Ye=>Ye.INTERNAL.delete()),...Ee.filter(Ye=>"_delete"in Ye).map(Ye=>Ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(_e=De){return this.instances.has(_e)}getOptions(_e=De){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:Ee={}}=_e,Ye=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(Ye))throw Error(`${this.name}(${Ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const vt=this.getOrInitializeService({instanceIdentifier:Ye,options:Ee});for(const[Ue,Ft]of this.instancesDeferred.entries())Ye===this.normalizeInstanceIdentifier(Ue)&&Ft.resolve(vt);return vt}onInit(_e,Ee){var Ye;const vt=this.normalizeInstanceIdentifier(Ee),Ue=null!==(Ye=this.onInitCallbacks.get(vt))&&void 0!==Ye?Ye:new Set;Ue.add(_e),this.onInitCallbacks.set(vt,Ue);const Ft=this.instances.get(vt);return Ft&&_e(Ft,vt),()=>{Ue.delete(_e)}}invokeOnInitCallbacks(_e,Ee){const Ye=this.onInitCallbacks.get(Ee);if(Ye)for(const vt of Ye)try{vt(_e,Ee)}catch{}}getOrInitializeService({instanceIdentifier:_e,options:Ee={}}){let Ye=this.instances.get(_e);if(!Ye&&this.component&&(Ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=_e,Re===De?void 0:Re),options:Ee}),this.instances.set(_e,Ye),this.instancesOptions.set(_e,Ee),this.invokeOnInitCallbacks(Ye,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,Ye)}catch{}var Re;return Ye||null}normalizeInstanceIdentifier(_e=De){return this.component?this.component.multipleInstances?_e:De:_e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const Ee=this.getProvider(_e.name);if(Ee.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);Ee.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const Ee=new Ae(_e,this);return this.providers.set(_e,Ee),Ee}getProviders(){return Array.from(this.providers.values())}}},1877:(_n,nt,z)=>{z.d(nt,{Yd:()=>ge,in:()=>J});const D=[];var J=(()=>{return(_e=J||(J={}))[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",J;var _e})();const de={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},De=J.INFO,Ae={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},Ie=(_e,Ee,...Ye)=>{if(Ee<_e.logLevel)return;const vt=(new Date).toISOString(),Ue=Ae[Ee];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ee})`);console[Ue](`[${vt}]  ${_e.name}:`,...Ye)};class ge{constructor(Ee){this.name=Ee,this._logLevel=De,this._logHandler=Ie,this._userLogHandler=null,D.push(this)}get logLevel(){return this._logLevel}set logLevel(Ee){if(!(Ee in J))throw new TypeError(`Invalid value "${Ee}" assigned to \`logLevel\``);this._logLevel=Ee}setLogLevel(Ee){this._logLevel="string"==typeof Ee?de[Ee]:Ee}get logHandler(){return this._logHandler}set logHandler(Ee){if("function"!=typeof Ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ee){this._userLogHandler=Ee}debug(...Ee){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...Ee),this._logHandler(this,J.DEBUG,...Ee)}log(...Ee){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...Ee),this._logHandler(this,J.VERBOSE,...Ee)}info(...Ee){this._userLogHandler&&this._userLogHandler(this,J.INFO,...Ee),this._logHandler(this,J.INFO,...Ee)}warn(...Ee){this._userLogHandler&&this._userLogHandler(this,J.WARN,...Ee),this._logHandler(this,J.WARN,...Ee)}error(...Ee){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...Ee),this._logHandler(this,J.ERROR,...Ee)}}},8766:(_n,nt,z)=>{z.d(nt,{X3:()=>un});var D=z(5861);const J=(st,Et)=>Et.some(yn=>st instanceof yn);let de,De;const ge=new WeakMap,se=new WeakMap,Re=new WeakMap,_e=new WeakMap,Ee=new WeakMap;let Ue={get(st,Et,yn){if(st instanceof IDBTransaction){if("done"===Et)return se.get(st);if("objectStoreNames"===Et)return st.objectStoreNames||Re.get(st);if("store"===Et)return yn.objectStoreNames[1]?void 0:yn.objectStore(yn.objectStoreNames[0])}return $t(st[Et])},set:(st,Et,yn)=>(st[Et]=yn,!0),has:(st,Et)=>st instanceof IDBTransaction&&("done"===Et||"store"===Et)||Et in st};function Pt(st){return"function"==typeof st?function Rt(st){return st!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(st)?function(...Et){return st.apply(Mt(this),Et),$t(ge.get(this))}:function(...Et){return $t(st.apply(Mt(this),Et))}:function(Et,...yn){const ln=st.call(Mt(this),Et,...yn);return Re.set(ln,Et.sort?Et.sort():[Et]),$t(ln)}}(st):(st instanceof IDBTransaction&&function vt(st){if(se.has(st))return;const Et=new Promise((yn,ln)=>{const Vn=()=>{st.removeEventListener("complete",an),st.removeEventListener("error",hn),st.removeEventListener("abort",hn)},an=()=>{yn(),Vn()},hn=()=>{ln(st.error||new DOMException("AbortError","AbortError")),Vn()};st.addEventListener("complete",an),st.addEventListener("error",hn),st.addEventListener("abort",hn)});se.set(st,Et)}(st),J(st,function Ae(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(st,Ue):st)}function $t(st){if(st instanceof IDBRequest)return function Ye(st){const Et=new Promise((yn,ln)=>{const Vn=()=>{st.removeEventListener("success",an),st.removeEventListener("error",hn)},an=()=>{yn($t(st.result)),Vn()},hn=()=>{ln(st.error),Vn()};st.addEventListener("success",an),st.addEventListener("error",hn)});return Et.then(yn=>{yn instanceof IDBCursor&&ge.set(yn,st)}).catch(()=>{}),Ee.set(Et,st),Et}(st);if(_e.has(st))return _e.get(st);const Et=Pt(st);return Et!==st&&(_e.set(st,Et),Ee.set(Et,st)),Et}const Mt=st=>Ee.get(st);function un(st,Et,{blocked:yn,upgrade:ln,blocking:Vn,terminated:an}={}){const hn=indexedDB.open(st,Et),Rr=$t(hn);return ln&&hn.addEventListener("upgradeneeded",ir=>{ln($t(hn.result),ir.oldVersion,ir.newVersion,$t(hn.transaction),ir)}),yn&&hn.addEventListener("blocked",ir=>yn(ir.oldVersion,ir.newVersion,ir)),Rr.then(ir=>{an&&ir.addEventListener("close",()=>an()),Vn&&ir.addEventListener("versionchange",hr=>Vn(hr.oldVersion,hr.newVersion,hr))}).catch(()=>{}),Rr}const We=["get","getKey","getAll","getAllKeys","count"],at=["put","add","delete","clear"],xt=new Map;function pn(st,Et){var yn;if(!(st instanceof IDBDatabase)||Et in st||"string"!=typeof Et)return;if(xt.get(Et))return xt.get(Et);const ln=Et.replace(/FromIndex$/,""),Vn=Et!==ln,an=at.includes(ln);if(!(ln in(Vn?IDBIndex:IDBObjectStore).prototype)||!an&&!We.includes(ln))return;const hn=function(ir){return(yn=yn||(0,D.Z)(function*(hr,...tt){const ut=this.transaction(hr,an?"readwrite":"readonly");let ht=ut.store;return Vn&&(ht=ht.index(tt.shift())),(yield Promise.all([ht[ln](...tt),an&&ut.done]))[0]})).apply(this,arguments)};return xt.set(Et,hn),hn}!function Ft(st){Ue=st(Ue)}(st=>({...st,get:(Et,yn,ln)=>pn(Et,yn)||st.get(Et,yn,ln),has:(Et,yn)=>!!pn(Et,yn)||st.has(Et,yn)}))},153:(_n,nt,z)=>{z.d(nt,{N:()=>D});const D={isTestMode:!1}},8932:(_n,nt,z)=>{z.d(nt,{ZK:()=>ge});var D=z(4650),J=z(153);const de={};const ge=(..._e)=>function Ie(_e,...Ee){(J.N.isTestMode||(0,D.X6Q)()&&function Ae(..._e){const Ee=_e.reduce((Ye,vt)=>Ye+vt.toString(),"");return!de[Ee]&&(de[Ee]=!0,!0)}(...Ee))&&_e(...Ee)}((...Ee)=>console.warn("[NG-ZORRO]:",...Ee),..._e)},3187:(_n,nt,z)=>{z.d(nt,{D8:()=>Nr,DX:()=>Ie,He:()=>Ye,J8:()=>ii,Rn:()=>$t,WX:()=>vt,Zu:()=>Nn,cO:()=>De,hq:()=>Br,kK:()=>ge,yF:()=>Rt});var D=z(1281),J=z(8932);function De(Ke,wt){if(!Ke||!wt||Ke.length!==wt.length)return!1;const Gt=Ke.length;for(let Vt=0;Vt<Gt;Vt++)if(Ke[Vt]!==wt[Vt])return!1;return!0}function Ie(Ke){return typeof Ke<"u"&&null!==Ke}function ge(Ke){return typeof Ke>"u"||null===Ke}function Ee(Ke){return(0,D.Ig)(Ke)}function Ye(Ke,wt=0){return(0,D.t6)(Ke)?Number(Ke):wt}function vt(Ke){return(0,D.HM)(Ke)}function Ft(Ke,wt){return function Gt(Vt,Bn,Rn){const Tt=`$$__zorroPropDecorator__${Bn}`;return Object.prototype.hasOwnProperty.call(Vt,Tt)&&(0,J.ZK)(`The prop "${Tt}" is already exist, it will be overrided by ${Ke} decorator.`),Object.defineProperty(Vt,Tt,{configurable:!0,writable:!0}),{get(){return Rn&&Rn.get?Rn.get.bind(this)():this[Tt]},set(Ne){Rn&&Rn.set&&Rn.set.bind(this)(wt(Ne)),this[Tt]=wt(Ne)}}}}function Rt(){return Ft("InputBoolean",Ee)}function $t(Ke){return Ft("InputNumber",wt=>Ye(wt,Ke))}let Qr,$r;typeof window<"u"&&window;const fn={position:"absolute",top:"-9999px",width:"50px",height:"50px"};function Nr(Ke="vertical",wt="ant"){if(typeof document>"u"||typeof window>"u")return 0;const Gt="vertical"===Ke;if(Gt&&Qr)return Qr;if(!Gt&&$r)return $r;const Vt=document.createElement("div");Object.keys(fn).forEach(Rn=>{Vt.style[Rn]=fn[Rn]}),Vt.className=`${wt}-hide-scrollbar scroll-div-append-to-body`,Gt?Vt.style.overflowY="scroll":Vt.style.overflowX="scroll",document.body.appendChild(Vt);let Bn=0;return Gt?(Bn=Vt.offsetWidth-Vt.clientWidth,Qr=Bn):(Bn=Vt.offsetHeight-Vt.clientHeight,$r=Bn),document.body.removeChild(Vt),Bn}function ii(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}const Ar="rc-util-key";function ar({mark:Ke}={}){return Ke?Ke.startsWith("data-")?Ke:`data-${Ke}`:Ar}function Tn(Ke){return Ke.attachTo?Ke.attachTo:document.querySelector("head")||document.body}function tn(Ke,wt={}){if(!ii())return null;const Gt=document.createElement("style");wt.csp?.nonce&&(Gt.nonce=wt.csp?.nonce),Gt.innerHTML=Ke;const Vt=Tn(wt),{firstChild:Bn}=Vt;return wt.prepend&&Vt.prepend?Vt.prepend(Gt):wt.prepend&&Bn?Vt.insertBefore(Gt,Bn):Vt.appendChild(Gt),Gt}const ei=new Map;function Br(Ke,wt,Gt={}){const Vt=Tn(Gt);if(!ei.has(Vt)){const Tt=tn("",Gt),{parentNode:Ne}=Tt;ei.set(Vt,Ne),Ne.removeChild(Tt)}const Bn=function ti(Ke,wt={}){const Gt=Tn(wt);return Array.from(ei.get(Gt)?.children||[]).find(Vt=>"STYLE"===Vt.tagName&&Vt.getAttribute(ar(wt))===Ke)}(wt,Gt);if(Bn)return Gt.csp?.nonce&&Bn.nonce!==Gt.csp?.nonce&&(Bn.nonce=Gt.csp?.nonce),Bn.innerHTML!==Ke&&(Bn.innerHTML=Ke),Bn;const Rn=tn(Ke,Gt);return Rn?.setAttribute(ar(Gt),wt),Rn}function Nn(Ke,wt,Gt){return{[`${Ke}-status-success`]:"success"===wt,[`${Ke}-status-warning`]:"warning"===wt,[`${Ke}-status-error`]:"error"===wt,[`${Ke}-status-validating`]:"validating"===wt,[`${Ke}-has-feedback`]:Gt}}},4063:(_n,nt,z)=>{z.d(nt,{mx:()=>Is,u7:()=>mr,YI:()=>sa,o9:()=>Ai,wi:()=>hs,iF:()=>Zo});var D=z(4650),J=z(1135),de=z(8932),De=z(6895),Ae=z(953);function Ie(ee){if(null===ee||!0===ee||!1===ee)return NaN;var U=Number(ee);return isNaN(U)?U:U<0?Math.ceil(U):Math.floor(U)}var ge=z(833),se={};function Re(){return se}function Ye(ee){return(0,ge.Z)(1,arguments),function Ee(ee,U){var M,L,A,q,$,Nt,mn,$n;(0,ge.Z)(1,arguments);var Ur=Re(),kr=Ie(null!==(M=null!==(L=null!==(A=null!==(q=U?.weekStartsOn)&&void 0!==q?q:null==U||null===($=U.locale)||void 0===$||null===(Nt=$.options)||void 0===Nt?void 0:Nt.weekStartsOn)&&void 0!==A?A:Ur.weekStartsOn)&&void 0!==L?L:null===(mn=Ur.locale)||void 0===mn||null===($n=mn.options)||void 0===$n?void 0:$n.weekStartsOn)&&void 0!==M?M:0);if(!(kr>=0&&kr<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var ci=(0,Ae.Z)(ee),Kr=ci.getDay(),bi=(Kr<kr?7:0)+Kr-kr;return ci.setDate(ci.getDate()-bi),ci.setHours(0,0,0,0),ci}(ee,{weekStartsOn:1})}var Ft=6048e5,Pt=z(900);function Mt(ee,U){return(0,ge.Z)(2,arguments),function $t(ee,U){(0,ge.Z)(2,arguments);var M=(0,Ae.Z)(ee).getTime(),L=Ie(U);return new Date(M+L)}(ee,-Ie(U))}var un=864e5;function We(ee){(0,ge.Z)(1,arguments);var M=(0,Ae.Z)(ee),L=M.getUTCDay(),A=(L<1?7:0)+L-1;return M.setUTCDate(M.getUTCDate()-A),M.setUTCHours(0,0,0,0),M}function at(ee){(0,ge.Z)(1,arguments);var U=(0,Ae.Z)(ee),M=U.getUTCFullYear(),L=new Date(0);L.setUTCFullYear(M+1,0,4),L.setUTCHours(0,0,0,0);var A=We(L),q=new Date(0);q.setUTCFullYear(M,0,4),q.setUTCHours(0,0,0,0);var $=We(q);return U.getTime()>=A.getTime()?M+1:U.getTime()>=$.getTime()?M:M-1}var pn=6048e5;function st(ee){(0,ge.Z)(1,arguments);var U=(0,Ae.Z)(ee),M=We(U).getTime()-function xt(ee){(0,ge.Z)(1,arguments);var U=at(ee),M=new Date(0);return M.setUTCFullYear(U,0,4),M.setUTCHours(0,0,0,0),We(M)}(U).getTime();return Math.round(M/pn)+1}function Et(ee,U){var M,L,A,q,$,Nt,mn,$n;(0,ge.Z)(1,arguments);var Ur=Re(),kr=Ie(null!==(M=null!==(L=null!==(A=null!==(q=U?.weekStartsOn)&&void 0!==q?q:null==U||null===($=U.locale)||void 0===$||null===(Nt=$.options)||void 0===Nt?void 0:Nt.weekStartsOn)&&void 0!==A?A:Ur.weekStartsOn)&&void 0!==L?L:null===(mn=Ur.locale)||void 0===mn||null===($n=mn.options)||void 0===$n?void 0:$n.weekStartsOn)&&void 0!==M?M:0);if(!(kr>=0&&kr<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var ci=(0,Ae.Z)(ee),Kr=ci.getUTCDay(),bi=(Kr<kr?7:0)+Kr-kr;return ci.setUTCDate(ci.getUTCDate()-bi),ci.setUTCHours(0,0,0,0),ci}function yn(ee,U){var M,L,A,q,$,Nt,mn,$n;(0,ge.Z)(1,arguments);var Ur=(0,Ae.Z)(ee),kr=Ur.getUTCFullYear(),ci=Re(),Kr=Ie(null!==(M=null!==(L=null!==(A=null!==(q=U?.firstWeekContainsDate)&&void 0!==q?q:null==U||null===($=U.locale)||void 0===$||null===(Nt=$.options)||void 0===Nt?void 0:Nt.firstWeekContainsDate)&&void 0!==A?A:ci.firstWeekContainsDate)&&void 0!==L?L:null===(mn=ci.locale)||void 0===mn||null===($n=mn.options)||void 0===$n?void 0:$n.firstWeekContainsDate)&&void 0!==M?M:1);if(!(Kr>=1&&Kr<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var bi=new Date(0);bi.setUTCFullYear(kr+1,0,Kr),bi.setUTCHours(0,0,0,0);var Bo=Et(bi,U),ji=new Date(0);ji.setUTCFullYear(kr,0,Kr),ji.setUTCHours(0,0,0,0);var Mo=Et(ji,U);return Ur.getTime()>=Bo.getTime()?kr+1:Ur.getTime()>=Mo.getTime()?kr:kr-1}var Vn=6048e5;function an(ee,U){(0,ge.Z)(1,arguments);var M=(0,Ae.Z)(ee),L=Et(M,U).getTime()-function ln(ee,U){var M,L,A,q,$,Nt,mn,$n;(0,ge.Z)(1,arguments);var Ur=Re(),kr=Ie(null!==(M=null!==(L=null!==(A=null!==(q=U?.firstWeekContainsDate)&&void 0!==q?q:null==U||null===($=U.locale)||void 0===$||null===(Nt=$.options)||void 0===Nt?void 0:Nt.firstWeekContainsDate)&&void 0!==A?A:Ur.firstWeekContainsDate)&&void 0!==L?L:null===(mn=Ur.locale)||void 0===mn||null===($n=mn.options)||void 0===$n?void 0:$n.firstWeekContainsDate)&&void 0!==M?M:1),ci=yn(ee,U),Kr=new Date(0);return Kr.setUTCFullYear(ci,0,kr),Kr.setUTCHours(0,0,0,0),Et(Kr,U)}(M,U).getTime();return Math.round(L/Vn)+1}function hn(ee,U){for(var M=ee<0?"-":"",L=Math.abs(ee).toString();L.length<U;)L="0"+L;return M+L}const ir_y=function(U,M){var L=U.getUTCFullYear(),A=L>0?L:1-L;return hn("yy"===M?A%100:A,M.length)},ir_M=function(U,M){var L=U.getUTCMonth();return"M"===M?String(L+1):hn(L+1,2)},ir_d=function(U,M){return hn(U.getUTCDate(),M.length)},ir_h=function(U,M){return hn(U.getUTCHours()%12||12,M.length)},ir_H=function(U,M){return hn(U.getUTCHours(),M.length)},ir_m=function(U,M){return hn(U.getUTCMinutes(),M.length)},ir_s=function(U,M){return hn(U.getUTCSeconds(),M.length)},ir_S=function(U,M){var L=M.length,A=U.getUTCMilliseconds();return hn(Math.floor(A*Math.pow(10,L-3)),M.length)};function ut(ee,U){var M=ee>0?"-":"+",L=Math.abs(ee),A=Math.floor(L/60),q=L%60;if(0===q)return M+String(A);var $=U||"";return M+String(A)+$+hn(q,2)}function ht(ee,U){return ee%60==0?(ee>0?"-":"+")+hn(Math.abs(ee)/60,2):Xe(ee,U)}function Xe(ee,U){var M=U||"",L=ee>0?"-":"+",A=Math.abs(ee);return L+hn(Math.floor(A/60),2)+M+hn(A%60,2)}const Ht={G:function(U,M,L){var A=U.getUTCFullYear()>0?1:0;switch(M){case"G":case"GG":case"GGG":return L.era(A,{width:"abbreviated"});case"GGGGG":return L.era(A,{width:"narrow"});default:return L.era(A,{width:"wide"})}},y:function(U,M,L){if("yo"===M){var A=U.getUTCFullYear();return L.ordinalNumber(A>0?A:1-A,{unit:"year"})}return ir_y(U,M)},Y:function(U,M,L,A){var q=yn(U,A),$=q>0?q:1-q;return"YY"===M?hn($%100,2):"Yo"===M?L.ordinalNumber($,{unit:"year"}):hn($,M.length)},R:function(U,M){return hn(at(U),M.length)},u:function(U,M){return hn(U.getUTCFullYear(),M.length)},Q:function(U,M,L){var A=Math.ceil((U.getUTCMonth()+1)/3);switch(M){case"Q":return String(A);case"QQ":return hn(A,2);case"Qo":return L.ordinalNumber(A,{unit:"quarter"});case"QQQ":return L.quarter(A,{width:"abbreviated",context:"formatting"});case"QQQQQ":return L.quarter(A,{width:"narrow",context:"formatting"});default:return L.quarter(A,{width:"wide",context:"formatting"})}},q:function(U,M,L){var A=Math.ceil((U.getUTCMonth()+1)/3);switch(M){case"q":return String(A);case"qq":return hn(A,2);case"qo":return L.ordinalNumber(A,{unit:"quarter"});case"qqq":return L.quarter(A,{width:"abbreviated",context:"standalone"});case"qqqqq":return L.quarter(A,{width:"narrow",context:"standalone"});default:return L.quarter(A,{width:"wide",context:"standalone"})}},M:function(U,M,L){var A=U.getUTCMonth();switch(M){case"M":case"MM":return ir_M(U,M);case"Mo":return L.ordinalNumber(A+1,{unit:"month"});case"MMM":return L.month(A,{width:"abbreviated",context:"formatting"});case"MMMMM":return L.month(A,{width:"narrow",context:"formatting"});default:return L.month(A,{width:"wide",context:"formatting"})}},L:function(U,M,L){var A=U.getUTCMonth();switch(M){case"L":return String(A+1);case"LL":return hn(A+1,2);case"Lo":return L.ordinalNumber(A+1,{unit:"month"});case"LLL":return L.month(A,{width:"abbreviated",context:"standalone"});case"LLLLL":return L.month(A,{width:"narrow",context:"standalone"});default:return L.month(A,{width:"wide",context:"standalone"})}},w:function(U,M,L,A){var q=an(U,A);return"wo"===M?L.ordinalNumber(q,{unit:"week"}):hn(q,M.length)},I:function(U,M,L){var A=st(U);return"Io"===M?L.ordinalNumber(A,{unit:"week"}):hn(A,M.length)},d:function(U,M,L){return"do"===M?L.ordinalNumber(U.getUTCDate(),{unit:"date"}):ir_d(U,M)},D:function(U,M,L){var A=function _t(ee){(0,ge.Z)(1,arguments);var U=(0,Ae.Z)(ee),M=U.getTime();U.setUTCMonth(0,1),U.setUTCHours(0,0,0,0);var L=U.getTime();return Math.floor((M-L)/un)+1}(U);return"Do"===M?L.ordinalNumber(A,{unit:"dayOfYear"}):hn(A,M.length)},E:function(U,M,L){var A=U.getUTCDay();switch(M){case"E":case"EE":case"EEE":return L.day(A,{width:"abbreviated",context:"formatting"});case"EEEEE":return L.day(A,{width:"narrow",context:"formatting"});case"EEEEEE":return L.day(A,{width:"short",context:"formatting"});default:return L.day(A,{width:"wide",context:"formatting"})}},e:function(U,M,L,A){var q=U.getUTCDay(),$=(q-A.weekStartsOn+8)%7||7;switch(M){case"e":return String($);case"ee":return hn($,2);case"eo":return L.ordinalNumber($,{unit:"day"});case"eee":return L.day(q,{width:"abbreviated",context:"formatting"});case"eeeee":return L.day(q,{width:"narrow",context:"formatting"});case"eeeeee":return L.day(q,{width:"short",context:"formatting"});default:return L.day(q,{width:"wide",context:"formatting"})}},c:function(U,M,L,A){var q=U.getUTCDay(),$=(q-A.weekStartsOn+8)%7||7;switch(M){case"c":return String($);case"cc":return hn($,M.length);case"co":return L.ordinalNumber($,{unit:"day"});case"ccc":return L.day(q,{width:"abbreviated",context:"standalone"});case"ccccc":return L.day(q,{width:"narrow",context:"standalone"});case"cccccc":return L.day(q,{width:"short",context:"standalone"});default:return L.day(q,{width:"wide",context:"standalone"})}},i:function(U,M,L){var A=U.getUTCDay(),q=0===A?7:A;switch(M){case"i":return String(q);case"ii":return hn(q,M.length);case"io":return L.ordinalNumber(q,{unit:"day"});case"iii":return L.day(A,{width:"abbreviated",context:"formatting"});case"iiiii":return L.day(A,{width:"narrow",context:"formatting"});case"iiiiii":return L.day(A,{width:"short",context:"formatting"});default:return L.day(A,{width:"wide",context:"formatting"})}},a:function(U,M,L){var q=U.getUTCHours()/12>=1?"pm":"am";switch(M){case"a":case"aa":return L.dayPeriod(q,{width:"abbreviated",context:"formatting"});case"aaa":return L.dayPeriod(q,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return L.dayPeriod(q,{width:"narrow",context:"formatting"});default:return L.dayPeriod(q,{width:"wide",context:"formatting"})}},b:function(U,M,L){var q,A=U.getUTCHours();switch(q=12===A?"noon":0===A?"midnight":A/12>=1?"pm":"am",M){case"b":case"bb":return L.dayPeriod(q,{width:"abbreviated",context:"formatting"});case"bbb":return L.dayPeriod(q,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return L.dayPeriod(q,{width:"narrow",context:"formatting"});default:return L.dayPeriod(q,{width:"wide",context:"formatting"})}},B:function(U,M,L){var q,A=U.getUTCHours();switch(q=A>=17?"evening":A>=12?"afternoon":A>=4?"morning":"night",M){case"B":case"BB":case"BBB":return L.dayPeriod(q,{width:"abbreviated",context:"formatting"});case"BBBBB":return L.dayPeriod(q,{width:"narrow",context:"formatting"});default:return L.dayPeriod(q,{width:"wide",context:"formatting"})}},h:function(U,M,L){if("ho"===M){var A=U.getUTCHours()%12;return 0===A&&(A=12),L.ordinalNumber(A,{unit:"hour"})}return ir_h(U,M)},H:function(U,M,L){return"Ho"===M?L.ordinalNumber(U.getUTCHours(),{unit:"hour"}):ir_H(U,M)},K:function(U,M,L){var A=U.getUTCHours()%12;return"Ko"===M?L.ordinalNumber(A,{unit:"hour"}):hn(A,M.length)},k:function(U,M,L){var A=U.getUTCHours();return 0===A&&(A=24),"ko"===M?L.ordinalNumber(A,{unit:"hour"}):hn(A,M.length)},m:function(U,M,L){return"mo"===M?L.ordinalNumber(U.getUTCMinutes(),{unit:"minute"}):ir_m(U,M)},s:function(U,M,L){return"so"===M?L.ordinalNumber(U.getUTCSeconds(),{unit:"second"}):ir_s(U,M)},S:function(U,M){return ir_S(U,M)},X:function(U,M,L,A){var $=(A._originalDate||U).getTimezoneOffset();if(0===$)return"Z";switch(M){case"X":return ht($);case"XXXX":case"XX":return Xe($);default:return Xe($,":")}},x:function(U,M,L,A){var $=(A._originalDate||U).getTimezoneOffset();switch(M){case"x":return ht($);case"xxxx":case"xx":return Xe($);default:return Xe($,":")}},O:function(U,M,L,A){var $=(A._originalDate||U).getTimezoneOffset();switch(M){case"O":case"OO":case"OOO":return"GMT"+ut($,":");default:return"GMT"+Xe($,":")}},z:function(U,M,L,A){var $=(A._originalDate||U).getTimezoneOffset();switch(M){case"z":case"zz":case"zzz":return"GMT"+ut($,":");default:return"GMT"+Xe($,":")}},t:function(U,M,L,A){return hn(Math.floor((A._originalDate||U).getTime()/1e3),M.length)},T:function(U,M,L,A){return hn((A._originalDate||U).getTime(),M.length)}};var Ot=function(U,M){switch(U){case"P":return M.date({width:"short"});case"PP":return M.date({width:"medium"});case"PPP":return M.date({width:"long"});default:return M.date({width:"full"})}},Cn=function(U,M){switch(U){case"p":return M.time({width:"short"});case"pp":return M.time({width:"medium"});case"ppp":return M.time({width:"long"});default:return M.time({width:"full"})}};const jt={p:Cn,P:function(U,M){var $,L=U.match(/(P+)(p+)?/)||[],A=L[1],q=L[2];if(!q)return Ot(U,M);switch(A){case"P":$=M.dateTime({width:"short"});break;case"PP":$=M.dateTime({width:"medium"});break;case"PPP":$=M.dateTime({width:"long"});break;default:$=M.dateTime({width:"full"})}return $.replace("{{date}}",Ot(A,M)).replace("{{time}}",Cn(q,M))}};function Kn(ee){var U=new Date(Date.UTC(ee.getFullYear(),ee.getMonth(),ee.getDate(),ee.getHours(),ee.getMinutes(),ee.getSeconds(),ee.getMilliseconds()));return U.setUTCFullYear(ee.getFullYear()),ee.getTime()-U.getTime()}var Un=["D","DD"],fr=["YY","YYYY"];function Or(ee){return-1!==Un.indexOf(ee)}function Jn(ee){return-1!==fr.indexOf(ee)}function Tr(ee,U,M){if("YYYY"===ee)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(U,"`) for formatting years to the input `").concat(M,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===ee)throw new RangeError("Use `yy` instead of `YY` (in `".concat(U,"`) for formatting years to the input `").concat(M,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===ee)throw new RangeError("Use `d` instead of `D` (in `".concat(U,"`) for formatting days of the month to the input `").concat(M,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===ee)throw new RangeError("Use `dd` instead of `DD` (in `".concat(U,"`) for formatting days of the month to the input `").concat(M,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var li={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function fn(ee){return function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},M=U.width?String(U.width):ee.defaultWidth;return ee.formats[M]||ee.formats[ee.defaultWidth]}}var $i={date:fn({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:fn({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:fn({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ar={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function tn(ee){return function(U,M){var A;if("formatting"===(null!=M&&M.context?String(M.context):"standalone")&&ee.formattingValues){var q=ee.defaultFormattingWidth||ee.defaultWidth,$=null!=M&&M.width?String(M.width):q;A=ee.formattingValues[$]||ee.formattingValues[q]}else{var Nt=ee.defaultWidth,mn=null!=M&&M.width?String(M.width):ee.defaultWidth;A=ee.values[mn]||ee.values[Nt]}return A[ee.argumentCallback?ee.argumentCallback(U):U]}}function Bn(ee){return function(U){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},L=M.width,q=U.match(L&&ee.matchPatterns[L]||ee.matchPatterns[ee.defaultMatchWidth]);if(!q)return null;var $n,$=q[0],Nt=L&&ee.parsePatterns[L]||ee.parsePatterns[ee.defaultParseWidth],mn=Array.isArray(Nt)?function Tt(ee,U){for(var M=0;M<ee.length;M++)if(U(ee[M]))return M}(Nt,function(kr){return kr.test($)}):function Rn(ee,U){for(var M in ee)if(ee.hasOwnProperty(M)&&U(ee[M]))return M}(Nt,function(kr){return kr.test($)});return $n=ee.valueCallback?ee.valueCallback(mn):mn,{value:$n=M.valueCallback?M.valueCallback($n):$n,rest:U.slice($.length)}}}const Lt={code:"en-US",formatDistance:function(U,M,L){var A,q=li[U];return A="string"==typeof q?q:1===M?q.one:q.other.replace("{{count}}",M.toString()),null!=L&&L.addSuffix?L.comparison&&L.comparison>0?"in "+A:A+" ago":A},formatLong:$i,formatRelative:function(U,M,L,A){return Ar[U]},localize:{ordinalNumber:function(U,M){var L=Number(U),A=L%100;if(A>20||A<10)switch(A%10){case 1:return L+"st";case 2:return L+"nd";case 3:return L+"rd"}return L+"th"},era:tn({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:tn({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(U){return U-1}}),month:tn({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:tn({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:tn({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function Ne(ee){return function(U){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},L=U.match(ee.matchPattern);if(!L)return null;var A=L[0],q=U.match(ee.parsePattern);if(!q)return null;var $=ee.valueCallback?ee.valueCallback(q[0]):q[0];return{value:$=M.valueCallback?M.valueCallback($):$,rest:U.slice(A.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(U){return parseInt(U,10)}}),era:Bn({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Bn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(U){return U+1}}),month:Bn({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Bn({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Bn({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var en=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xr=/^'([^]*?)'?$/,yi=/''/g,so=/[a-zA-Z]/;var Zi=z(86);function Vi(ee,U){(null==U||U>ee.length)&&(U=ee.length);for(var M=0,L=new Array(U);M<U;M++)L[M]=ee[M];return L}function pr(ee,U){var M=typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(!M){if(Array.isArray(ee)||(M=function Ni(ee,U){if(ee){if("string"==typeof ee)return Vi(ee,U);var M=Object.prototype.toString.call(ee).slice(8,-1);if("Object"===M&&ee.constructor&&(M=ee.constructor.name),"Map"===M||"Set"===M)return Array.from(ee);if("Arguments"===M||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return Vi(ee,U)}}(ee))||U&&ee&&"number"==typeof ee.length){M&&(ee=M);var L=0,A=function(){};return{s:A,n:function(){return L>=ee.length?{done:!0}:{done:!1,value:ee[L++]}},e:function($n){throw $n},f:A}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Nt,q=!0,$=!1;return{s:function(){M=M.call(ee)},n:function(){var $n=M.next();return q=$n.done,$n},e:function($n){$=!0,Nt=$n},f:function(){try{!q&&null!=M.return&&M.return()}finally{if($)throw Nt}}}}function Dr(ee,U){if(null==ee)throw new TypeError("assign requires that input parameter not be null or undefined");for(var M in U)Object.prototype.hasOwnProperty.call(U,M)&&(ee[M]=U[M]);return ee}function cn(ee){if(void 0===ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function Qt(ee,U){return(Qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,A){return L.__proto__=A,L})(ee,U)}function Hn(ee,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(U&&U.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),U&&Qt(ee,U)}function Gi(ee){return(Gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)})(ee)}function lr(ee){var U=function Go(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,L=Gi(ee);if(U){var q=Gi(this).constructor;A=Reflect.construct(L,arguments,q)}else A=L.apply(this,arguments);return function Wo(ee,U){if(U&&("object"===(0,Zi.Z)(U)||"function"==typeof U))return U;if(void 0!==U)throw new TypeError("Derived constructors may only return object or undefined");return cn(ee)}(this,A)}}function Wt(ee,U){if(!(ee instanceof U))throw new TypeError("Cannot call a class as a function")}function _r(ee){var U=function Ln(ee,U){if("object"!==(0,Zi.Z)(ee)||null===ee)return ee;var M=ee[Symbol.toPrimitive];if(void 0!==M){var L=M.call(ee,U||"default");if("object"!==(0,Zi.Z)(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(ee)}(ee,"string");return"symbol"===(0,Zi.Z)(U)?U:String(U)}function si(ee,U){for(var M=0;M<U.length;M++){var L=U[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(ee,_r(L.key),L)}}function nr(ee,U,M){return U&&si(ee.prototype,U),M&&si(ee,M),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function nn(ee,U,M){return(U=_r(U))in ee?Object.defineProperty(ee,U,{value:M,enumerable:!0,configurable:!0,writable:!0}):ee[U]=M,ee}var on=10,Wn=function(){function ee(){Wt(this,ee),nn(this,"priority",void 0),nn(this,"subPriority",0)}return nr(ee,[{key:"validate",value:function(M,L){return!0}}]),ee}(),Ge=function(ee){Hn(M,ee);var U=lr(M);function M(L,A,q,$,Nt){var mn;return Wt(this,M),(mn=U.call(this)).value=L,mn.validateValue=A,mn.setValue=q,mn.priority=$,Nt&&(mn.subPriority=Nt),mn}return nr(M,[{key:"validate",value:function(A,q){return this.validateValue(A,this.value,q)}},{key:"set",value:function(A,q,$){return this.setValue(A,q,this.value,$)}}]),M}(Wn),Be=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",on),nn(cn(L),"subPriority",-1),L}return nr(M,[{key:"set",value:function(A,q){if(q.timestampIsSet)return A;var $=new Date(0);return $.setFullYear(A.getUTCFullYear(),A.getUTCMonth(),A.getUTCDate()),$.setHours(A.getUTCHours(),A.getUTCMinutes(),A.getUTCSeconds(),A.getUTCMilliseconds()),$}}]),M}(Wn),Oe=function(){function ee(){Wt(this,ee),nn(this,"incompatibleTokens",void 0),nn(this,"priority",void 0),nn(this,"subPriority",void 0)}return nr(ee,[{key:"run",value:function(M,L,A,q){var $=this.parse(M,L,A,q);return $?{setter:new Ge($.value,this.validate,this.set,this.priority,this.subPriority),rest:$.rest}:null}},{key:"validate",value:function(M,L,A){return!0}}]),ee}(),At=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",140),nn(cn(L),"incompatibleTokens",["R","u","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"G":case"GG":case"GGG":return $.era(A,{width:"abbreviated"})||$.era(A,{width:"narrow"});case"GGGGG":return $.era(A,{width:"narrow"});default:return $.era(A,{width:"wide"})||$.era(A,{width:"abbreviated"})||$.era(A,{width:"narrow"})}}},{key:"set",value:function(A,q,$){return q.era=$,A.setUTCFullYear($,0,1),A.setUTCHours(0,0,0,0),A}}]),M}(Oe),yr=(Math.pow(10,8),6e4),fi=36e5,Sr=1e3,Er={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},pi_basicOptionalMinutes=/^([+-])(\d{2})(\d{2})?|Z/,pi_basic=/^([+-])(\d{2})(\d{2})|Z/,pi_basicOptionalSeconds=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,pi_extended=/^([+-])(\d{2}):(\d{2})|Z/,pi_extendedOptionalSeconds=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function vi(ee,U){return ee&&{value:U(ee.value),rest:ee.rest}}function Lr(ee,U){var M=U.match(ee);return M?{value:parseInt(M[0],10),rest:U.slice(M[0].length)}:null}function Mi(ee,U){var M=U.match(ee);if(!M)return null;if("Z"===M[0])return{value:0,rest:U.slice(1)};var L="+"===M[1]?1:-1,A=M[2]?parseInt(M[2],10):0,q=M[3]?parseInt(M[3],10):0,$=M[5]?parseInt(M[5],10):0;return{value:L*(A*fi+q*yr+$*Sr),rest:U.slice(M[0].length)}}function Li(ee){return Lr(Er.anyDigitsSigned,ee)}function Hr(ee,U){switch(ee){case 1:return Lr(Er.singleDigit,U);case 2:return Lr(Er.twoDigits,U);case 3:return Lr(Er.threeDigits,U);case 4:return Lr(Er.fourDigits,U);default:return Lr(new RegExp("^\\d{1,"+ee+"}"),U)}}function wo(ee,U){switch(ee){case 1:return Lr(Er.singleDigitSigned,U);case 2:return Lr(Er.twoDigitsSigned,U);case 3:return Lr(Er.threeDigitsSigned,U);case 4:return Lr(Er.fourDigitsSigned,U);default:return Lr(new RegExp("^-?\\d{1,"+ee+"}"),U)}}function Ko(ee){switch(ee){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function rs(ee,U){var A,M=U>0,L=M?U:1-U;if(L<=50)A=ee||100;else{var q=L+50;A=ee+100*Math.floor(q/100)-(ee>=q%100?100:0)}return M?A:1-A}function Eo(ee){return ee%400==0||ee%4==0&&ee%100!=0}var _s=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",130),nn(cn(L),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){var Nt=function($n){return{year:$n,isTwoDigitYear:"yy"===q}};switch(q){case"y":return vi(Hr(4,A),Nt);case"yo":return vi($.ordinalNumber(A,{unit:"year"}),Nt);default:return vi(Hr(q.length,A),Nt)}}},{key:"validate",value:function(A,q){return q.isTwoDigitYear||q.year>0}},{key:"set",value:function(A,q,$){var Nt=A.getUTCFullYear();if($.isTwoDigitYear){var mn=rs($.year,Nt);return A.setUTCFullYear(mn,0,1),A.setUTCHours(0,0,0,0),A}return A.setUTCFullYear("era"in q&&1!==q.era?1-$.year:$.year,0,1),A.setUTCHours(0,0,0,0),A}}]),M}(Oe),_i=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",130),nn(cn(L),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){var Nt=function($n){return{year:$n,isTwoDigitYear:"YY"===q}};switch(q){case"Y":return vi(Hr(4,A),Nt);case"Yo":return vi($.ordinalNumber(A,{unit:"year"}),Nt);default:return vi(Hr(q.length,A),Nt)}}},{key:"validate",value:function(A,q){return q.isTwoDigitYear||q.year>0}},{key:"set",value:function(A,q,$,Nt){var mn=yn(A,Nt);if($.isTwoDigitYear){var $n=rs($.year,mn);return A.setUTCFullYear($n,0,Nt.firstWeekContainsDate),A.setUTCHours(0,0,0,0),Et(A,Nt)}return A.setUTCFullYear("era"in q&&1!==q.era?1-$.year:$.year,0,Nt.firstWeekContainsDate),A.setUTCHours(0,0,0,0),Et(A,Nt)}}]),M}(Oe),Ps=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",130),nn(cn(L),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q){return wo("R"===q?4:q.length,A)}},{key:"set",value:function(A,q,$){var Nt=new Date(0);return Nt.setUTCFullYear($,0,4),Nt.setUTCHours(0,0,0,0),We(Nt)}}]),M}(Oe),ea=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",130),nn(cn(L),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q){return wo("u"===q?4:q.length,A)}},{key:"set",value:function(A,q,$){return A.setUTCFullYear($,0,1),A.setUTCHours(0,0,0,0),A}}]),M}(Oe),Vs=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",120),nn(cn(L),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"Q":case"QQ":return Hr(q.length,A);case"Qo":return $.ordinalNumber(A,{unit:"quarter"});case"QQQ":return $.quarter(A,{width:"abbreviated",context:"formatting"})||$.quarter(A,{width:"narrow",context:"formatting"});case"QQQQQ":return $.quarter(A,{width:"narrow",context:"formatting"});default:return $.quarter(A,{width:"wide",context:"formatting"})||$.quarter(A,{width:"abbreviated",context:"formatting"})||$.quarter(A,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(A,q){return q>=1&&q<=4}},{key:"set",value:function(A,q,$){return A.setUTCMonth(3*($-1),1),A.setUTCHours(0,0,0,0),A}}]),M}(Oe),ks=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",120),nn(cn(L),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"q":case"qq":return Hr(q.length,A);case"qo":return $.ordinalNumber(A,{unit:"quarter"});case"qqq":return $.quarter(A,{width:"abbreviated",context:"standalone"})||$.quarter(A,{width:"narrow",context:"standalone"});case"qqqqq":return $.quarter(A,{width:"narrow",context:"standalone"});default:return $.quarter(A,{width:"wide",context:"standalone"})||$.quarter(A,{width:"abbreviated",context:"standalone"})||$.quarter(A,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(A,q){return q>=1&&q<=4}},{key:"set",value:function(A,q,$){return A.setUTCMonth(3*($-1),1),A.setUTCHours(0,0,0,0),A}}]),M}(Oe),Fo=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),nn(cn(L),"priority",110),L}return nr(M,[{key:"parse",value:function(A,q,$){var Nt=function($n){return $n-1};switch(q){case"M":return vi(Lr(Er.month,A),Nt);case"MM":return vi(Hr(2,A),Nt);case"Mo":return vi($.ordinalNumber(A,{unit:"month"}),Nt);case"MMM":return $.month(A,{width:"abbreviated",context:"formatting"})||$.month(A,{width:"narrow",context:"formatting"});case"MMMMM":return $.month(A,{width:"narrow",context:"formatting"});default:return $.month(A,{width:"wide",context:"formatting"})||$.month(A,{width:"abbreviated",context:"formatting"})||$.month(A,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(A,q){return q>=0&&q<=11}},{key:"set",value:function(A,q,$){return A.setUTCMonth($,1),A.setUTCHours(0,0,0,0),A}}]),M}(Oe),As=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",110),nn(cn(L),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){var Nt=function($n){return $n-1};switch(q){case"L":return vi(Lr(Er.month,A),Nt);case"LL":return vi(Hr(2,A),Nt);case"Lo":return vi($.ordinalNumber(A,{unit:"month"}),Nt);case"LLL":return $.month(A,{width:"abbreviated",context:"standalone"})||$.month(A,{width:"narrow",context:"standalone"});case"LLLLL":return $.month(A,{width:"narrow",context:"standalone"});default:return $.month(A,{width:"wide",context:"standalone"})||$.month(A,{width:"abbreviated",context:"standalone"})||$.month(A,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(A,q){return q>=0&&q<=11}},{key:"set",value:function(A,q,$){return A.setUTCMonth($,1),A.setUTCHours(0,0,0,0),A}}]),M}(Oe),qo=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",100),nn(cn(L),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"w":return Lr(Er.week,A);case"wo":return $.ordinalNumber(A,{unit:"week"});default:return Hr(q.length,A)}}},{key:"validate",value:function(A,q){return q>=1&&q<=53}},{key:"set",value:function(A,q,$,Nt){return Et(function La(ee,U,M){(0,ge.Z)(2,arguments);var L=(0,Ae.Z)(ee),A=Ie(U),q=an(L,M)-A;return L.setUTCDate(L.getUTCDate()-7*q),L}(A,$,Nt),Nt)}}]),M}(Oe),Lo=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",100),nn(cn(L),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"I":return Lr(Er.week,A);case"Io":return $.ordinalNumber(A,{unit:"week"});default:return Hr(q.length,A)}}},{key:"validate",value:function(A,q){return q>=1&&q<=53}},{key:"set",value:function(A,q,$){return We(function Ya(ee,U){(0,ge.Z)(2,arguments);var M=(0,Ae.Z)(ee),L=Ie(U),A=st(M)-L;return M.setUTCDate(M.getUTCDate()-7*A),M}(A,$))}}]),M}(Oe),uo=[31,28,31,30,31,30,31,31,30,31,30,31],Bs=[31,29,31,30,31,30,31,31,30,31,30,31],ta=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",90),nn(cn(L),"subPriority",1),nn(cn(L),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"d":return Lr(Er.date,A);case"do":return $.ordinalNumber(A,{unit:"date"});default:return Hr(q.length,A)}}},{key:"validate",value:function(A,q){var Nt=Eo(A.getUTCFullYear()),mn=A.getUTCMonth();return Nt?q>=1&&q<=Bs[mn]:q>=1&&q<=uo[mn]}},{key:"set",value:function(A,q,$){return A.setUTCDate($),A.setUTCHours(0,0,0,0),A}}]),M}(Oe),Ga=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",90),nn(cn(L),"subpriority",1),nn(cn(L),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"D":case"DD":return Lr(Er.dayOfYear,A);case"Do":return $.ordinalNumber(A,{unit:"date"});default:return Hr(q.length,A)}}},{key:"validate",value:function(A,q){return Eo(A.getUTCFullYear())?q>=1&&q<=366:q>=1&&q<=365}},{key:"set",value:function(A,q,$){return A.setUTCMonth(0,$),A.setUTCHours(0,0,0,0),A}}]),M}(Oe);function ao(ee,U,M){var L,A,q,$,Nt,mn,$n,Ur;(0,ge.Z)(2,arguments);var kr=Re(),ci=Ie(null!==(L=null!==(A=null!==(q=null!==($=M?.weekStartsOn)&&void 0!==$?$:null==M||null===(Nt=M.locale)||void 0===Nt||null===(mn=Nt.options)||void 0===mn?void 0:mn.weekStartsOn)&&void 0!==q?q:kr.weekStartsOn)&&void 0!==A?A:null===($n=kr.locale)||void 0===$n||null===(Ur=$n.options)||void 0===Ur?void 0:Ur.weekStartsOn)&&void 0!==L?L:0);if(!(ci>=0&&ci<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Kr=(0,Ae.Z)(ee),bi=Ie(U),Ro=((bi%7+7)%7<ci?7:0)+bi-Kr.getUTCDay();return Kr.setUTCDate(Kr.getUTCDate()+Ro),Kr}var Wa=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",90),nn(cn(L),"incompatibleTokens",["D","i","e","c","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"E":case"EE":case"EEE":return $.day(A,{width:"abbreviated",context:"formatting"})||$.day(A,{width:"short",context:"formatting"})||$.day(A,{width:"narrow",context:"formatting"});case"EEEEE":return $.day(A,{width:"narrow",context:"formatting"});case"EEEEEE":return $.day(A,{width:"short",context:"formatting"})||$.day(A,{width:"narrow",context:"formatting"});default:return $.day(A,{width:"wide",context:"formatting"})||$.day(A,{width:"abbreviated",context:"formatting"})||$.day(A,{width:"short",context:"formatting"})||$.day(A,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(A,q){return q>=0&&q<=6}},{key:"set",value:function(A,q,$,Nt){return(A=ao(A,$,Nt)).setUTCHours(0,0,0,0),A}}]),M}(Oe),Hs=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",90),nn(cn(L),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$,Nt){var mn=function(Ur){var kr=7*Math.floor((Ur-1)/7);return(Ur+Nt.weekStartsOn+6)%7+kr};switch(q){case"e":case"ee":return vi(Hr(q.length,A),mn);case"eo":return vi($.ordinalNumber(A,{unit:"day"}),mn);case"eee":return $.day(A,{width:"abbreviated",context:"formatting"})||$.day(A,{width:"short",context:"formatting"})||$.day(A,{width:"narrow",context:"formatting"});case"eeeee":return $.day(A,{width:"narrow",context:"formatting"});case"eeeeee":return $.day(A,{width:"short",context:"formatting"})||$.day(A,{width:"narrow",context:"formatting"});default:return $.day(A,{width:"wide",context:"formatting"})||$.day(A,{width:"abbreviated",context:"formatting"})||$.day(A,{width:"short",context:"formatting"})||$.day(A,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(A,q){return q>=0&&q<=6}},{key:"set",value:function(A,q,$,Nt){return(A=ao(A,$,Nt)).setUTCHours(0,0,0,0),A}}]),M}(Oe),Ts=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",90),nn(cn(L),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$,Nt){var mn=function(Ur){var kr=7*Math.floor((Ur-1)/7);return(Ur+Nt.weekStartsOn+6)%7+kr};switch(q){case"c":case"cc":return vi(Hr(q.length,A),mn);case"co":return vi($.ordinalNumber(A,{unit:"day"}),mn);case"ccc":return $.day(A,{width:"abbreviated",context:"standalone"})||$.day(A,{width:"short",context:"standalone"})||$.day(A,{width:"narrow",context:"standalone"});case"ccccc":return $.day(A,{width:"narrow",context:"standalone"});case"cccccc":return $.day(A,{width:"short",context:"standalone"})||$.day(A,{width:"narrow",context:"standalone"});default:return $.day(A,{width:"wide",context:"standalone"})||$.day(A,{width:"abbreviated",context:"standalone"})||$.day(A,{width:"short",context:"standalone"})||$.day(A,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(A,q){return q>=0&&q<=6}},{key:"set",value:function(A,q,$,Nt){return(A=ao(A,$,Nt)).setUTCHours(0,0,0,0),A}}]),M}(Oe),to=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",90),nn(cn(L),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){var Nt=function($n){return 0===$n?7:$n};switch(q){case"i":case"ii":return Hr(q.length,A);case"io":return $.ordinalNumber(A,{unit:"day"});case"iii":return vi($.day(A,{width:"abbreviated",context:"formatting"})||$.day(A,{width:"short",context:"formatting"})||$.day(A,{width:"narrow",context:"formatting"}),Nt);case"iiiii":return vi($.day(A,{width:"narrow",context:"formatting"}),Nt);case"iiiiii":return vi($.day(A,{width:"short",context:"formatting"})||$.day(A,{width:"narrow",context:"formatting"}),Nt);default:return vi($.day(A,{width:"wide",context:"formatting"})||$.day(A,{width:"abbreviated",context:"formatting"})||$.day(A,{width:"short",context:"formatting"})||$.day(A,{width:"narrow",context:"formatting"}),Nt)}}},{key:"validate",value:function(A,q){return q>=1&&q<=7}},{key:"set",value:function(A,q,$){return A=function Da(ee,U){(0,ge.Z)(2,arguments);var M=Ie(U);M%7==0&&(M-=7);var A=(0,Ae.Z)(ee),mn=((M%7+7)%7<1?7:0)+M-A.getUTCDay();return A.setUTCDate(A.getUTCDate()+mn),A}(A,$),A.setUTCHours(0,0,0,0),A}}]),M}(Oe),ws=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",80),nn(cn(L),"incompatibleTokens",["b","B","H","k","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"a":case"aa":case"aaa":return $.dayPeriod(A,{width:"abbreviated",context:"formatting"})||$.dayPeriod(A,{width:"narrow",context:"formatting"});case"aaaaa":return $.dayPeriod(A,{width:"narrow",context:"formatting"});default:return $.dayPeriod(A,{width:"wide",context:"formatting"})||$.dayPeriod(A,{width:"abbreviated",context:"formatting"})||$.dayPeriod(A,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(A,q,$){return A.setUTCHours(Ko($),0,0,0),A}}]),M}(Oe),xs=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",80),nn(cn(L),"incompatibleTokens",["a","B","H","k","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"b":case"bb":case"bbb":return $.dayPeriod(A,{width:"abbreviated",context:"formatting"})||$.dayPeriod(A,{width:"narrow",context:"formatting"});case"bbbbb":return $.dayPeriod(A,{width:"narrow",context:"formatting"});default:return $.dayPeriod(A,{width:"wide",context:"formatting"})||$.dayPeriod(A,{width:"abbreviated",context:"formatting"})||$.dayPeriod(A,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(A,q,$){return A.setUTCHours(Ko($),0,0,0),A}}]),M}(Oe),na=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",80),nn(cn(L),"incompatibleTokens",["a","b","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"B":case"BB":case"BBB":return $.dayPeriod(A,{width:"abbreviated",context:"formatting"})||$.dayPeriod(A,{width:"narrow",context:"formatting"});case"BBBBB":return $.dayPeriod(A,{width:"narrow",context:"formatting"});default:return $.dayPeriod(A,{width:"wide",context:"formatting"})||$.dayPeriod(A,{width:"abbreviated",context:"formatting"})||$.dayPeriod(A,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(A,q,$){return A.setUTCHours(Ko($),0,0,0),A}}]),M}(Oe),Ka=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",70),nn(cn(L),"incompatibleTokens",["H","K","k","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"h":return Lr(Er.hour12h,A);case"ho":return $.ordinalNumber(A,{unit:"hour"});default:return Hr(q.length,A)}}},{key:"validate",value:function(A,q){return q>=1&&q<=12}},{key:"set",value:function(A,q,$){var Nt=A.getUTCHours()>=12;return A.setUTCHours(Nt&&$<12?$+12:Nt||12!==$?$:0,0,0,0),A}}]),M}(Oe),ra=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",70),nn(cn(L),"incompatibleTokens",["a","b","h","K","k","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"H":return Lr(Er.hour23h,A);case"Ho":return $.ordinalNumber(A,{unit:"hour"});default:return Hr(q.length,A)}}},{key:"validate",value:function(A,q){return q>=0&&q<=23}},{key:"set",value:function(A,q,$){return A.setUTCHours($,0,0,0),A}}]),M}(Oe),Xi=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",70),nn(cn(L),"incompatibleTokens",["h","H","k","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"K":return Lr(Er.hour11h,A);case"Ko":return $.ordinalNumber(A,{unit:"hour"});default:return Hr(q.length,A)}}},{key:"validate",value:function(A,q){return q>=0&&q<=11}},{key:"set",value:function(A,q,$){var Nt=A.getUTCHours()>=12;return A.setUTCHours(Nt&&$<12?$+12:$,0,0,0),A}}]),M}(Oe),Sa=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",70),nn(cn(L),"incompatibleTokens",["a","b","h","H","K","t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"k":return Lr(Er.hour24h,A);case"ko":return $.ordinalNumber(A,{unit:"hour"});default:return Hr(q.length,A)}}},{key:"validate",value:function(A,q){return q>=1&&q<=24}},{key:"set",value:function(A,q,$){return A.setUTCHours($<=24?$%24:$,0,0,0),A}}]),M}(Oe),ia=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",60),nn(cn(L),"incompatibleTokens",["t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"m":return Lr(Er.minute,A);case"mo":return $.ordinalNumber(A,{unit:"minute"});default:return Hr(q.length,A)}}},{key:"validate",value:function(A,q){return q>=0&&q<=59}},{key:"set",value:function(A,q,$){return A.setUTCMinutes($,0,0),A}}]),M}(Oe),Yr=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",50),nn(cn(L),"incompatibleTokens",["t","T"]),L}return nr(M,[{key:"parse",value:function(A,q,$){switch(q){case"s":return Lr(Er.second,A);case"so":return $.ordinalNumber(A,{unit:"second"});default:return Hr(q.length,A)}}},{key:"validate",value:function(A,q){return q>=0&&q<=59}},{key:"set",value:function(A,q,$){return A.setUTCSeconds($,0),A}}]),M}(Oe),Ms=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",30),nn(cn(L),"incompatibleTokens",["t","T"]),L}return nr(M,[{key:"parse",value:function(A,q){return vi(Hr(q.length,A),function(mn){return Math.floor(mn*Math.pow(10,3-q.length))})}},{key:"set",value:function(A,q,$){return A.setUTCMilliseconds($),A}}]),M}(Oe),is=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",10),nn(cn(L),"incompatibleTokens",["t","T","x"]),L}return nr(M,[{key:"parse",value:function(A,q){switch(q){case"X":return Mi(pi_basicOptionalMinutes,A);case"XX":return Mi(pi_basic,A);case"XXXX":return Mi(pi_basicOptionalSeconds,A);case"XXXXX":return Mi(pi_extendedOptionalSeconds,A);default:return Mi(pi_extended,A)}}},{key:"set",value:function(A,q,$){return q.timestampIsSet?A:new Date(A.getTime()-$)}}]),M}(Oe),Bi=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",10),nn(cn(L),"incompatibleTokens",["t","T","X"]),L}return nr(M,[{key:"parse",value:function(A,q){switch(q){case"x":return Mi(pi_basicOptionalMinutes,A);case"xx":return Mi(pi_basic,A);case"xxxx":return Mi(pi_basicOptionalSeconds,A);case"xxxxx":return Mi(pi_extendedOptionalSeconds,A);default:return Mi(pi_extended,A)}}},{key:"set",value:function(A,q,$){return q.timestampIsSet?A:new Date(A.getTime()-$)}}]),M}(Oe),Jr=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",40),nn(cn(L),"incompatibleTokens","*"),L}return nr(M,[{key:"parse",value:function(A){return Li(A)}},{key:"set",value:function(A,q,$){return[new Date(1e3*$),{timestampIsSet:!0}]}}]),M}(Oe),lo=function(ee){Hn(M,ee);var U=lr(M);function M(){var L;Wt(this,M);for(var A=arguments.length,q=new Array(A),$=0;$<A;$++)q[$]=arguments[$];return nn(cn(L=U.call.apply(U,[this].concat(q))),"priority",20),nn(cn(L),"incompatibleTokens","*"),L}return nr(M,[{key:"parse",value:function(A){return Li(A)}},{key:"set",value:function(A,q,$){return[new Date($),{timestampIsSet:!0}]}}]),M}(Oe),Si={G:new At,y:new _s,Y:new _i,R:new Ps,u:new ea,Q:new Vs,q:new ks,M:new Fo,L:new As,w:new qo,I:new Lo,d:new ta,D:new Ga,E:new Wa,e:new Hs,c:new Ts,i:new to,a:new ws,b:new xs,B:new na,h:new Ka,H:new ra,K:new Xi,k:new Sa,m:new ia,s:new Yr,S:new Ms,X:new is,x:new Bi,t:new Jr,T:new lo},Yi=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ua=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ai=/^'([^]*?)'?$/,oa=/''/g,Es=/\S/,Rs=/[a-zA-Z]/;var Co=z(3187);class ma{constructor(U,M){this.format=U,this.localeId=M,this.regex=null,this.matchMap={hour:null,minute:null,second:null,periodNarrow:null,periodWide:null,periodAbbreviated:null},this.genRegexp()}toDate(U){const M=this.getTimeResult(U),L=new Date;return(0,Co.DX)(M?.hour)&&L.setHours(M.hour),(0,Co.DX)(M?.minute)&&L.setMinutes(M.minute),(0,Co.DX)(M?.second)&&L.setSeconds(M.second),1===M?.period&&L.getHours()<12&&L.setHours(L.getHours()+12),L}getTimeResult(U){const M=this.regex.exec(U);let L=null;return M?((0,Co.DX)(this.matchMap.periodNarrow)&&(L=(0,De.ol)(this.localeId,De.x.Format,De.Tn.Narrow).indexOf(M[this.matchMap.periodNarrow+1])),(0,Co.DX)(this.matchMap.periodWide)&&(L=(0,De.ol)(this.localeId,De.x.Format,De.Tn.Wide).indexOf(M[this.matchMap.periodWide+1])),(0,Co.DX)(this.matchMap.periodAbbreviated)&&(L=(0,De.ol)(this.localeId,De.x.Format,De.Tn.Abbreviated).indexOf(M[this.matchMap.periodAbbreviated+1])),{hour:(0,Co.DX)(this.matchMap.hour)?Number.parseInt(M[this.matchMap.hour+1],10):null,minute:(0,Co.DX)(this.matchMap.minute)?Number.parseInt(M[this.matchMap.minute+1],10):null,second:(0,Co.DX)(this.matchMap.second)?Number.parseInt(M[this.matchMap.second+1],10):null,period:L}):null}genRegexp(){let U=this.format.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&");const M=/h{1,2}/i,L=/m{1,2}/,A=/s{1,2}/,q=/aaaaa/,$=/aaaa/,Nt=/a{1,3}/,mn=M.exec(this.format),$n=L.exec(this.format),Ur=A.exec(this.format),kr=q.exec(this.format);let ci=null,Kr=null;kr||(ci=$.exec(this.format)),!ci&&!kr&&(Kr=Nt.exec(this.format)),[mn,$n,Ur,kr,ci,Kr].filter(Bo=>!!Bo).sort((Bo,ji)=>Bo.index-ji.index).forEach((Bo,ji)=>{switch(Bo){case mn:this.matchMap.hour=ji,U=U.replace(M,"(\\d{1,2})");break;case $n:this.matchMap.minute=ji,U=U.replace(L,"(\\d{1,2})");break;case Ur:this.matchMap.second=ji,U=U.replace(A,"(\\d{1,2})");break;case kr:this.matchMap.periodNarrow=ji;const Mo=(0,De.ol)(this.localeId,De.x.Format,De.Tn.Narrow).join("|");U=U.replace(q,`(${Mo})`);break;case ci:this.matchMap.periodWide=ji;const Ro=(0,De.ol)(this.localeId,De.x.Format,De.Tn.Wide).join("|");U=U.replace($,`(${Ro})`);break;case Kr:this.matchMap.periodAbbreviated=ji;const io=(0,De.ol)(this.localeId,De.x.Format,De.Tn.Abbreviated).join("|");U=U.replace(Nt,`(${io})`)}}),this.regex=new RegExp(U)}}var Zo={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"},CronExpression:{cronError:"Invalid cron expression",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",week:"week",secondError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",minuteError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",hourError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-23</span>Allowable range</p>",dayError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-31</span>Allowable range</p>",monthError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-12</span>Allowable range</p>",weekError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><span>?</span> Not specify</p><p><p><span>0-7</span>Allowable range (0 represents Sunday, 1-7 are Monday to Sunday)</p>"},QRCode:{expired:"QR code expired",refresh:"Refresh"}},kt={locale:"zh-cn",Pagination:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},DatePicker:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},TimePicker:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]},Calendar:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},global:{placeholder:"\u8bf7\u9009\u62e9"},Table:{filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",filterEmptyText:"\u65e0\u7b5b\u9009\u9879",selectAll:"\u5168\u9009\u5f53\u9875",selectInvert:"\u53cd\u9009\u5f53\u9875",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5e8f",expand:"\u5c55\u5f00\u884c",collapse:"\u5173\u95ed\u884c",triggerDesc:"\u70b9\u51fb\u964d\u5e8f",triggerAsc:"\u70b9\u51fb\u5347\u5e8f",cancelSort:"\u53d6\u6d88\u6392\u5e8f",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7b5b\u9009\u9879\u4e2d\u641c\u7d22",selectNone:"\u6e05\u7a7a\u6240\u6709"},Modal:{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},Popconfirm:{cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},Transfer:{searchPlaceholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5f53\u9875",removeCurrent:"\u5220\u9664\u5f53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90e8",selectInvert:"\u53cd\u9009\u5f53\u9875"},Upload:{uploading:"\u6587\u4ef6\u4e0a\u4f20\u4e2d",removeFile:"\u5220\u9664\u6587\u4ef6",uploadError:"\u4e0a\u4f20\u9519\u8bef",previewFile:"\u9884\u89c8\u6587\u4ef6",downloadFile:"\u4e0b\u8f7d\u6587\u4ef6"},Empty:{description:"\u6682\u65e0\u6570\u636e"},Icon:{icon:"\u56fe\u6807"},Text:{edit:"\u7f16\u8f91",copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00"},PageHeader:{back:"\u8fd4\u56de"},Image:{preview:"\u9884\u89c8"},CronExpression:{cronError:"cron \u8868\u8fbe\u5f0f\u4e0d\u5408\u6cd5",second:"\u79d2",minute:"\u5206\u949f",hour:"\u5c0f\u65f6",day:"\u65e5",month:"\u6708",week:"\u5468",secondError:"<p><span>*</span>\u4efb\u610f\u503c</p><p><span>,</span>\u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span>\u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span>\u5e73\u5747\u5206\u914d</p><p><span>0-59</span>\u5141\u8bb8\u8303\u56f4</p>",minuteError:"<p><span>*</span>\u4efb\u610f\u503c</p><p><span>,</span>\u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span>\u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span>\u5e73\u5747\u5206\u914d</p><p><span>0-59</span>\u5141\u8bb8\u8303\u56f4</p>",hourError:"<p><span>*</span> \u4efb\u610f\u503c</p><p><span>,</span> \u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span> \u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span> \u5e73\u5747\u5206\u914d</p><p><span>0-23</span> \u5141\u8bb8\u8303\u56f4</p>",dayError:"<p><span>*</span> \u4efb\u610f\u503c</p><p><span>,</span> \u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span> \u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span> \u5e73\u5747\u5206\u914d</p><p><span>1-31</span> \u5141\u8bb8\u8303\u56f4</p>",monthError:"<p><span>*</span> \u4efb\u610f\u503c</p><p><span>,</span> \u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span> \u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span> \u5e73\u5747\u5206\u914d</p><p><span>1-12</span> \u5141\u8bb8\u8303\u56f4</p>",weekError:"<p><span>*</span> \u4efb\u610f\u503c</p><p><span>,</span> \u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span> \u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span> \u5e73\u5747\u5206\u914d</p><p><span>?</span> \u4e0d\u6307\u5b9a</p><p><span>0-7</span> \u5141\u8bb8\u8303\u56f4\uff080\u4ee3\u8868\u5468\u65e5\uff0c1-7\u4f9d\u6b21\u4e3a\u5468\u4e00\u5230\u5468\u65e5\uff09</p>"},QRCode:{expired:"\u4e8c\u7ef4\u7801\u8fc7\u671f",refresh:"\u70b9\u51fb\u5237\u65b0"}};const mr=new D.OlP("nz-i18n"),Za=new D.OlP("nz-date-locale");let hs=(()=>{class ee{constructor(M,L){this._change=new J.X(this._locale),this.setLocale(M||kt),this.setDateLocale(L||null)}get localeChange(){return this._change.asObservable()}translate(M,L){let A=this._getObjectPath(this._locale,M);return"string"==typeof A?(L&&Object.keys(L).forEach(q=>A=A.replace(new RegExp(`%${q}%`,"g"),L[q])),A):M}setLocale(M){this._locale&&this._locale.locale===M.locale||(this._locale=M,this._change.next(M))}getLocale(){return this._locale}getLocaleId(){return this._locale?this._locale.locale:""}setDateLocale(M){this.dateLocale=M}getDateLocale(){return this.dateLocale}getLocaleData(M,L){const A=M?this._getObjectPath(this._locale,M):this._locale;return!A&&!L&&(0,de.ZK)(`Missing translations for "${M}" in language "${this._locale.locale}".\nYou can use "NzI18nService.setLocale" as a temporary fix.\nWelcome to submit a pull request to help us optimize the translations!\nhttps://github.com/NG-ZORRO/ng-zorro-antd/blob/master/CONTRIBUTING.md`),A||L||this._getObjectPath(Zo,M)||{}}_getObjectPath(M,L){let A=M;const q=L.split("."),$=q.length;let Nt=0;for(;A&&Nt<$;)A=A[q[Nt++]];return Nt===$?A:null}}return ee.\u0275fac=function(M){return new(M||ee)(D.LFG(mr,8),D.LFG(Za,8))},ee.\u0275prov=D.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})(),Ai=(()=>{class ee{constructor(M){this._locale=M}transform(M,L){return this._locale.translate(M,L)}}return ee.\u0275fac=function(M){return new(M||ee)(D.Y36(hs,16))},ee.\u0275pipe=D.Yjl({name:"nzI18n",type:ee,pure:!0}),ee})(),sa=(()=>{class ee{}return ee.\u0275fac=function(M){return new(M||ee)},ee.\u0275mod=D.oAB({type:ee}),ee.\u0275inj=D.cJS({}),ee})();const ho=new D.OlP("date-config"),co={firstDayOfWeek:void 0};let Is=(()=>{class ee{constructor(M,L){this.i18n=M,this.config=L,this.config=function Ca(ee){return{...co,...ee}}(this.config)}}return ee.\u0275fac=function(M){return new(M||ee)(D.LFG(hs),D.LFG(ho,8))},ee.\u0275prov=D.Yz7({token:ee,factory:function(M){let L=null;return L=M?new M:function $s(ee,U){const M=ee.get(hs);return M.getDateLocale()?new aa(M,U):new Io(M,U)}(D.LFG(D.zs3),D.LFG(ho,8)),L},providedIn:"root"}),ee})();class aa extends Is{getISOWeek(U){return function Rt(ee){(0,ge.Z)(1,arguments);var U=(0,Ae.Z)(ee),M=Ye(U).getTime()-function Ue(ee){(0,ge.Z)(1,arguments);var U=function vt(ee){(0,ge.Z)(1,arguments);var U=(0,Ae.Z)(ee),M=U.getFullYear(),L=new Date(0);L.setFullYear(M+1,0,4),L.setHours(0,0,0,0);var A=Ye(L),q=new Date(0);q.setFullYear(M,0,4),q.setHours(0,0,0,0);var $=Ye(q);return U.getTime()>=A.getTime()?M+1:U.getTime()>=$.getTime()?M:M-1}(ee),M=new Date(0);return M.setFullYear(U,0,4),M.setHours(0,0,0,0),Ye(M)}(U).getTime();return Math.round(M/Ft)+1}(U)}getFirstDayOfWeek(){let U;try{U=this.i18n.getDateLocale().options.weekStartsOn}catch{U=1}return null==this.config.firstDayOfWeek?U:this.config.firstDayOfWeek}format(U,M){return U?function bo(ee,U,M){var L,A,q,$,Nt,mn,$n,Ur,kr,ci,Kr,bi,Bo,ji,Mo,Ro,io,Xo;(0,ge.Z)(2,arguments);var Ho=String(U),Ds=Re(),Fs=null!==(L=null!==(A=M?.locale)&&void 0!==A?A:Ds.locale)&&void 0!==L?L:Lt,yo=Ie(null!==(q=null!==($=null!==(Nt=null!==(mn=M?.firstWeekContainsDate)&&void 0!==mn?mn:null==M||null===($n=M.locale)||void 0===$n||null===(Ur=$n.options)||void 0===Ur?void 0:Ur.firstWeekContainsDate)&&void 0!==Nt?Nt:Ds.firstWeekContainsDate)&&void 0!==$?$:null===(kr=Ds.locale)||void 0===kr||null===(ci=kr.options)||void 0===ci?void 0:ci.firstWeekContainsDate)&&void 0!==q?q:1);if(!(yo>=1&&yo<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var cs=Ie(null!==(Kr=null!==(bi=null!==(Bo=null!==(ji=M?.weekStartsOn)&&void 0!==ji?ji:null==M||null===(Mo=M.locale)||void 0===Mo||null===(Ro=Mo.options)||void 0===Ro?void 0:Ro.weekStartsOn)&&void 0!==Bo?Bo:Ds.weekStartsOn)&&void 0!==bi?bi:null===(io=Ds.locale)||void 0===io||null===(Xo=io.options)||void 0===Xo?void 0:Xo.weekStartsOn)&&void 0!==Kr?Kr:0);if(!(cs>=0&&cs<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!Fs.localize)throw new RangeError("locale must contain localize property");if(!Fs.formatLong)throw new RangeError("locale must contain formatLong property");var es=(0,Ae.Z)(ee);if(!(0,Pt.Z)(es))throw new RangeError("Invalid time value");var Aa=Mt(es,Kn(es)),qn={firstWeekContainsDate:yo,weekStartsOn:cs,locale:Fs,_originalDate:es},Ss=Ho.match(tr).map(function(xi){var ms=xi[0];return"p"===ms||"P"===ms?(0,jt[ms])(xi,Fs.formatLong):xi}).join("").match(en).map(function(xi){if("''"===xi)return"'";var ms=xi[0];if("'"===ms)return function Oo(ee){var U=ee.match(xr);return U?U[1].replace(yi,"'"):ee}(xi);var Pi=Ht[ms];if(Pi)return!(null!=M&&M.useAdditionalWeekYearTokens)&&Jn(xi)&&Tr(xi,U,String(ee)),!(null!=M&&M.useAdditionalDayOfYearTokens)&&Or(xi)&&Tr(xi,U,String(ee)),Pi(Aa,xi,Fs.localize,qn);if(ms.match(so))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ms+"`");return xi}).join("");return Ss}(U,M,{locale:this.i18n.getDateLocale()}):""}parseDate(U,M){return function no(ee,U,M,L){var A,q,$,Nt,mn,$n,Ur,kr,ci,Kr,bi,Bo,ji,Mo,Ro,io,Xo,Ho;(0,ge.Z)(3,arguments);var Ds=String(ee),Fs=String(U),yo=Re(),cs=null!==(A=null!==(q=L?.locale)&&void 0!==q?q:yo.locale)&&void 0!==A?A:Lt;if(!cs.match)throw new RangeError("locale must contain match property");var es=Ie(null!==($=null!==(Nt=null!==(mn=null!==($n=L?.firstWeekContainsDate)&&void 0!==$n?$n:null==L||null===(Ur=L.locale)||void 0===Ur||null===(kr=Ur.options)||void 0===kr?void 0:kr.firstWeekContainsDate)&&void 0!==mn?mn:yo.firstWeekContainsDate)&&void 0!==Nt?Nt:null===(ci=yo.locale)||void 0===ci||null===(Kr=ci.options)||void 0===Kr?void 0:Kr.firstWeekContainsDate)&&void 0!==$?$:1);if(!(es>=1&&es<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Ci=Ie(null!==(bi=null!==(Bo=null!==(ji=null!==(Mo=L?.weekStartsOn)&&void 0!==Mo?Mo:null==L||null===(Ro=L.locale)||void 0===Ro||null===(io=Ro.options)||void 0===io?void 0:io.weekStartsOn)&&void 0!==ji?ji:yo.weekStartsOn)&&void 0!==Bo?Bo:null===(Xo=yo.locale)||void 0===Xo||null===(Ho=Xo.options)||void 0===Ho?void 0:Ho.weekStartsOn)&&void 0!==bi?bi:0);if(!(Ci>=0&&Ci<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===Fs)return""===Ds?(0,Ae.Z)(M):new Date(NaN);var Pi,Aa={firstWeekContainsDate:es,weekStartsOn:Ci,locale:cs},qn=[new Be],Ss=Fs.match(Ua).map(function(xn){var Ei=xn[0];return Ei in jt?(0,jt[Ei])(xn,cs.formatLong):xn}).join("").match(Yi),xi=[],ms=pr(Ss);try{var sn=function(){var Ei=Pi.value;!(null!=L&&L.useAdditionalWeekYearTokens)&&Jn(Ei)&&Tr(Ei,Fs,ee),(null==L||!L.useAdditionalDayOfYearTokens)&&Or(Ei)&&Tr(Ei,Fs,ee);var zo=Ei[0],hl=Si[zo];if(hl){var Gs=hl.incompatibleTokens;if(Array.isArray(Gs)){var Va=xi.find(function(_a){return Gs.includes(_a.token)||_a.token===zo});if(Va)throw new RangeError("The format string mustn't contain `".concat(Va.fullToken,"` and `").concat(Ei,"` at the same time"))}else if("*"===hl.incompatibleTokens&&xi.length>0)throw new RangeError("The format string mustn't contain `".concat(Ei,"` and any other token at the same time"));xi.push({token:zo,fullToken:Ei});var il=hl.run(Ds,Ei,cs.match,Aa);if(!il)return{v:new Date(NaN)};qn.push(il.setter),Ds=il.rest}else{if(zo.match(Rs))throw new RangeError("Format string contains an unescaped latin alphabet character `"+zo+"`");if("''"===Ei?Ei="'":"'"===zo&&(Ei=function er(ee){return ee.match(ai)[1].replace(oa,"'")}(Ei)),0!==Ds.indexOf(Ei))return{v:new Date(NaN)};Ds=Ds.slice(Ei.length)}};for(ms.s();!(Pi=ms.n()).done;){var oo=sn();if("object"===(0,Zi.Z)(oo))return oo.v}}catch(xn){ms.e(xn)}finally{ms.f()}if(Ds.length>0&&Es.test(Ds))return new Date(NaN);var va=qn.map(function(xn){return xn.priority}).sort(function(xn,Ei){return Ei-xn}).filter(function(xn,Ei,zo){return zo.indexOf(xn)===Ei}).map(function(xn){return qn.filter(function(Ei){return Ei.priority===xn}).sort(function(Ei,zo){return zo.subPriority-Ei.subPriority})}).map(function(xn){return xn[0]}),Qa=(0,Ae.Z)(M);if(isNaN(Qa.getTime()))return new Date(NaN);var Dn,Yn=Mt(Qa,Kn(Qa)),Gn={},xa=pr(va);try{for(xa.s();!(Dn=xa.n()).done;){var gt=Dn.value;if(!gt.validate(Yn,Aa))return new Date(NaN);var Zt=gt.set(Yn,Gn,Aa);Array.isArray(Zt)?(Yn=Zt[0],Dr(Gn,Zt[1])):Yn=Zt}}catch(xn){xa.e(xn)}finally{xa.f()}return Yn}(U,M,new Date,{locale:this.i18n.getDateLocale(),weekStartsOn:this.getFirstDayOfWeek()})}parseTime(U,M){return this.parseDate(U,M)}}class Io extends Is{getISOWeek(U){return+this.format(U,"w")}getFirstDayOfWeek(){if(void 0===this.config.firstDayOfWeek){const U=this.i18n.getLocaleId();return U&&["zh-cn","zh-tw"].indexOf(U.toLowerCase())>-1?1:0}return this.config.firstDayOfWeek}format(U,M){return U?(0,De.p6)(U,M,this.i18n.getLocaleId()):""}parseDate(U){return new Date(U)}parseTime(U,M){return new ma(M,this.i18n.getLocaleId()).toDate(U)}}},5861:(_n,nt,z)=>{function D(de,De,Ae,Ie,ge,se,Re){try{var _e=de[se](Re),Ee=_e.value}catch(Ye){return void Ae(Ye)}_e.done?De(Ee):Promise.resolve(Ee).then(Ie,ge)}function J(de){return function(){var De=this,Ae=arguments;return new Promise(function(Ie,ge){var se=de.apply(De,Ae);function Re(Ee){D(se,Ie,ge,Re,_e,"next",Ee)}function _e(Ee){D(se,Ie,ge,Re,_e,"throw",Ee)}Re(void 0)})}}z.d(nt,{Z:()=>J})},86:(_n,nt,z)=>{function D(J){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(J)}z.d(nt,{Z:()=>D})},7582:(_n,nt,z)=>{function De(tt,ut){var ht={};for(var Xe in tt)Object.prototype.hasOwnProperty.call(tt,Xe)&&ut.indexOf(Xe)<0&&(ht[Xe]=tt[Xe]);if(null!=tt&&"function"==typeof Object.getOwnPropertySymbols){var Ht=0;for(Xe=Object.getOwnPropertySymbols(tt);Ht<Xe.length;Ht++)ut.indexOf(Xe[Ht])<0&&Object.prototype.propertyIsEnumerable.call(tt,Xe[Ht])&&(ht[Xe[Ht]]=tt[Xe[Ht]])}return ht}function Ae(tt,ut,ht,Xe){var Cn,Ht=arguments.length,Ot=Ht<3?ut:null===Xe?Xe=Object.getOwnPropertyDescriptor(ut,ht):Xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ot=Reflect.decorate(tt,ut,ht,Xe);else for(var In=tt.length-1;In>=0;In--)(Cn=tt[In])&&(Ot=(Ht<3?Cn(Ot):Ht>3?Cn(ut,ht,Ot):Cn(ut,ht))||Ot);return Ht>3&&Ot&&Object.defineProperty(ut,ht,Ot),Ot}function Ye(tt,ut,ht,Xe){return new(ht||(ht=Promise))(function(Ot,Cn){function In(Kn){try{jt(Xe.next(Kn))}catch(Un){Cn(Un)}}function ri(Kn){try{jt(Xe.throw(Kn))}catch(Un){Cn(Un)}}function jt(Kn){Kn.done?Ot(Kn.value):function Ht(Ot){return Ot instanceof ht?Ot:new ht(function(Cn){Cn(Ot)})}(Kn.value).then(In,ri)}jt((Xe=Xe.apply(tt,ut||[])).next())})}function _t(tt){return this instanceof _t?(this.v=tt,this):new _t(tt)}function We(tt,ut,ht){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ht,Xe=ht.apply(tt,ut||[]),Ot=[];return Ht={},Cn("next"),Cn("throw"),Cn("return"),Ht[Symbol.asyncIterator]=function(){return this},Ht;function Cn(fr){Xe[fr]&&(Ht[fr]=function(Or){return new Promise(function(Jn,Tr){Ot.push([fr,Or,Jn,Tr])>1||In(fr,Or)})})}function In(fr,Or){try{!function ri(fr){fr.value instanceof _t?Promise.resolve(fr.value.v).then(jt,Kn):Un(Ot[0][2],fr)}(Xe[fr](Or))}catch(Jn){Un(Ot[0][3],Jn)}}function jt(fr){In("next",fr)}function Kn(fr){In("throw",fr)}function Un(fr,Or){fr(Or),Ot.shift(),Ot.length&&In(Ot[0][0],Ot[0][1])}}function xt(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ht,ut=tt[Symbol.asyncIterator];return ut?ut.call(tt):(tt=function Rt(tt){var ut="function"==typeof Symbol&&Symbol.iterator,ht=ut&&tt[ut],Xe=0;if(ht)return ht.call(tt);if(tt&&"number"==typeof tt.length)return{next:function(){return tt&&Xe>=tt.length&&(tt=void 0),{value:tt&&tt[Xe++],done:!tt}}};throw new TypeError(ut?"Object is not iterable.":"Symbol.iterator is not defined.")}(tt),ht={},Xe("next"),Xe("throw"),Xe("return"),ht[Symbol.asyncIterator]=function(){return this},ht);function Xe(Ot){ht[Ot]=tt[Ot]&&function(Cn){return new Promise(function(In,ri){!function Ht(Ot,Cn,In,ri){Promise.resolve(ri).then(function(jt){Ot({value:jt,done:In})},Cn)}(In,ri,(Cn=tt[Ot](Cn)).done,Cn.value)})}}}z.d(nt,{FC:()=>We,KL:()=>xt,_T:()=>De,gn:()=>Ae,mG:()=>Ye,qq:()=>_t}),"function"==typeof SuppressedError&&SuppressedError}},_n=>{_n(_n.s=4483)}]);